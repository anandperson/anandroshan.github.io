(this["webpackJsonpreact-redux-realworld-example-app"]=this["webpackJsonpreact-redux-realworld-example-app"]||[]).push([[72],{1273:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a.n(n),c=a(13),s=a(53),o=a(29),i=a(30),l=a(32),u=a(31),m=a(0),d=a.n(m),p=a(15),h=a(33),f=a(231),b=a(232),g=a(64),v=a(233),w=a(197),E=a(65),j=(a(485),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.checkWallet()},n.checkWallet=function(){Object(w.a)().then((function(e){n.setState({loading:!1},(function(){n.getDetails()}))}),(function(e){n.setState({loading:!1,error:"Authentication Error!"})}))},n.handleChange=function(e){var t=e.target.value,a=e.target.getAttribute("name");n.setState(Object(s.a)({},a,t))},n.getDetails=function(){Object(E.u)().then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({loading:!1,tfa:t.data.tfa_url,status:t.data.tfa_status});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){n.setState({loading:!1}),Object(p.a)(!0,"Error getting your data, try again")}))},n.submit=function(e){if(e.preventDefault(),console.log(n.state),null==n.state.code||""==n.state.code)Object(p.a)(!0,"Please enter the password");else if(n.state.code!=n.state.code2)Object(p.a)(!0,"Confirm Password does not match");else{Object(p.b)("Updating...");var t={withPassword:n.state.code};Object(E.F)(t).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log(t),1==t.status?(Object(p.a)(!0,t.message,"success"),n.props.history.push("/wallet/withdraw")):Object(p.a)(!0,t.message)}catch(a){Object(p.a)(!0,void 0==a?"Error":a.toString())}Object(p.b)();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(p.a)(!0,void 0==e?"Error":e.toString()),Object(p.b)()}))}},n.state={attempt:0,reset:!1,tfa:"",status:0,code:"",code2:"",loading:!0},n}return Object(i.a)(a,[{key:"render",value:function(){return d.a.createElement("div",{className:"container my-wall-container depositPage"},d.a.createElement("div",{className:"row mt-2"},d.a.createElement("div",{className:"col-sm empty-container-with-out-border left-column"},d.a.createElement(f.a,this.props)),this.state.loading&&d.a.createElement("div",{className:"col-sm empty-container-with-border center-column text-center"},d.a.createElement(g.a,null)),!this.state.loading&&d.a.createElement("div",{className:"col-sm empty-container-with-border center-column text-center"},d.a.createElement(b.a,this.props),d.a.createElement("div",{className:"p-2 pt-4"},d.a.createElement("p",{className:"subtitle text-left"},"Update Withdrawal Password"),d.a.createElement("form",{action:"",onSubmit:this.submit,method:"post"},d.a.createElement("div",{className:"input-group mb-3"},d.a.createElement("div",null,d.a.createElement("input",{type:"password",required:!0,name:"code",placeholder:"Password",value:this.state.code,onChange:this.handleChange,className:"form-control"}))),d.a.createElement("div",{className:"input-group mb-3"},d.a.createElement("div",null,d.a.createElement("input",{type:"password",required:!0,name:"code2",placeholder:"Confirm Password",value:this.state.code2,onChange:this.handleChange,className:"form-control"}))),d.a.createElement("div",{className:"input-group mb-3"},d.a.createElement(h.a,{variant:"primary",size:"big"},"Update"))))),d.a.createElement("div",{className:"col-sm empty-container-with-out-border right-column"},d.a.createElement(v.a,null))))}}]),a}(d.a.Component));t.default=j}}]);
//# sourceMappingURL=72.7793a0c5.chunk.js.map