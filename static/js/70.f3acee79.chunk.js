(this["webpackJsonpreact-redux-realworld-example-app"]=this["webpackJsonpreact-redux-realworld-example-app"]||[]).push([[70],{1285:function(e,t,a){"use strict";a.r(t);var n=a(53),o=a(29),r=a(30),c=a(32),s=a(31),l=a(0),i=a.n(l),m=a(97),d=a(8),u=a(7),p=a.n(u),h=a(13),b=a(38),f=a(35),y=a(74),v=a(810),g=(a(788),a(783)),w=(a(787),a(73),function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).getPost=function(){Object(y.e)({postid:r.props.match.params.postid,userid:r.props.currentUser&&r.props.currentUser._id?r.props.currentUser._id:0}).then(function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({posts:t.post,showSkeleton:!1,postLoaded:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){r.setState({showSkeleton:!1})}))},r.loadFunc=function(){r.state.showSkeleton||(r.setState({showSkeleton:!0}),r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{page:e.page+1,showSkeleton:!0})}),(function(){r.getPaginatePost()})))},r.commentLike=function(e){Object(f.v)({commentId:e},!0).then(function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Like"==t.message||t.message;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},r.commentReply=function(e,t,a,n){Object(f.E)({commentId:e,comment:t},!0).then(function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(t.comment,a);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},r.likePost=function(e,t){Object(f.w)({postid:e},!0).then(function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},r.postCmt=function(e){var t={postid:e,comment:r.state.commentText};Object(f.y)(t).then(function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},r.showComments=function(e){Object(f.f)({postid:e},!0).then(function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({showComments:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},r.handleChange=function(e,t){var a=e.target,o=a.name,c=a.value;"replyCmt"!=e.target.name?r.setState(Object(n.a)({},o,c),(function(){})):r.setState(Object(n.a)({},"".concat(o),Object(d.a)(Object(d.a)({},r.state.replyCmt),{},Object(n.a)({},t,c))),(function(){}))},r.getSkeletonContent=function(){return i.a.createElement("div",{className:"row empty-inner-container-with-border post"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},i.a.createElement("ul",{className:"list-group w-100 m-0"},i.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},i.a.createElement(g.a,Object.assign({speed:2,width:610,height:350,viewBox:"0 0 610 350",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},r.props),i.a.createElement("rect",{x:"48",y:"8",rx:"3",ry:"3",width:"88",height:"6"}),i.a.createElement("rect",{x:"48",y:"26",rx:"3",ry:"3",width:"52",height:"6"}),i.a.createElement("rect",{x:"0",y:"56",rx:"3",ry:"3",width:"410",height:"6"}),i.a.createElement("rect",{x:"0",y:"72",rx:"3",ry:"3",width:"380",height:"6"}),i.a.createElement("rect",{x:"0",y:"88",rx:"3",ry:"3",width:"178",height:"6"}),i.a.createElement("circle",{cx:"20",cy:"20",r:"20"}),i.a.createElement("rect",{x:"0",y:"88",rx:"3",ry:"3",width:"900",height:"1000"})))))))},r.state={posts:[],page:1,limit:5,hasMore:!0,postLoaded:!1,showSkeleton:!1,showComments:!1,commentText:""},r.loadFunc=r.loadFunc.bind(Object(b.a)(r)),r.likePost=r.likePost.bind(Object(b.a)(r)),r.getPost=r.getPost.bind(Object(b.a)(r)),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.getPost()}},{key:"componentDidUpdate",value:function(e){void 0!=typeof this.props.match&&void 0!=typeof e.match&&e.match.params.postid!==this.props.match.params.postid&&this.getPost()}},{key:"render",value:function(){var e=this,t=this.state,a=t.posts;t.showComments,t.commentText;return i.a.createElement("div",null,!this.postLoaded&&a.length>0?i.a.createElement(v.a,{post:a[0],commentLike:this.commentLike,commentReply:this.commentReply,key:0,currentUser:this.props.currentUser,single:!0}):null,this.state.showSkeleton&&!this.state.postLoaded&&i.a.createElement("div",null,Array(5).fill().map((function(t,a){return e.getSkeletonContent()}))))}}]),a}(i.a.Component)),E=a(24),j=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).setStateFunc=function(e,t){r.setState(Object(n.a)({},e,t))},r.state={latestpost:{}},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(m.a,{appName:this.props.appName,currentUser:this.props.currentUser}),i.a.createElement("div",{className:"container my-wall-container"},i.a.createElement("div",{className:"row mt-2"},i.a.createElement("div",{className:"col-sm empty-container-with-out-border left-column"}),i.a.createElement("div",{className:"col-sm empty-container-with-out-border center-column"},i.a.createElement(w,Object.assign({setState:this.setStateFunc,latestpost:this.state.latestpost},this.props))),i.a.createElement("div",{className:"col-sm empty-container-with-out-border right-column"}))),i.a.createElement("div",{id:"myModal",className:"modal fade post-image-modal",tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-body"},i.a.createElement("img",{src:Object(E.a)("post-image@2x.png"),className:"img-responsive"}))))),i.a.createElement("div",{className:"modal fade dropdownModal",id:"dropdownHideModal",tabIndex:"-1",role:"dialog","aria-labelledby":"dropdownHideModalCenterTitle","aria-hidden":"true"},i.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header d-flex align-items-center"},i.a.createElement("img",{src:Object(E.a)("plus-icon.png"),alt:""}),i.a.createElement("h5",{className:"modal-title",id:"dropdownHideModalLongTitle"},"Confirmation"),i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},i.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),i.a.createElement("div",{className:"modal-body"},i.a.createElement("p",null,"Do you really want to see this post ever again?")),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("button",{type:"button",className:"btn btn-secondary cancel-btn","data-dismiss":"modal"},"Cancel"),i.a.createElement("button",{type:"button",className:"btn btn-primary yes-btn"},"Yes"))))),i.a.createElement("div",{className:"modal fade dropdownModal",id:"dropdownRemoveModal",tabIndex:"-1",role:"dialog","aria-labelledby":"dropdownRemoveModalCenterTitle","aria-hidden":"true"},i.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header d-flex align-items-center"},i.a.createElement("img",{src:Object(E.a)("plus-icon.png"),alt:""}),i.a.createElement("h5",{className:"modal-title",id:"dropdownRemoveModalLongTitle"},"Confirmation"),i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},i.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),i.a.createElement("div",{className:"modal-body"},i.a.createElement("p",null,"Do you really want to remove this post?")),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("button",{type:"button",className:"btn btn-secondary cancel-btn","data-dismiss":"modal"},"Cancel"),i.a.createElement("button",{type:"button",className:"btn btn-primary yes-btn"},"Yes"))))))}}]),a}(i.a.Component);t.default=j}}]);
//# sourceMappingURL=70.f3acee79.chunk.js.map