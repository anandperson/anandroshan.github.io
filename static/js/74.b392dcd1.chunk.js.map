{"version":3,"sources":["pages/Wallet/transactions.js"],"names":["WalletTransactions","props","componentDidMount","checkWallet","walletCheck","then","resp","setState","status","undefined","data","sent","err","loading","error","getSentTransactions","a","received","getReceivedTransactions","changeTab","newValue","currentTab","state","attempt","content","className","this","tabs","length","map","el","i","receiveremail","currency","amount","note","formatDate","created_at","address","currencySymbol","type","date","hash","React","Component"],"mappings":"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","file":"static/js/74.b392dcd1.chunk.js","sourcesContent":["import React from 'react';\nimport WalletMenu from '../../components/Menu/WalletMenu';\nimport WalletMenuMobile from '../../components/Menu/WalletMenuMobile';\nimport Spinner from '../../components/Spinner/index';\nimport TabsUI from '../../components/Tabs/index';\nimport WalletAllBalance from '../../components/Wallet/allBalance';\nimport { formatDate } from '../../globalFunctions';\nimport walletCheck from '../../hooks/walletCheck';\nimport { getReceivedTransactions, getSentTransactions } from '../../http/wallet-calls';\nimport './styles.css';\n\nclass WalletTransactions extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            attempt:0,\n            content : 'loading',\n            currentTab: 0,\n            status:null,\n            sent:[],\n            received:[],\n            loading:true\n        };\n\n        \n    }\n\n    componentDidMount = () => {\n        \n        this.checkWallet();\n    };\n\n    checkWallet = () => {\n    \n        walletCheck().then(resp=>{\n            \n            this.setState({\n                status : (resp.data.status == undefined) ? '' : resp.data.status\n            }, () => {\n                // if(resp.data.status == 'Accept'){\n                this.sent();\n                //this.received();\n                // }\n            });\n        }, err => {\n            this.setState({\n                loading:false,\n                error: 'Authentication Error!'\n            })\n        })\n    };\n   \n\n    sent = () =>{\n        getSentTransactions().then(async resp => {\n            this.setState({\n                loading: false,\n                sent: resp.data,\n                error: ''\n            });\n        }, error => {\n            this.setState({\n                loading: false\n            });\n        });\n    }\n\n    received = () =>{\n        getReceivedTransactions().then(async resp => {\n            this.setState({\n                loading:false,\n                received: resp.data,\n                error: ''\n            });\n        }, error => {\n            this.setState({\n                loading: false\n            });\n        });\n    }\n\n    changeTab = (newValue) => {\n        this.setState({\n            loading:true,\n            currentTab: newValue\n        })\n        if(newValue == 0){\n            this.sent();\n        }else{\n            this.received();\n        }\n    };\n\n    render() {\n\n        return (\n            <div className=\"container my-wall-container transactionPage\">\n                <div className=\"row mt-2\">\n\n                    {/* <!-- left column --> */}\n                    <div className=\"col-sm empty-container-with-out-border left-column\">\n                        <WalletMenu {...this.props} />\n                    </div>\n                    {/* <!-- end left column --> */}\n\n                    {/* <!-- center column --> */}\n                    \n                    {/* {\n                        this.state.status != 'Accept' && !this.state.loading && <div className=\"col-sm empty-container-with-border center-column\">\n                            <p className=\"text-danger text-center mt-4\">Finish KYC to use this feature</p>\n                            <div className=\"text-center\">\n                                <A href=\"/wallet/verification\"><button className=\"btn btn-main\">Go to Verification</button></A>\n                            </div>\n                        </div>\n                    } */}\n                    {/* {\n  \"_id\": \"610eaf61c5d5a508f8e72ab9\",\n  \"note\": \"Blog Purchase\",\n  \"amount\": 1,\n  \"currency\": \"EUR\",\n  \"created_at\": \"2021-08-07T16:05:53.807Z\",\n  \"user\": \"ph3n0m\",\n  \"receiver\": \"evangeline1627803895\",\n  \"type\": \"Received\"\n} */}\n                     {\n                        <div className=\"col-sm empty-container-with-border center-column\">\n                    <WalletMenuMobile {...this.props} />\n                    <TabsUI tabs={['Sent', 'Received']}  className=\"noBorder\" currentTab={this.state.currentTab} changeTab={this.changeTab} />\n                    {\n                        this.state.currentTab == 0 && <div className=\"tabPanelItem \">\n                       {\n                       this.state.loading ? <div className=\"col-sm  center-column\"><Spinner /></div>\n                       :\n                       <div>\n                           {\n                               this.state.sent.length > 0 ?\n                               this.state.sent.map((el, i) => {\n                                   return <div className=\"trans-item\">\n                                       <div className=\"d-flex align-items-center justify-content-between\">\n                                       <div>\n                                           <label>To</label>\n                                           <strong className=\"text-big\">{el.receiveremail}</strong>\n                                        </div>\n                                        <div className=\"text-right\">\n                                            <label>Amount</label>\n                                       <strong className=\"text-big\">{el.currency+\" \"+el.amount}</strong>\n                                       </div>\n                                       </div>\n\n                                       <div className=\"d-flex align-items-center justify-content-between mt-2\">\n                                       <div>\n                                           <label>Note</label>\n                                           <div className=\"val\">{el.note}</div>\n                                        </div>\n                                        <div className=\"text-right\">\n                                            <label>Sent At</label>\n                                       <div className=\"val time\">{formatDate(el.created_at)}</div>\n                                       </div>\n                                       </div>\n                                       \n                                   </div>\n                               })\n                               :\n                               <p className=\"no-found\">No Data Found</p>\n                           }\n                       </div>\n                        }\n                        </div>\n                    }\n                      {\n                        this.state.currentTab == 1 && <div className=\"tabPanelItem \">\n                              {\n                       this.state.loading ? <div className=\"col-sm center-column\"><Spinner /></div>\n                       :\n                       <div>\n                           {/* {\n  \"_id\": \"6107cc0a64325713c03f8558\",\n  \"currencyName\": \"USDollar\",\n  \"currencySymbol\": \"USD\",\n  \"curnType\": 1,\n  \"amount\": 2,\n  \"hash\": \"178969\",\n  \"address\": \"\",\n  \"type\": \"deposit\",\n  \"depType\": 1,\n  \"image\": \"usd.svg\",\n  \"date\": \"2021-08-02T10:42:18.759Z\"\n} */}\n                                 {\n                               this.state.received.length > 0 ?\n                               this.state.received.map((el, i) => {\n                                   return <div className=\"trans-item\">\n                                       <div className=\"d-flex align-items-center justify-content-between\">\n                                       <div>\n                                           <label>From</label>\n                                           <strong className=\"val\">{el.address}</strong>\n                                        </div>\n                                        <div className=\"text-right\">\n                                            <label>Amount</label>\n                                       <strong className=\"text-big\">{el.currencySymbol+\" \"+el.amount}</strong>\n                                       </div>\n                                       </div>\n                                       \n                                       <div className=\"d-flex align-items-center justify-content-between mt-2\">\n                                       <div>\n                                           <label>Type</label>\n                                           <div className=\"val\">{el.type}</div>\n                                        </div>\n                                        <div className=\"text-right\">\n                                            <label>Sent At</label>\n                                       <div className=\"val time\">{formatDate(el.date)}</div>\n                                       </div>\n                                       </div>\n\n                                       <div className=\"d-flex align-items-center justify-content-between mt-2\">\n                                       <div>\n                                           <label>Tx Hash</label>\n                                           <strong className=\"text-big\">{el.hash}</strong>\n                                        </div>\n                                       </div>\n\n                                       \n                                   </div>\n                               })\n                               :\n                               <p className=\"no-found\">No Data Found</p>\n                           }\n                       </div>\n                        }\n                        </div>\n                    }\n                    {/* {\n                    this.state.resetExt ? <Spinner /> :\n                    <div className={\"tab row m--1 mt-2 bordered \"+(this.state.currentTab != 0 && \"d-none\" )}>\n                        \n                    </div>\n                    }\n                    \n                    {\n                        this.state.resetInt ? <Spinner /> :\n                    <div className={\"tab row m--1 mt-2 bordered \"+(this.state.currentTab == 0 && \"d-none\")}>\n                       \n                       \n                    </div>\n                    } */}\n                    </div>\n    }\n                    {/* <!-- end center column --> */}\n                    <div className=\"col-sm empty-container-with-out-border right-column\">\n                    <WalletAllBalance />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default WalletTransactions;\n"],"sourceRoot":""}