(this["webpackJsonpreact-redux-realworld-example-app"]=this["webpackJsonpreact-redux-realworld-example-app"]||[]).push([[45],{1235:function(e,t,a){"use strict";a.r(t);var n=a(7),o=a.n(n),r=a(13),c=a(53),l=a(29),i=a(30),s=a(38),m=a(32),u=a(31),d=a(835),p=a(0),g=a.n(p),f=a(926),b=a(830),h=a.n(b),v=a(15),O=a(11),w=a(33),j=a(799),E=a(2),y=a(24),N=a(35),x=a(822);a(999);var k=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleSuccess=function(e){console.log(e)},n.handleFailure=function(e){console.log(e)},n.handleChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(c.a)({},a,o),(function(){}))},n.authHandler=function(e,t){Object(v.b)(!0,"Please wait, Validating your credentials..."),setTimeout((function(){Object(v.b)()}),2e3)},n.startAuth=function(){n.props.history.push("/twitter-login")},n.nextOrHome=function(e){localStorage.clear(),localStorage.setItem("currentUser",JSON.stringify(e.userinfo)),localStorage.setItem("jwt",e.token),localStorage.setItem("walletToken",e.walletToken);try{console.log(n.props.location);var t=n.props.location.search;console.log(t),-1!=t.indexOf("?next=")?(t=t.replace("?next=",""),console.log(t),-1!=t.indexOf("trade/")?window.location.href=E.a.tradeBase+t+"?token="+e.walletToken:(console.log("path"),window.location.href=t)):window.location.href="/home"}catch(a){window.location.href="/home"}},n.submitForm=function(e){if(e.preventDefault(),n.handleValidation()){var t={email:n.state.email,password:n.state.password,browser:n.state.browser,authflag:!0};Object(v.b)(!0,"Please wait, validating your credentials..."),Object(N.x)(t).then(function(){var e=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(v.b)(),n.nextOrHome(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){console.log("error part");var t=e.data.message;"email_unverified"==t?(t="Email is not verified yet. Please check your inbox or spam folder.",Object(v.a)(!0,t)):"phone_unverified"==t?void 0==e.data.phone||null==e.data.phone||""==e.data.phone?(localStorage.setItem("vid",e.data.id),localStorage.setItem("loginredirect","true"),localStorage.setItem("addphone","true"),n.props.history.push("/verify-phone")):(t="Phone is not verified yet.",localStorage.setItem("vid",e.data.id),localStorage.setItem("loginredirect","true"),n.props.history.push("/verify-phone"),Object(v.a)(!0,void 0==e?"":t)):Object(v.a)(!0,t),Object(v.b)()}))}},n.responseGoogle=function(e){console.log("done"),console.log(e),console.log(n.state.glogged);try{Object(v.b)(!0,"Logging in...");var t={id:e.profileObj.googleId,name:e.profileObj.name,avatar:e.profileObj.imageUrl,email:e.profileObj.email,browser:n.state.browser};Object(x.b)(t).then((function(e){Object(v.b)(),n.nextOrHome(e)}),(function(e){Object(v.b)(),Object(v.a)(!0,e.data.message)}))}catch(a){Object(v.b)(),Object(v.a)(!0,"Error getting data from google")}},n.responseFacebook=function(e){console.log(e);try{Object(v.b)(!0,"Logging in...");var t={id:e.id,name:e.name,avatar:void 0!=e.picture.data&&void 0!=e.picture.data.url?e.picture.data.url:"",email:e.email,browser:n.state.browser};Object(x.a)(t).then((function(e){Object(v.b)(),n.nextOrHome(e)}),(function(e){Object(v.b)(),Object(v.a)(!0,e.data.message)}))}catch(a){Object(v.b)(),Object(v.a)(!0,"Error getting data from facebook")}},n.setLocal=function(){console.log("setting"),localStorage.setItem("glogged","true")},n.state={email:"",password:"",glogged:null,pwdtype:"password",errors:{},browser:null},n.handleChange=n.handleChange.bind(Object(s.a)(n)),n.submitForm=n.submitForm.bind(Object(s.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props);var e=Object(d.a)();this.setState({browser:e}),this.props.match.params.emailToken&&(Object(v.b)(!0,"Please wait, Activating your email"),Object(N.M)({str:this.props.match.params.emailToken}).then(function(){var e=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(v.b)(),Object(v.a)(!0,t.message,"success");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(v.a)(!0,e.data.message),Object(v.b)()}))),console.log(this.props)}},{key:"handleValidation",value:function(){var e=this.state,t=!0,a={};if(e.email||(t=!1,a.email="Cannot be empty"),"undefined"!==typeof e.email&&e.email){var n=e.email.lastIndexOf("@"),o=e.email.lastIndexOf(".");n<o&&n>0&&-1==e.email.indexOf("@@")&&o>2&&e.email.length-o>2||(t=!1,a.email="Email is not valid")}return e.password||(t=!1,a.password="Cannot be empty"),this.setState({errors:a}),t}},{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=(t.name,t.phone,t.password);t.cPassword,t.pwdtype;return g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"loginPage"},g.a.createElement("div",{className:"container"},g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"col-md-7"},g.a.createElement(O.a,{href:"/"},g.a.createElement("img",{className:"logo",src:Object(y.a)("logo-main.png"),alt:""})),g.a.createElement("p",{className:"intro-text"},"Social Media Platform with Trusted Cryptocurrency Exchange"),g.a.createElement("img",{className:"coins",src:Object(y.a)("front/coins1.png")})),g.a.createElement("div",{className:"col-md-5"},g.a.createElement("div",{className:"loginForm"},g.a.createElement("form",{action:"",method:"post",onSubmit:this.submitForm},g.a.createElement("h1",null,"Login"),g.a.createElement("div",{className:"form-group"},g.a.createElement("input",{type:"email",required:!0,className:"form-control",placeholder:"hello@eclipton.com",name:"email",value:a,onChange:function(t){return e.handleChange(t)}})),g.a.createElement("div",{className:"form-group clearfix"},g.a.createElement("input",{type:"password",required:!0,className:"form-control",placeholder:"*********",name:"password",value:n,onChange:function(t){return e.handleChange(t)}}),g.a.createElement(O.a,{className:"pull-right mt-2 small-text",href:"/forgotpassword"},"Forgot password?")),g.a.createElement("div",{className:"form-group"},g.a.createElement(w.a,{variant:"primary",className:"big box w-100  mt-2 d-block",disabled:this.props.inProgress},"LOG IN"))),g.a.createElement("div",{className:"mt-3 mb-3 text-center"},"- OR -"),g.a.createElement("div",{className:"socialLogins"},g.a.createElement(O.a,{href:"/twitter-login".concat(this.props.location.search)},g.a.createElement("img",{className:"twitter-login-btn",src:Object(y.a)("front/twitter-icon.png")})),g.a.createElement(h.a,{clientId:"231889500330-jdm4rp9hlv8jdr4k4as2b4uqkeobhut3.apps.googleusercontent.com",buttonText:"",autoLoad:!1,responseType:"code,token",redirectUri:E.a.frontEnd+"login/",isSignedIn:!1,onRequest:this.setLocal,onSuccess:this.responseGoogle,onFailure:this.responseGoogle,cookiePolicy:"single_host_origin",className:"google-login-btn"}),g.a.createElement(f.FacebookLogin,{socialId:"690764608257761",language:"en_US",scope:"public_profile,email",responseHandler:this.responseFacebook,xfbml:!0,fields:"id,email,name,picture",version:"v2.5",className:"facebook-login-btn",buttonText:""})),g.a.createElement("h3",{className:"new"},"New to Eclipton?"),g.a.createElement(O.a,{href:"/register/new",className:"join"},"Join Now")))))),g.a.createElement(j.a,null))}}]),a}(g.a.Component);t.default=k},799:function(e,t,a){"use strict";var n=a(14),o=a(0),r=a.n(o),c=(a(64),a(11)),l=(a(24),a(800),a(2));t.a=function(e){var t=Object(o.useState)(void 0!=e.layout?e.layout:"default"),a=Object(n.a)(t,2);a[0],a[1];return r.a.createElement("footer",{className:"frontFooter"},r.a.createElement("div",{className:"container"},r.a.createElement("p",null,"Copyright \xa9 2021 Eclipton | All rights reserved"),r.a.createElement("p",{className:"pl-3 pr-3"},"Activity licence FVT000294"),r.a.createElement("div",{className:"d-flex align-items-center justify-content-end flex-wrap foot-menu"},r.a.createElement("a",{href:l.a.frontEnd+"terms-and-conditions.pdf",target:"_BLANK"},"Terms & Conditions"),r.a.createElement(c.a,{href:"/contact-us"},"Contact Us"))))}},800:function(e,t,a){},822:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return c}));var n=a(2),o=a(4),r=function(e){return new Promise((function(t,a){Object(o.c)(n.a.baseUrl+"google-login",!1,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},c=function(e){return new Promise((function(t,a){Object(o.c)(n.a.baseUrl+"facebook-login",!1,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))}},999:function(e,t,a){}}]);
//# sourceMappingURL=45.32181f03.chunk.js.map