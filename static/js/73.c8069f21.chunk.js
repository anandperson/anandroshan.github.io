(this["webpackJsonpreact-redux-realworld-example-app"]=this["webpackJsonpreact-redux-realworld-example-app"]||[]).push([[73],{1258:function(t,e,a){"use strict";a.r(e);var n=a(7),r=a.n(n),c=a(13),s=a(53),o=a(29),i=a(30),l=a(32),u=a(31),d=a(0),m=a.n(d),h=a(15),p=a(33),b=a(231),g=a(232),f=a(64),E=a(233),v=a(197),j=a(65),O=(a(485),function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).componentDidMount=function(){n.checkWallet()},n.checkWallet=function(){Object(v.a)().then((function(t){n.setState({loading:!1},(function(){n.getDetails()}))}),(function(t){n.setState({loading:!1,error:"Authentication Error!"})}))},n.handleChange=function(t){var e=t.target.value,a=t.target.getAttribute("name");n.setState(Object(s.a)({},a,e))},n.getDetails=function(){Object(j.u)().then(function(){var t=Object(c.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.setState({loading:!1,tfa:e.data.tfa_url,status:e.data.tfa_status});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){n.setState({loading:!1}),Object(h.a)(!0,"Error getting your data, try again")}))},n.submit=function(t){if(t.preventDefault(),console.log(n.state),null==n.state.code||""==n.state.code)Object(h.a)(!0,"Please enter the code");else{Object(h.b)("Updating...");var e={tfa_code:n.state.code};Object(j.D)(e).then(function(){var t=Object(c.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{1==e.status?(Object(h.a)(!0,e.message,"success"),n.setState({code:""}),window.location.reload()):Object(h.a)(!0,e.message)}catch(a){Object(h.a)(!0,void 0==a?"Error":a.toString())}Object(h.b)();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){Object(h.a)(!0,void 0==t?"Error":t.toString()),Object(h.b)()}))}},n.state={attempt:0,reset:!1,tfa:"",status:0,code:"",loading:!0},n}return Object(i.a)(a,[{key:"render",value:function(){return m.a.createElement("div",{className:"container my-wall-container depositPage"},m.a.createElement("div",{className:"row mt-2"},m.a.createElement("div",{className:"col-sm empty-container-with-out-border left-column"},m.a.createElement(b.a,this.props)),this.state.loading&&m.a.createElement("div",{className:"col-sm empty-container-with-border center-column text-center"},m.a.createElement(f.a,null)),!this.state.loading&&m.a.createElement("div",{className:"col-sm empty-container-with-border center-column text-center"},m.a.createElement(g.a,this.props),m.a.createElement("h3",null,"Scan this QR code with google authenticator app"),m.a.createElement("p",{className:"text-danger"},0==this.state.status?"If you have already added this in your google authenticator and disabled 2FA, please remove it and scan again":""),0==this.state.status&&m.a.createElement("img",{src:this.state.tfa}),m.a.createElement("div",null,"Status: ",m.a.createElement("span",{className:0==this.state.status?"text-danger":"text-success"},0==this.state.status?"Not Enabled":"Enabled")),m.a.createElement("div",null,m.a.createElement("form",{action:"",onSubmit:this.submit,method:"post"},m.a.createElement("div",{className:"input-group mb-3"},m.a.createElement("label",null,"Enter Google Authenticator code to ",0==this.state.status?"Enable":"Disable"," 2FA"),m.a.createElement("input",{type:"text",required:!0,name:"code",placeholder:"",value:this.state.code,onChange:this.handleChange})),m.a.createElement("div",{className:"input-group mb-3"},m.a.createElement(p.a,{variant:"primary",size:"big"},"Update"))))),m.a.createElement("div",{className:"col-sm empty-container-with-out-border right-column"},m.a.createElement(E.a,null))))}}]),a}(m.a.Component));e.default=O}}]);
//# sourceMappingURL=73.c8069f21.chunk.js.map