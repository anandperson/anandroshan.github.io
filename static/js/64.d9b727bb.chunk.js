(this["webpackJsonpreact-redux-realworld-example-app"]=this["webpackJsonpreact-redux-realworld-example-app"]||[]).push([[64],{1178:function(e,t,a){},1287:function(e,t,a){"use strict";a.r(t);var n=a(53),l=a(29),i=a(30),c=a(38),s=a(32),r=a(31),o=a(0),m=a.n(o),u=a(73),d=a.n(u),f=a(829),p=a.n(f),h=a(15),E=a(33),g=(a(11),a(487),function(e){return m.a.createElement("div",{className:"widget empty-inner-container-with-border SettingsMenus"},m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"row"},m.a.createElement("ul",{className:"list-group w-100"},m.a.createElement("li",{className:"widgetTitle"},m.a.createElement("i",{className:"fa fa-cog"})," ",m.a.createElement("span",null,"Settings"))),m.a.createElement("ul",{className:"list-group w-100 menu"},m.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center "+(1==e.current&&"current")},m.a.createElement("span",{className:"pointer align-items-center d-flex",onClick:function(){return e.switch(1)}},m.a.createElement("i",{className:"fa fa-user aicon"})," General")),m.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center "+(2==e.current&&"current")},m.a.createElement("span",{className:"pointer align-items-center d-flex",onClick:function(){return e.switch(2)}},m.a.createElement("i",{className:"fa fa-lock aicon"})," Security & Login")),m.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center "+(3==e.current&&"current")},m.a.createElement("span",{className:"pointer align-items-center d-flex",onClick:function(){return e.switch(3)}},m.a.createElement("i",{className:"fa fa-tag aicon"})," Timeline & Tagging")),m.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center "+(4==e.current&&"current")},m.a.createElement("span",{className:"pointer align-items-center d-flex",onClick:function(){return e.switch(4)}},m.a.createElement("i",{className:"fa fa-book aicon"})," Public Posts"))))))}),v=a(35),N=a(923),b=(a(1178),function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i,s;return Object(l.a)(this,a),(s=t.call(this,e)).setStateFunc=function(e,t){s.setState(Object(n.a)({},e,t))},s.refreshHighlights=function(){s.setState({refreshing:!0},(function(){s.setState({refreshing:!1})}))},s.refresh=function(){var e=Object(c.a)(s);s.setState({refreshing:!0}),setTimeout((function(){e.setState({refreshing:!1})}),500)},s.filterPosts=function(e){s.setState({latestpost:{},filter:e})},s.getLog=function(){Object(v.l)({page:s.state.page,limit:s.state.limit}).then((function(e){if(e.length>0){var t=s.state.log;t=t.concat(e),console.log(t),s.setState({log:t,page:s.state.page+1},(function(){s.checkMore()}))}}),(function(e){console.log(e)}))},s.checkMore=function(){Object(v.l)({page:s.state.page,limit:s.state.limit}).then((function(e){e.length>0?s.setState({seemore:!0}):s.setState({seemore:!1})}),(function(e){s.setState({seemore:!1})}))},s.getData=function(){Object(N.d)().then((function(e){s.setState({phone:e.info.phone,email:e.info.email}),console.log(e),null!=e.settings&&s.setState({preferedCurrency:e.settings.preferedCurrency,allowSharing:e.settings.allowSharing,tagging:e.settings.tagging,follow:e.settings.follow,comments:e.settings.comments,notifications:e.settings.notifications,saveLogin:e.settings.saveLogin})}),(function(e){console.log(e)}))},s.changeTab=function(e){s.setState({loading:!0});var t=0==e?s.state.sent:s.state.received;s.setState({currentTab:e,loading:!1,content:t})},s.switch=function(e){s.setState({about:e})},s.choosePic=function(){document.getElementById("profilePic").click()},s.updateProfilePic=function(e){var t=e.target.files[0];Object(v.J)({avatar:t}).then((function(e){window.location.reload()}),(function(e){console.log(e)}))},s.goToEdit=function(){s.setState({currentTab:0}),setTimeout((function(){s.myRef.scrollIntoView()}),300)},s.handleChange=function(e){var t=e.target.value,a=e.target.name;console.log(a,t),s.setState(Object(n.a)({},a,t))},s.handleEdit=function(e){var t=e+"Edit";s.setState(Object(n.a)({},t,!0))},s.handleCancel=function(e){var t=e+"Edit";s.setState(Object(n.a)({},t,!1))},s.handleSave=function(e){var t=s.state[e],a=e+"Edit";Object(N.h)({type:e,value:t}).then((function(e){s.setState(Object(n.a)({},a,!1))}),(function(e){Object(h.a)(!0,e.data.message)}))},s.handleSave2=function(e){e.preventDefault();var t=s.state.phone;Object(N.f)({phone:t}).then((function(e){Object(h.a)(!0,"Please enter the OTP sent to your mobile","success"),s.setState({otpEdit:!0})}),(function(e){Object(h.a)(!0,e.data.message)}))},s.phoneVerify=function(e){e.preventDefault(),""==s.state.otp?Object(h.a)(!0,"OTP is required"):Object(N.g)({otp:s.state.otp}).then((function(e){Object(h.a)(!0,"You have successfully updated your mobile number","success"),s.setState({otpEdit:!1,phoneEdit:!1})}),(function(e){Object(h.a)(!0,e.data.message)}))},s.state=(i={twitterID:0,otpEdit:!1,otp:"",currentTab:0,log:[],phone:"",phoneEdit:!1,email:"",limit:20,seemore:!1,page:1,preferedCurrency:"",preferedCurrencyEdit:!1,allowSharing:!1,allowSharingEdit:!1,tagging:"",taggingEdit:!1,follow:"",followEdit:!1,comments:"",commentsEdit:!1,notifications:"",notificationsEdit:!1,current:1,twitter:!1,saveLogin:!1,logins:[],share:!1},Object(n.a)(i,"tagging",""),Object(n.a)(i,"follow",""),Object(n.a)(i,"comments",""),Object(n.a)(i,"notifications",""),Object(n.a)(i,"latestpost",{}),Object(n.a)(i,"filter",""),Object(n.a)(i,"about",1),Object(n.a)(i,"refreshing",!1),i),s.myRef=m.a.createRef(),s}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.setState({twitterID:this.props.currentUser.twitterID}),console.log(this.props),this.getData(),this.getLog()}},{key:"render",value:function(){var e=this;this.props.currentUser;return m.a.createElement("div",{className:"settingsPage"},m.a.createElement("div",{className:"container my-wall-container "},m.a.createElement("div",{className:"row mt-2"},m.a.createElement("div",{className:"col-sm empty-container-with-out-border left-column"},m.a.createElement(g,Object.assign({},this.props,{current:this.state.about,switch:this.switch}))),m.a.createElement("div",{className:"col-sm empty-container-with-out-border center-column"},m.a.createElement("div",{className:"tabPanelItem ",ref:function(t){return e.myRef=t}},m.a.createElement("div",{className:"row m-0"},m.a.createElement("div",{className:"col-md-12 p-0"},m.a.createElement("div",{className:"scard bordered p-0 ml-2 mr-2"},m.a.createElement("div",{className:"settings-body"},1==this.state.about&&m.a.createElement("div",{className:"s1"},m.a.createElement("ul",{className:"list-group w-100 mb-0"},m.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center header-drak "},"GENERAL ACCOUNT SETTINGS")),m.a.createElement("div",{className:"srow"},m.a.createElement("label",null,"Mobile"),this.state.phoneEdit?this.state.otpEdit?m.a.createElement("form",{method:"post",id:"settingsphone",action:"",onSubmit:this.phoneVerify},m.a.createElement("input",{type:"text",pattern:"[0-9]{6}",title:"6 digit, numbers only",className:"input",value:this.state.otp,name:"otp",onChange:this.handleChange,placeholder:"OTP"}),m.a.createElement("button",{id:"saveOtp",style:{display:"none"}})):m.a.createElement("form",{method:"post",id:"settingsphone",action:"",onSubmit:this.handleSave2},m.a.createElement("input",{type:"text",title:"Minimum 6 digit, numbers only",className:"input",value:this.state.phone,name:"phone",onChange:this.handleChange,placeholder:"Mobile"}),m.a.createElement("button",{id:"savePhone",style:{display:"none"}})):m.a.createElement("div",{className:"value"},this.state.phone),this.state.phoneEdit?this.state.otpEdit?m.a.createElement("div",null,m.a.createElement("span",{className:"pointer",onClick:function(){return document.getElementById("saveOtp").click()}},"Verify"),m.a.createElement("span",{className:"pointer ml-2",onClick:function(){return e.handleCancel("otp")}},"Cancel")):m.a.createElement("div",null,m.a.createElement(E.a,{variant:"primary-outline",className:"pointer",onClick:function(){return document.getElementById("savePhone").click()}},"Save"),m.a.createElement(E.a,{variant:"primary-outline",className:"pointer ml-2",onClick:function(){return e.handleCancel("phone")}},"Cancel")):m.a.createElement("div",{className:"pointer round",onClick:function(){return e.handleEdit("phone")}},m.a.createElement("i",{className:"fa fa-pencil"}))),m.a.createElement("div",{className:"srow"},m.a.createElement("label",null,"Email"),m.a.createElement("div",{className:"value"},this.state.email),m.a.createElement("span",{className:"pointer",style:{width:"12px",height:"30px"}})),m.a.createElement("div",{className:"srow"},m.a.createElement("label",null,"Currency"),this.state.preferedCurrencyEdit?m.a.createElement("select",{type:"text",className:"input",value:this.state.preferedCurrency,name:"preferedCurrency",onChange:this.handleChange,placeholder:""},m.a.createElement("option",null,"Select"),m.a.createElement("option",null,"BTC"),m.a.createElement("option",null,"ETH"),m.a.createElement("option",null,"LTC"),m.a.createElement("option",null,"XRP"),m.a.createElement("option",null,"BCH"),m.a.createElement("option",null,"USDT"),m.a.createElement("option",null,"USD"),m.a.createElement("option",null,"EUR"),m.a.createElement("option",null,"INR")):m.a.createElement("div",{className:"value"},this.state.preferedCurrency),this.state.preferedCurrencyEdit?m.a.createElement("div",null,m.a.createElement(E.a,{variant:"primary-outline",className:"pointer",onClick:function(){return e.handleSave("preferedCurrency")}},"Save"),m.a.createElement(E.a,{variant:"primary-outline",className:"pointer ml-2",onClick:function(){return e.handleCancel("preferedCurrency")}},"Cancel")):m.a.createElement("div",{className:"pointer round",onClick:function(){return e.handleEdit("preferedCurrency")}},m.a.createElement("i",{className:"fa fa-pencil"})))),2==this.state.about&&m.a.createElement("div",{className:"s1"},m.a.createElement("ul",{className:"list-group w-100 mb-0"},m.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center header-drak "},"SECURITY AND LOGIN")),m.a.createElement("div",{className:"legend"},m.a.createElement("div",{className:"legend-title"},"Login"),m.a.createElement("div",{className:"legend-body"},m.a.createElement("div",{className:"srow"},m.a.createElement("div",{className:"left"},m.a.createElement("i",{className:"fa fa-key"})," ",m.a.createElement("div",null,"Twitter ",m.a.createElement("span",null,"Account is connected to twitter"))),m.a.createElement("div",{className:"right"},m.a.createElement(E.a,{variant:"primary-outline"},this.state.twitterID>0?"Connected":"Not Connected"))),m.a.createElement("div",{className:"srow"},m.a.createElement("div",{className:"left"},m.a.createElement("i",{className:"fa fa-sign-out"})," ",m.a.createElement("div",null,"Save your login information ",m.a.createElement("span",null,"It will only be saved on the browsers and devices you choose"))),m.a.createElement("div",{className:"right"},m.a.createElement(p.a,{value:this.state.saveLogin||!1,onToggle:function(t){console.log(!t),e.setState({saveLogin:!t}),Object(N.h)({type:"saveLogin",value:!t}).then((function(e){}),(function(e){Object(h.a)(!0,e.data.message)}))}}))))),m.a.createElement("div",{className:"legend mb-3"},m.a.createElement("div",{className:"legend-title"},"Where you're logged in"),m.a.createElement("div",{className:"legend-body"},this.state.log.length>0&&this.state.log.map((function(e,t){return m.a.createElement("div",{className:"srow",key:t},m.a.createElement("div",{className:"left"},-1!=e.os.toLowerCase().indexOf("linux")?m.a.createElement("i",{className:"fa fa-linux"}):-1!=e.os.toLowerCase().indexOf("windows")?m.a.createElement("i",{className:"fa fa-windows"}):-1!=e.os.toLowerCase().indexOf("android")?m.a.createElement("i",{className:"fa fa-android"}):-1!=e.os.toLowerCase().indexOf("mac")||-1!=e.os.toLowerCase().indexOf("ios")?m.a.createElement("i",{className:"fa fa-apple"}):m.a.createElement("i",{className:"fa fa-desktop"}),m.a.createElement("div",null,e.name," ",m.a.createElement("span",null,e.os))),m.a.createElement("div",{className:"right"},m.a.createElement("span",{className:"location"},m.a.createElement(d.a,{date:e.createdAt}))))})),this.state.seemore&&m.a.createElement("div",{className:"seemore-alt",onClick:this.getLog},"Seemore")))),3==this.state.about&&m.a.createElement("div",{className:"s1"},m.a.createElement("ul",{className:"list-group w-100 mb-0"},m.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center header-drak "},"TIMELINE AND TAGGING SETTINGS")),m.a.createElement("div",{className:"srow"},m.a.createElement("label",{className:"big"},"Allow others to share your posts to their story?"),this.state.allowSharingEdit?m.a.createElement("select",{type:"text",className:"input",value:this.state.allowSharing,name:"allowSharing",onChange:this.handleChange,placeholder:""},m.a.createElement("option",{value:!0},"On"),m.a.createElement("option",{value:!1},"Off")):m.a.createElement("div",{className:"value"},"true"==this.state.allowSharing.toString()?"On":"Off"),this.state.allowSharingEdit?m.a.createElement("div",null,m.a.createElement(E.a,{variant:"primary-outline",className:"pointer",onClick:function(){return e.handleSave("allowSharing")}},"Save"),m.a.createElement(E.a,{variant:"primary-outline",className:"pointer ml-2",onClick:function(){return e.handleCancel("allowSharing")}},"Cancel")):m.a.createElement("div",{className:"pointer round",onClick:function(){return e.handleEdit("allowSharing")}},m.a.createElement("i",{className:"fa fa-pencil"}))),m.a.createElement("div",{className:"srow"},m.a.createElement("label",{className:"big"},"Who can tag me"),this.state.taggingEdit?m.a.createElement("select",{type:"text",className:"input",value:this.state.tagging,name:"tagging",onChange:this.handleChange,placeholder:""},m.a.createElement("option",null,"Friends"),m.a.createElement("option",null,"None")):m.a.createElement("div",{className:"value"},this.state.tagging),this.state.taggingEdit?m.a.createElement("div",null,m.a.createElement(E.a,{variant:"primary-outline",className:"pointer",onClick:function(){return e.handleSave("tagging")}},"Save"),m.a.createElement(E.a,{variant:"primary-outline",className:"pointer ml-2",onClick:function(){return e.handleCancel("tagging")}},"Cancel")):m.a.createElement("div",{className:"pointer round",onClick:function(){return e.handleEdit("tagging")}},m.a.createElement("i",{className:"fa fa-pencil"})))),4==this.state.about&&m.a.createElement("div",{className:"s1"},m.a.createElement("ul",{className:"list-group w-100 mb-0"},m.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center header-drak "},"PUBLIC POST FILTERS AND TOOLS")),m.a.createElement("div",{className:"srow"},m.a.createElement("div",{className:"left"},m.a.createElement("div",null,"Who can follow me",m.a.createElement("span",null,"Followers see your posts in News Feed, Friends follow your posts by default, but you can also allow people who are not your friends to follow your public posts, Use this setting to choose who can follow you."))),this.state.followEdit?m.a.createElement("select",{type:"text",className:"input",value:this.state.follow,name:"follow",onChange:this.handleChange,placeholder:""},m.a.createElement("option",null,"Everyone"),m.a.createElement("option",null,"Friends"),m.a.createElement("option",null,"None")):m.a.createElement("div",{className:"value"},this.state.follow),this.state.followEdit?m.a.createElement("div",null,m.a.createElement(E.a,{variant:"primary-outline",className:"pointer",onClick:function(){return e.handleSave("follow")}},"Save"),m.a.createElement(E.a,{variant:"primary-outline",className:"pointer ml-2",onClick:function(){return e.handleCancel("follow")}},"Cancel")):m.a.createElement("div",{className:"pointer round",onClick:function(){return e.handleEdit("follow")}},m.a.createElement("i",{className:"fa fa-pencil"}))),m.a.createElement("div",{className:"srow"},m.a.createElement("div",{className:"left"},m.a.createElement("div",null,"Public post comments",m.a.createElement("span",null,"Who can comment on your public posts?"))),this.state.commentsEdit?m.a.createElement("select",{type:"text",className:"input",value:this.state.comments,name:"comments",onChange:this.handleChange,placeholder:""},m.a.createElement("option",null,"Everyone"),m.a.createElement("option",null,"Friends"),m.a.createElement("option",null,"None")):m.a.createElement("div",{className:"value"},this.state.comments),this.state.commentsEdit?m.a.createElement("div",null,m.a.createElement(E.a,{variant:"primary-outline",className:"pointer",onClick:function(){return e.handleSave("comments")}},"Save"),m.a.createElement(E.a,{variant:"primary-outline",className:"pointer ml-2",onClick:function(){return e.handleCancel("comments")}},"Cancel")):m.a.createElement("div",{className:"pointer round",onClick:function(){return e.handleEdit("comments")}},m.a.createElement("i",{className:"fa fa-pencil"}))),m.a.createElement("div",{className:"srow"},m.a.createElement("div",{className:"left"},m.a.createElement("div",null,"Public post notifications",m.a.createElement("span",null,"Get notification from public"))),this.state.notificationsEdit?m.a.createElement("select",{type:"text",className:"input",value:this.state.notifications,name:"notifications",onChange:this.handleChange,placeholder:""},m.a.createElement("option",{value:!0},"On"),m.a.createElement("option",{value:!1},"Off")):m.a.createElement("div",{className:"value"},"true"==this.state.notifications.toString()?"On":"Off"),this.state.notificationsEdit?m.a.createElement("div",null,m.a.createElement(E.a,{variant:"primary-outline",className:"pointer",onClick:function(){return e.handleSave("notifications")}},"Save"),m.a.createElement(E.a,{variant:"primary-outline",className:"pointer ml-2",onClick:function(){return e.handleCancel("notifications")}},"Cancel")):m.a.createElement("div",{className:"pointer round",onClick:function(){return e.handleEdit("notifications")}},m.a.createElement("i",{className:"fa fa-pencil"})))))))))),m.a.createElement("div",{className:"col-sm empty-container-with-out-border right-column"}))))}}]),a}(m.a.Component));t.default=b},923:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"h",(function(){return c})),a.d(t,"f",(function(){return s})),a.d(t,"g",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return u})),a.d(t,"e",(function(){return d}));var n=a(2),l=a(4),i=function(e){return new Promise((function(t,a){Object(l.a)("".concat(n.a.baseUrl,"get-settings"),!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},c=function(e){return new Promise((function(t,a){Object(l.c)("".concat(n.a.baseUrl,"update-settings"),!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},s=function(e){return new Promise((function(t,a){Object(l.c)("".concat(n.a.baseUrl,"update-new-phone"),!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},r=function(e){return new Promise((function(t,a){Object(l.c)("".concat(n.a.baseUrl,"update-new-phone-verify"),!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},o=function(e){return new Promise((function(t,a){Object(l.a)("".concat(n.a.baseUrl,"api-keys"),!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},m=function(e){return new Promise((function(t,a){Object(l.c)("".concat(n.a.baseUrl,"add-api-key"),!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},u=function(e){return new Promise((function(t,a){Object(l.c)("".concat(n.a.baseUrl,"delete-api-key"),!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},d=function(e){return new Promise((function(t,a){Object(l.c)("".concat(n.a.baseUrl,"update-api-key"),!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))}}}]);
//# sourceMappingURL=64.d9b727bb.chunk.js.map