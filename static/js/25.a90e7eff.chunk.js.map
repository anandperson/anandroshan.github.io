{"version":3,"sources":["components/Friends/GlobalFriends.js","components/Post/ProfileBlogs.js","components/Post/ProfilePosts.js","pages/GlobalProfile/index.js","http/blog-calls.js","components/Post/Share.js","components/Cards/LeftThumbCard.js","components/Post/BlogPost.js","components/Post/EditPost.js","components/Cards/SharedPostCard.js","components/Post/Post.js","components/Post/Gigs.js","http/profile-calls.js"],"names":["GlobalFriends","props","fetchData","key","getGlobalTagUsers","id","match","params","lid","currentUser","_id","then","resp","a","setState","users","error","cancelRequest","index","switchLoader","tempUser","state","request","refresh","addFriend","userIndex","followUser","followerid","following","accept","user","item","acceptRequest","userid","search","e","val","target","value","length","this","prevProps","undefined","className","type","src","placeholder","onChange","map","i","A","href","profilePic","avatar","alt","name","Button","variant","size","onClick","layout","dropdownOptions","n","console","log","React","Component","BlogPosts","checkWallet","walletCheck","getCoins","err","coins","localStorage","getItem","JSON","parse","coinsLoaded","getAllPairs","setItem","stringify","data","getPaginatePost","getProfileBlogs","limit","page","mine","posts","post","hasMore","postLoaded","showSkeleton","loadFunc","prevState","commentLike","postid","commentId","likeComment","message","commentReply","comment","commentIndex","callBack","replyComment","likePost","liked","postCmt","obj","commentText","postComment","showComments","getComments","refreshHighlights","handleChange","evt","replyCmt","getSkeletonContent","speed","width","height","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","cx","cy","r","query","bind","latestpost","postObj","isExist","find","unshift","pageStart","initialLoad","loadMore","BlogPost","filter","Array","fill","ProfilePosts","getProfilePosts","Post","MyProfile","selectModal","info","modal","setStateFunc","refreshing","goToMessage","setMessageNotificationsViewed","openChat","getChat","getCurrentChat","dis","setTimeout","filterPosts","opt","checkRequest","checkFriendRequest","cid","getProfile","getExtras","getGlobalProfile","getGlobalProfileExtras","workplaces","emails","mobiles","educations","homes","currents","friends","changeTab","newValue","loading","temp","sent","received","currentTab","content","switch","about","choosePic","document","getElementById","click","updateProfilePic","file","files","URL","createObjectURL","goToEdit","generalEdit","myRef","scrollIntoView","goToFeed","myRef2","addNew","closeNew","getAttribute","crop","submit","preventDefault","updateProfileExtras","window","location","reload","onImageLoaded","image","imageRef","onCropComplete","getCroppedImg","fileName","canvas","createElement","scaleX","naturalWidth","scaleY","naturalHeight","getContext","drawImage","Promise","resolve","reject","toBlob","blob","savePic","Date","now","croppedImageUrl","updateProfile","messages","general","username","bio","password","work_edit","work","designation","company","city","country","education_edit","education","course","institution","current_edit","current","home_edit","home","email_edit","email","mobile_edit","mobile","aspect","createRef","connectSocket","friendRequest","indexOf","displayModal","closeModal","onComplete","style","backgroundImage","job","Tabs","tabs","ref","ProfileBlogs","getBlogCategories","makeAxiosGetRequest","config","baseUrl","res","catch","response","createBlog","makeAxiosPostRequest","updateBlog","getPosts","auth","getFilteredBlogPosts","postRemove","getSinglePost","getPopularBlogs","getCategoryBlogs","getAuthorBlogs","clap","sendTips","purchaseBlog","checkPurchasedBlog","getBlogDraft","getBlogStats","Share","useState","inputText","setInputText","data-dismiss","aria-label","closeShareModal","aria-hidden","Fragment","encodeURI","frontEnd","GetAssetImage","defaultValue","disabled","cols","rows","event","sharePost","text","shareSuccess","LeftThumbCard","setPost","useEffect","k","thumb","url","history","push","status","shared","authorid","to","slug","require","sharedBy","removePost","reported","unReport","report","saved","unSave","save","title","description","replace","toString","likes","shares","comments","tips","toFixed","category","extractUrl","regex","RegExp","reportModal","componentDidMount","single","txt","editorContent","postText","blocks","len","findIndex","currencySymbol","currency","amount","EstimatedUSD","postActivityCount","activityType","action","editPost","postSave","alertBox","postUnSave","p","link","postReport","reason","postUnReport","hidePost","postHide","hidden","unhidePost","postUnHide","last","open","removePostConfirm","removed","highlightPost","postHighlight","highlighted","unHighlight","postUnHighlight","likePostFn","postId","likeActive","shareModel","currPost","handleOnReady","playing","handleClose","showCommentReply","el","tempPostData","showReply","showCommentReplies","getReplyComments","replies","callBackCommentReply","replyData","tempReplyCmt","getPostContent","pic","contents","content_url","subject","clapsCount","shareCount","cmtsCount","onClose","EditPost","enableUpload","acceptExt","join","postAccept","postFileInput","changeTwitter","twitter","changeVisibility","visibility","removeURL","clearCreatPostInputs","profileImg","postImgs","displaySelectedItem","switchLoader2","loadTxt","formData","FormData","append","text2","tags","updatePost","success","htmlToText","html","innerHTML","textContent","toggleTag","toggleTagInput","getTagUsers","suggestions","reactTags","contentEditable","twitterID","handleChangeImage","onDelete","sharedText","taggedPeople","privacy","twitterPost","getExt","split","pop","video","slice","splice","tag","concat","placeholderText","autoresize","onAddition","color","SharedPostCard","userinfo","date","createdAt","Truncate","lines","ellipsis","settings","followings","processText","images","sharedContent","commentActivityCount","key2","lastType","lastData","lastKey","lastComment","lastKey2","deleteComment","removeComment","savePost","unsavePost","t","c","Dialog","sharedPost","dangerouslySetInnerHTML","__html","contenttype","isOpen","controls","tagPeople","j","getSharedContent","sharedType","sharedDataBlog","sharedDataPost","sharedContents","sharedUserInfo","likesCount","allowSharing","repliesCount","reply","enableZoom","mainSrc","onCloseRequest","onAfterOpen","querySelector","photoIndex","Spinner","follow","GlobalGigs","getData","componentDidUpdate","categoryChange","dataChange","getRequests","d","getGigs","gigs","subCategory","priceFrom","priceTo","rating","gig","makeAxiosMultiPartRequest","token","agent","setToken","types","getProfileExtras"],"mappings":"sWA2NeA,G,yDAhNb,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAgBPC,UAAY,WAAa,IAAZC,EAAW,uDAAP,GACdC,YAAkB,CAACD,MAAKE,GAAI,EAAKJ,MAAMK,MAAMC,OAAOF,GAAIG,IAAK,EAAKP,MAAMQ,YAAYC,MAAM,GACzFC,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACJ,EAAKC,SAAS,CAAEC,MAAOH,IADnB,2CADN,uDAGG,SAAAI,QArBY,EAyBlBC,cAAgB,SAACZ,EAAGa,GACnBC,aAAa,EAAM,mBACnBF,YAAc,CAACZ,OAAK,GACjBM,KADH,uCACQ,WAAMC,GAAN,eAAAC,EAAA,sDACJM,qBACIC,EAAW,EAAKC,MAAMN,OAEVG,GAAOI,QACvB,EAAKrB,MAAMsB,UACX,EAAKT,SAAS,CACVC,MAAOK,IAPP,2CADR,uDAUK,SAAAJ,GACDG,kBAtCa,EA2CnBK,UAAY,SAACnB,EAAIoB,GACfN,aAAa,EAAM,kBACnBO,YAAW,CAAEC,WAAYtB,IAAM,GAC5BM,KADH,uCACQ,WAAMC,GAAN,eAAAC,EAAA,sDACJM,eACIC,EAAW,EAAKC,MAAMN,OACjBU,GAAWG,UAAYhB,EAKhC,EAAKE,SAAS,CACVC,MAAOK,IATP,2CADR,uDAYK,SAAAJ,GACDG,kBA1Da,EAgEnBU,OAAS,SAACC,EAAMZ,EAAOa,GACrBZ,aAAa,EAAM,kBACR,GAARY,EACCC,YAAc,CAAE3B,GAAIyB,EAAKpB,MAAO,GAC/BC,KADD,+BAAAE,EAAA,MACM,WAAMD,GAAN,eAAAC,EAAA,sDACNM,eACIC,EAAW,EAAKC,MAAMN,OACjBG,GAAOU,UAAYhB,EAI5B,EAAKE,SAAS,CACVC,MAAOK,IARL,2CADN,uDAWC,SAAAJ,GACDG,iBAGAF,YAAc,CAACZ,GAAIyB,EAAKG,SAAS,GAChCtB,KADD,uCACM,WAAMC,GAAN,eAAAC,EAAA,sDACJM,qBACIC,EAAW,EAAKC,MAAMN,OAEVG,GAAOU,UAIvB,EAAKd,SAAS,CACVC,MAAOK,IATP,2CADN,uDAYG,SAAAJ,GACDG,kBA/FW,EAoGnBF,cAAgB,SAACZ,EAAGa,EAAOa,GACzBZ,aAAa,EAAM,mBACnBF,YAAc,CAACZ,OAAK,GACjBM,KADH,uCACQ,WAAMC,GAAN,eAAAC,EAAA,sDACJM,qBACIC,EAAW,EAAKC,MAAMN,OAEVG,GAAOU,UAIvB,EAAKd,SAAS,CACVC,MAAOK,IATP,2CADR,uDAYK,SAAAJ,GACDG,kBAnHa,EAuHnBe,OAAS,SAACC,GACR,IAAIC,EAAMD,EAAEE,OAAOC,MAChBF,EAAIG,OAAS,EACd,EAAKrC,UAAUkC,GACD,IAAPA,GACP,EAAKlC,aA1HP,EAAKmB,MAAQ,CACXN,MAAO,IAHQ,E,gEAQjByB,KAAKtC,c,yCAGYuC,QACeC,UAApBF,KAAKvC,MAAMK,YAAgDoC,UAAnBD,EAAUnC,OAAsBmC,EAAUnC,MAAMC,OAAOF,KAAOmC,KAAKvC,MAAMK,MAAMC,OAAOF,IACxImC,KAAKtC,c,+BAmHC,IAAD,OAEP,OACE,yBAAKyC,UAAU,oEAEb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,OAEb,wBAAIA,UAAU,oBAEd,wBAAIA,UAAU,kFAAd,UAEA,0BAAMA,UAAU,uBACV,0BAAMA,UAAU,4BACd,yBAAKA,UAAU,4CACb,yBAAKA,UAAU,sBACb,4BAAQA,UAAU,+BAA+BC,KAAK,UACtD,yBAAKC,IAAI,6iBAEH,2BAAOD,KAAK,OAAOD,UAAU,eAAeG,YAAY,SAASC,SAAUP,KAAKN,cAS/FM,KAAKnB,MAAMN,MAAMiC,KAAI,SAAClB,EAAKmB,GAC1B,OAAO,wBAAIN,UAAU,mBAAmBxC,IAAK8C,GAC3C,wBAAIN,UAAU,mBAEZ,yBAAKA,UAAU,SACb,yBAAKA,UAAU,cACb,kBAACO,EAAA,EAAD,CAAGC,KAAM,MAAMrB,EAAKpB,KAClB,yBAAKiC,UAAU,mCAAmCE,IAAKO,YAAWtB,EAAKuB,QACrEC,IAAI,UAGV,yBAAKX,UAAU,cACb,kBAACO,EAAA,EAAD,CAAGC,KAAM,MAAMrB,EAAKpB,KAClB,uBAAGiC,UAAU,iBAAiBb,EAAKyB,QAKrCzB,EAAKpB,KAAO,EAAKT,MAAMQ,YAAYC,KAAO,yBAAKiC,UAAU,oBAGnCD,GAAlBZ,EAAKF,WAA0B,kBAAC4B,EAAA,EAAD,CAAQC,QAAQ,kBAAkBC,KAAK,UAAWC,QAAS,kBAAM,EAAKnC,UAAUM,EAAKpB,IAAKuC,KAA1F,YAGbP,GAAlBZ,EAAKF,WAAoD,WAA1BE,EAAKF,UAAUN,SAAwBQ,EAAKF,UAAUK,QAAU,EAAKhC,MAAMQ,YAAYC,KAAQ,kBAAC8C,EAAA,EAAD,CAAQC,QAAQ,OAAOC,KAAK,UAAUE,OAAO,WAAWC,gBAAiB,CAAC,UAAWF,QAAS,SAACG,GAAOC,QAAQC,IAAIlC,GAAO,EAAKb,cAAca,EAAKF,UAAUD,WAAYsB,EAAGa,KAA1K,gBAG5GpB,GAAlBZ,EAAKF,WAAoD,WAA1BE,EAAKF,UAAUN,SAAwBQ,EAAKF,UAAUD,YAAc,EAAK1B,MAAMQ,YAAYC,KAAO,kBAAC8C,EAAA,EAAD,CAAQC,QAAQ,OAAOG,OAAO,WAAWC,gBAAiB,CAAC,SAAU,UAAWH,KAAK,UAAUC,QAAS,SAACG,GAAD,OAAO,EAAKjC,OAAOC,EAAKF,UAAWqB,EAAGa,KAA9I,kBAWpH,IAA5BtB,KAAKnB,MAAMN,MAAMwB,OAAgB,wBAAII,UAAU,oBAC9C,wBAAIA,UAAU,oEACV,2CAEG,Y,GAvMOsB,IAAMC,Y,uGCmQnBC,E,kDAhQX,WAAYlE,GAAQ,IAAD,8BACf,cAAMA,IA8CVmE,YAAc,WACVL,QAAQC,IAAI,UACZK,cAAc1D,MAAK,SAAAC,GACfmD,QAAQC,IAAI,WACZ,EAAKM,cACN,SAAAC,GACCR,QAAQC,IAAI,cACZD,QAAQC,IAAIO,OAtDD,EA0DnBD,SAAW,WACP,IAAIE,EAAQC,aAAaC,QAAQ,YACrB,MAATF,GACC,EAAK1D,SAAS,CACV0D,MAAOG,KAAKC,MAAMJ,KACnB,WACC,EAAK1D,SAAS,CACV+D,aAAY,OAIxBC,cAAcnE,MAAK,SAAAC,GACf6D,aAAaM,QAAQ,WAAYJ,KAAKK,UAAUpE,EAAKqE,OACrDlB,QAAQC,IAAIpD,EAAKqE,MACjB,EAAKnE,SAAS,CACV0D,MAAO5D,EAAKqE,OACb,WACC,EAAKnE,SAAS,CACV+D,aAAY,UAGrB,SAAAN,GACCR,QAAQC,IAAIO,OAhFD,EAmFnBW,gBAAkB,WAedC,YAAgB,CAAElD,OAAQ,EAAKhC,MAAMI,GAAI+E,MAAO,EAAK/D,MAAM+D,MAAOC,KAAM,EAAKhE,MAAMgE,KAAMC,KAAM,EAAKrF,MAAMqF,OAAQ,GAC7G3E,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,sDACF,EAAKC,SAAS,CACVyE,MAAM,GAAD,mBAAM,EAAKlE,MAAMkE,OAAjB,YAA2B3E,EAAK4E,OACrCC,WAAS7E,EAAK4E,MAAQ5E,EAAK4E,KAAKjD,OAAS,GACzCmD,YAAY,EAAMC,cAAc,IAJlC,2CADV,uDAOO,SAAA3E,GAEC,EAAKF,SAAS,CAAE4E,YAAY,EAAMC,cAAc,QA3GzC,EAgHnBC,SAAW,WACF,EAAKvE,MAAMsE,eACZ,EAAK7E,SAAS,CAAE6E,cAAc,IAC9B,EAAK7E,UAAS,SAAA+E,GACV,OAAO,2BACAA,GADP,IAEIR,KAAMQ,EAAUR,KAAO,EACvBM,cAAc,OAEnB,WACC,EAAKT,uBA1HE,EAgInBY,YAAc,SAACC,EAAQC,GAEnBC,YAAY,CAAEF,SAAQC,cAAa,GAC9BrF,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,sDACkB,QAAhBD,EAAKsF,SAEEtF,EAAKsF,QAHd,2CADV,uDAOO,SAAAlF,QAzIQ,EA8InBmF,aAAe,SAACJ,EAAQC,EAAWI,EAASC,EAAcC,GACtDC,YAAa,CAAER,OAAQA,EAAQC,YAAWI,YAAW,GAChDzF,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,sDACFyF,EAAS1F,EAAKwF,QAASC,GADrB,2CADV,uDAGO,SAAArF,QAlJQ,EAuJnBwF,SAAW,SAACT,EAAQU,GAChBD,YAAS,CAAET,OAAQA,IAAU,GACxBpF,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,0FADV,uDAGO,SAAAG,QA3JQ,EAgKnB0F,QAAU,SAACX,GACP,IAAIY,EAAM,CAAEZ,SAAQK,QAAS,EAAK/E,MAAMuF,aACxCC,YAAYF,GACPhG,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,0FADV,uDAGO,SAAAG,QArKQ,EA0KnB8F,aAAe,SAACf,GAEZgB,YAAY,CAAEhB,WAAU,GACnBpF,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,sDACF,EAAKC,SAAS,CAAEgG,cAAc,IAD5B,2CADV,uDAGO,SAAA9F,QA/KQ,EAqLnBgG,kBAAoB,aArLD,EAyLnBC,aAAe,SAACC,EAAKhG,GAAW,IAAD,EACHgG,EAAI7E,OAApBkB,EADmB,EACnBA,KAAMjB,EADa,EACbA,MACS,YAAnB4E,EAAI7E,OAAOkB,KACX,EAAKzC,SAAL,eAAiByC,EAAOjB,IAAS,eAEjC,EAAKxB,SAAL,yBAAoByC,GAApB,2BAAkC,EAAKlC,MAAM8F,UAA7C,kBAAwDjG,EAAQoB,MAAW,gBA9LhE,EAmMnB8E,mBAAqB,SAACnE,GAClB,OACI,yBAAKN,UAAU,6CAA6CxC,IAAK8C,GAC7D,yBAAKN,UAAU,aACX,yBAAKA,UAAU,OACX,wBAAIA,UAAU,wBACV,wBAAIA,UAAU,qEACV,kBAAC,IAAD,CACI0E,MAAO,EACPC,MAAO,IACPC,OAAQ,IACRC,QAAQ,cACRC,gBAAgB,UAChBC,gBAAgB,WAGhB,0BAAMC,EAAE,KAAKC,EAAE,IAAIC,GAAG,IAAIC,GAAG,IAAIR,MAAM,KAAKC,OAAO,MACnD,0BAAMI,EAAE,KAAKC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIR,MAAM,KAAKC,OAAO,MACpD,0BAAMI,EAAE,IAAIC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIR,MAAM,MAAMC,OAAO,MACpD,0BAAMI,EAAE,IAAIC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIR,MAAM,MAAMC,OAAO,MACpD,0BAAMI,EAAE,IAAIC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIR,MAAM,MAAMC,OAAO,MACpD,4BAAQQ,GAAG,KAAKC,GAAG,KAAKC,EAAE,OAC1B,0BAAMN,EAAE,IAAIC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIR,MAAM,MAAMC,OAAO,gBAvNhF,EAAKlG,MAAQ,CACT6G,MAAOjI,EAAMiI,MACb3C,MAAO,GACPF,KAAM,EACNb,MAAM,GACNK,aAAa,EACbO,MAAsB,MAAfnF,EAAMmF,MAAgB,EAAInF,EAAMmF,MACvCK,SAAS,EACTC,YAAY,EACZC,cAAc,EACdmB,cAAc,EACdF,YAAa,IAEjB,EAAKd,YAAc,EAAKA,YAAYqC,KAAjB,gBACnB,EAAKvC,SAAW,EAAKA,SAASuC,KAAd,gBAChB,EAAK3B,SAAW,EAAKA,SAAS2B,KAAd,gBAChB,EAAKjD,gBAAkB,EAAKA,gBAAgBiD,KAArB,gBAlBR,E,gEAsBf3F,KAAK0C,kBACL1C,KAAK4B,gB,yCAGU3B,QACgBC,UAApBF,KAAKvC,MAAMK,YAAgDoC,UAAnBD,EAAUnC,OAAsBmC,EAAUnC,MAAMC,OAAOF,KAAOmC,KAAKvC,MAAMK,MAAMC,OAAOF,IACvImC,KAAK0C,oB,kDAIkB,IAAD,OACxB,GAAI1C,KAAKvC,MAAMmI,YAAc5F,KAAKvC,MAAMmI,WAAWnG,OAAQ,CAEvD,IAAMmG,EAAa5F,KAAKvC,MAAMmI,WACxBC,EAAU7F,KAAKnB,MAAMkE,MAEvB+C,EAAUD,EAAQE,MAAK,SAAAxG,GAAI,OAAIA,EAAKrB,KAAO0H,EAAW1H,OACpD4H,GAAWA,EAAQ5H,MACrB2H,EAAQG,QAAQJ,GAChB5F,KAAK1B,SAAS,CAAEyE,MAAO,KAAM,WACzB,EAAKzE,SAAS,CAAEyE,MAAO8C,W,+BAwL7B,IAAD,SACuC7F,KAAKnB,MAD5C,EACGmE,KADH,EACSsB,aADT,EACuBF,YAE5B,OACI,6BACI,kBAAC,IAAD,CACI6B,UAAW,EACXC,aAAa,EACbC,SAAUnG,KAAKoD,SACfH,QAASjD,KAAKnB,MAAMoE,SAEnBjD,KAAKnB,MAAMqE,YAAclD,KAAKnB,MAAMkE,MAAMvC,KAAI,SAACwC,EAAMvC,GAAP,OAC3C,kBAAC2F,EAAA,EAAD,CAAUpE,MAAO,EAAKnD,MAAMmD,MAAOgB,KAAMA,EAAMqD,OAAO,GAAG7B,kBAAmB,EAAKA,kBAAmBlB,YAAa,EAAKA,YAAaK,aAAc,EAAKA,aAAchG,IAAK8C,EAAGxC,YAAa,EAAKR,MAAMQ,mBAI1M+B,KAAKnB,MAAMsE,eAAiBnD,KAAKnB,MAAMwD,cACrC,6BACKiE,MAAM,GAAGC,OAAO/F,KAAI,SAACjB,EAAMb,GAAP,OAAiB,EAAKkG,mBAAmBlG,OAIxC,IAA5BsB,KAAKnB,MAAMkE,MAAMhD,QAAgBC,KAAKnB,MAAMqE,YAC1C,yBAAK/C,UAAU,QAAO,uBAAGA,UAAU,uBAAb,wB,GA1PlBsB,IAAMC,W,SCkOf8E,E,kDApOX,WAAY/I,GAAQ,IAAD,8BACf,cAAMA,IAsDViF,gBAAkB,WAed+D,YAAgB,CAAEhH,OAAQ,EAAKhC,MAAMI,GAAI+E,MAAO,EAAK/D,MAAM+D,MAAOC,KAAM,EAAKhE,MAAMgE,OAAQ,GACtF1E,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,sDACF,EAAKC,SAAS,CACVyE,MAAM,GAAD,mBAAM,EAAKlE,MAAMkE,OAAjB,YAA2B3E,EAAK4E,OACrCC,WAAS7E,EAAK4E,MAAQ5E,EAAK4E,KAAKjD,OAAS,GACzCmD,YAAY,EAAMC,cAAc,IAJlC,2CADV,uDAOO,SAAA3E,GAEC,EAAKF,SAAS,CAAE4E,YAAY,EAAMC,cAAc,QA/EzC,EAoFnBC,SAAW,WACF,EAAKvE,MAAMsE,eACZ,EAAK7E,SAAS,CAAE6E,cAAc,IAC9B,EAAK7E,UAAS,SAAA+E,GACV,OAAO,2BACAA,GADP,IAEIR,KAAMQ,EAAUR,KAAO,EACvBM,cAAc,OAEnB,WACC,EAAKT,uBA9FE,EAoGnBY,YAAc,SAACC,EAAQC,GAEnBC,YAAY,CAAEF,SAAQC,cAAa,GAC9BrF,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,sDACkB,QAAhBD,EAAKsF,SAEEtF,EAAKsF,QAHd,2CADV,uDAOO,SAAAlF,QA7GQ,EAkHnBmF,aAAe,SAACJ,EAAQC,EAAWI,EAASC,EAAcC,GACtDC,YAAa,CAAER,OAAQA,EAAQC,YAAWI,YAAW,GAChDzF,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,sDACFyF,EAAS1F,EAAKwF,QAASC,GADrB,2CADV,uDAGO,SAAArF,QAtHQ,EA2HnBwF,SAAW,SAACT,EAAQU,GAChBD,YAAS,CAAET,OAAQA,IAAU,GACxBpF,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,0FADV,uDAGO,SAAAG,QA/HQ,EAoInB0F,QAAU,SAACX,GACP,IAAIY,EAAM,CAAEZ,SAAQK,QAAS,EAAK/E,MAAMuF,aACxCC,YAAYF,GACPhG,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,0FADV,uDAGO,SAAAG,QAzIQ,EA8InB8F,aAAe,SAACf,GAEZgB,YAAY,CAAEhB,WAAU,GACnBpF,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,sDACF,EAAKC,SAAS,CAAEgG,cAAc,IAD5B,2CADV,uDAGO,SAAA9F,QAnJQ,EAyJnBgG,kBAAoB,WAChB,EAAK/G,MAAM+G,qBA1JI,EA6JnBC,aAAe,SAACC,EAAKhG,GAAW,IAAD,EACHgG,EAAI7E,OAApBkB,EADmB,EACnBA,KAAMjB,EADa,EACbA,MACS,YAAnB4E,EAAI7E,OAAOkB,KACX,EAAKzC,SAAL,eAAiByC,EAAOjB,IAAS,eAEjC,EAAKxB,SAAL,yBAAoByC,GAApB,2BAAkC,EAAKlC,MAAM8F,UAA7C,kBAAwDjG,EAAQoB,MAAW,gBAlKhE,EAuKnB8E,mBAAqB,SAACnE,GAClB,OACI,yBAAKN,UAAU,6CAA6CxC,IAAK8C,GAC7D,yBAAKN,UAAU,aACX,yBAAKA,UAAU,OACX,wBAAIA,UAAU,wBACV,wBAAIA,UAAU,qEACV,kBAAC,IAAD,CACI0E,MAAO,EACPC,MAAO,IACPC,OAAQ,IACRC,QAAQ,cACRC,gBAAgB,UAChBC,gBAAgB,WAGhB,0BAAMC,EAAE,KAAKC,EAAE,IAAIC,GAAG,IAAIC,GAAG,IAAIR,MAAM,KAAKC,OAAO,MACnD,0BAAMI,EAAE,KAAKC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIR,MAAM,KAAKC,OAAO,MACpD,0BAAMI,EAAE,IAAIC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIR,MAAM,MAAMC,OAAO,MACpD,0BAAMI,EAAE,IAAIC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIR,MAAM,MAAMC,OAAO,MACpD,0BAAMI,EAAE,IAAIC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIR,MAAM,MAAMC,OAAO,MACpD,4BAAQQ,GAAG,KAAKC,GAAG,KAAKC,EAAE,OAC1B,0BAAMN,EAAE,IAAIC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIR,MAAM,MAAMC,OAAO,gBA3LhF,EAAKlG,MAAQ,CACT6G,MAAOjI,EAAMiI,MACb3C,MAAO,GACPF,KAAM,EACND,MAAO,EACPK,SAAS,EACTC,YAAY,EACZC,cAAc,EACdmB,cAAc,EACdF,YAAa,IAEjB,EAAKd,YAAc,EAAKA,YAAYqC,KAAjB,gBACnB,EAAKvC,SAAW,EAAKA,SAASuC,KAAd,gBAChB,EAAK3B,SAAW,EAAKA,SAAS2B,KAAd,gBAChB,EAAKjD,gBAAkB,EAAKA,gBAAgBiD,KAArB,gBAhBR,E,gEAoBf3F,KAAK0C,oB,yCAGUzC,GAAW,IAAD,OAEzB,GADAsB,QAAQC,IAAI,WACTvB,EAAUnC,MAAMC,OAAOF,IAAMmC,KAAKvC,MAAMK,MAAMC,OAAOF,GAAG,CACvD,IAAM+H,EAAa5F,KAAKvC,MAAMmI,WACxBC,EAAU7F,KAAKnB,MAAMkE,MAEvB+C,EAAUD,EAAQE,MAAK,SAAAxG,GAAI,OAAIA,EAAKrB,KAAO0H,EAAW1H,OACpD4H,GAAWA,EAAQ5H,MACrB2H,EAAQG,QAAQJ,GAChB5F,KAAK1B,SAAS,CAAEyE,MAAO,KAAM,WACzB,EAAKzE,SAAS,CAAEyE,MAAO8C,W,kDAMV,IAAD,OACxB,GAAI7F,KAAKvC,MAAMmI,YAAc5F,KAAKvC,MAAMmI,WAAWnG,OAAQ,CAEvD,IAAMmG,EAAa5F,KAAKvC,MAAMmI,WACxBC,EAAU7F,KAAKnB,MAAMkE,MAEvB+C,EAAUD,EAAQE,MAAK,SAAAxG,GAAI,OAAIA,EAAKrB,KAAO0H,EAAW1H,OACpD4H,GAAWA,EAAQ5H,MACrB2H,EAAQG,QAAQJ,GAChB5F,KAAK1B,SAAS,CAAEyE,MAAO,KAAM,WACzB,EAAKzE,SAAS,CAAEyE,MAAO8C,W,+BAqJ7B,IAAD,SACuC7F,KAAKnB,MAD5C,EACGmE,KADH,EACSsB,aADT,EACuBF,YAE5B,OACI,6BACI,kBAAC,IAAD,CACI6B,UAAW,EACXC,aAAa,EACbC,SAAUnG,KAAKoD,SACfH,QAASjD,KAAKnB,MAAMoE,SAEjBjD,KAAKnB,MAAMqE,YAAclD,KAAKnB,MAAMkE,MAAMvC,KAAI,SAACwC,EAAMvC,GAAP,OAC7C,kBAACiG,EAAA,EAAD,CAAM1D,KAAMA,EAAMqD,OAAO,GAAG7B,kBAAmB,EAAKA,kBAAmBlB,YAAa,EAAKA,YAAaK,aAAc,EAAKA,aAAchG,IAAK8C,EAAGxC,YAAa,EAAKR,MAAMQ,kBAI7K+B,KAAKnB,MAAMsE,cACT,6BACKmD,MAAM,GAAGC,OAAO/F,KAAI,SAACjB,EAAMb,GAAP,OAAiB,EAAKkG,mBAAmBlG,OAIxD,IAA5BsB,KAAKnB,MAAMkE,MAAMhD,QAAgBC,KAAKnB,MAAMqE,YAC1B,yBAAK/C,UAAU,QAAO,uBAAGA,UAAU,uBAAb,wB,GA9NfsB,IAAMC,W,kCCU3BiF,G,0DACJ,WAAYlJ,GAAQ,IAAD,8BACjB,cAAMA,IA6ETmJ,YAAc,SAACC,GACb,EAAKvI,SAAS,CAACwI,OAAQ,EAAKjI,MAAMiI,SA/EhB,EAiFnBC,aAAe,SAACpJ,EAAImC,GAClB,EAAKxB,SAAL,eAAgBX,EAAKmC,KAlFJ,EAoFnB0E,kBAAoB,WAClB,EAAKlG,SAAS,CACZ0I,YAAY,IACX,WACD,EAAK1I,SAAS,CACZ0I,YAAY,QAzFC,EA8FnBC,YAAc,SAACxB,GACbyB,cACA,EAAKzJ,MAAM0J,SAAS1B,IAhGH,EAmGnB2B,QAAU,WACRC,YAAe,CAACxJ,GAAI,EAAKgB,MAAMhB,KAAKM,MAAK,SAAAC,GACvC,EAAK6I,YAAY7I,MAChB,SAAAI,GACD+C,QAAQC,IAAIhD,OAvGG,EA2GnBO,QAAU,WACR,IAAIuI,EAAG,eACP,EAAKhJ,SAAS,CACZ0I,YAAa,IAEfO,YAAW,WACTD,EAAIhJ,SAAS,CACX0I,YAAY,MAEb,MApHc,EAuHnBQ,YAAc,SAACC,GACb,EAAKnJ,SAAS,CACZsH,WAAY,GACZS,OAAQoB,KA1HO,EAmKrBC,aAAe,WACXC,YAAmB,CAAC9J,GAAI,EAAKgB,MAAMhB,KAAK,GACvCM,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACJ,EAAKC,SAAS,CACZQ,QAASV,EAAKU,QACd8I,IAAKxJ,EAAKF,IACViB,WAAYf,EAAKe,aAJf,2CADN,uDAOG,SAAAX,GACD,EAAKF,SAAS,CACZQ,QAAS,GACT8I,IAAK,EACLzI,WAAY,QA/KC,EAoLrBH,UAAY,SAACnB,EAAIa,GACfC,aAAa,EAAM,kBACnBO,YAAW,CAAEC,WAAYtB,IAAM,GAC5BM,KADH,uCACQ,WAAMC,GAAN,SAAAC,EAAA,sDACJM,cACA,EAAK+I,eAFD,2CADR,uDAIK,SAAAlJ,GACDG,cACA,EAAK+I,mBA5LU,EA+LrBrI,OAAS,SAACxB,EAAI0B,GACZZ,aAAa,EAAM,kBACR,GAARY,EACCC,YAAc,CAAE3B,GAAI,EAAKgB,MAAM+I,MAAO,GACrCzJ,KADD,+BAAAE,EAAA,MACM,WAAMD,GAAN,SAAAC,EAAA,sDACJkJ,YAAW,WACT5I,cACA,EAAK+I,eACL,EAAKG,aACL,EAAKC,cACJ,KANC,2CADN,uDAQC,SAAAtJ,GACDG,cACA,EAAK+I,kBAGLjJ,YAAc,CAACZ,GAAIA,IAAK,GACvBM,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACJM,cACA,EAAK+I,eAFD,2CADN,uDAIG,SAAAlJ,GACDG,cACA,EAAK+I,mBArNQ,EA0NrBjJ,cAAgB,SAACZ,EAAI0B,GACnBZ,aAAa,EAAM,mBACnBF,YAAc,CAACZ,OAAK,GACjBM,KADH,uCACQ,WAAMC,GAAN,SAAAC,EAAA,sDACJM,cACA,EAAK+I,eAFD,2CADR,uDAIK,SAAAlJ,GACDG,cACA,EAAK+I,mBAlOU,EAuOnBG,WAAa,WACXE,YAAiB,CAAClK,GAAI,EAAKgB,MAAMhB,KAAKM,MAAK,SAAAC,GACzCmD,QAAQC,IAAIpD,GACZ,EAAKE,SAAS,CACZgB,KAAMlB,QA3OO,EAgPnB0J,UAAY,WACVE,YAAuB,CAACnK,GAAG,EAAKgB,MAAMhB,KAAKM,MAAK,SAAAC,GAC9C,EAAKE,SAAS,CAAC2J,WAAY7J,EAAK6J,WAAYC,OAAQ9J,EAAK8J,OAAQC,QAAS/J,EAAK+J,QAASC,WAAYhK,EAAKgK,WAAYC,MAAOjK,EAAKiK,MAAOC,SAAUlK,EAAKkK,SAAUC,QAASnK,EAAKmK,QAASxF,MAAO3E,EAAK2E,YAlPrL,EAsPnByF,UAAY,SAACC,GACX,EAAKnK,SAAS,CACVoK,SAAQ,IAEZ,IAAIC,EAAmB,GAAZF,EAAgB,EAAK5J,MAAM+J,KAAO,EAAK/J,MAAMgK,SACxD,EAAKvK,SAAS,CAACwK,WAAYL,EAAUC,SAAQ,EAAOK,QAASJ,KA3P5C,EA8PrBK,OAAS,SAACpJ,GACR,EAAKtB,SAAS,CACZ2K,MAAOrJ,KAhQU,EAoQrBsJ,UAAY,WACAC,SAASC,eAAe,cAC9BC,SAtQe,EAyQrBC,iBAAmB,SAAC3J,GAClB,IAAI4J,EAAO5J,EAAEE,OAAO2J,MAAM,GAC1BjI,QAAQC,IAAI+H,GACZ,EAAKjL,SAAS,CAACsC,WAAY6I,IAAIC,gBAAgBH,GAAOzC,OAAM,KA5QzC,EAoRrB6C,SAAS,WACP,EAAKrL,SAAS,CAACwK,WAAY,EAAGc,aAAY,IAC1CrC,YAAW,WACT,EAAKsC,MAAMC,mBACV,MAxRgB,EA2RrBC,SAAS,WACP,EAAKzL,SAAS,CAACwK,WAAY,IAC3BvB,YAAW,WACT,EAAKyC,OAAOF,mBACX,MA/RgB,EAkSrBG,OAAO,SAAClJ,GACN,EAAKzC,SAAL,eACGyC,GAAQ,KApSQ,EAuSrBmJ,SAAS,SAACnJ,GACR,EAAKzC,SAAL,eACGyC,GAAQ,KAzSQ,EA6SrB0D,aAAa,SAAC9E,GACZ,IAAIC,EAAMD,EAAEE,OAAOC,MACfiB,EAAOpB,EAAEE,OAAOkB,KAChBX,EAAOT,EAAEE,OAAOsK,aAAa,aAC7BxB,EAAI,eAAO,EAAK9J,MAAMuB,IAC1BuI,EAAK5H,GAAQnB,EACb,EAAKtB,SAAL,eACG8B,EAAQuI,KApTQ,EAwTrByB,KAAM,SAACA,GACP,EAAK9L,SAAS,CAAC8L,UAzTM,EA4TrBC,OAAO,SAAC1K,EAAGS,GACTT,EAAE2K,iBACFC,YAAoB,EAAK1L,MAAMuB,IAAOjC,MAAK,SAAAC,GACzCmD,QAAQC,IAAIpD,GACD,WAARgC,EACDoK,OAAOC,SAASC,UAEhB,EAAKpM,SAAL,eAAgB8B,EAAK,SAAU,IAC/B,EAAK0H,gBAEN,SAAAtJ,QAtUgB,EA2UrBmM,cAAgB,SAAAC,GACd,EAAKC,SAAWD,GA5UG,EA+UrBE,eAAiB,SAAAV,KA/UI,EAmVrBW,cAAgB,SAACH,EAAOR,EAAMY,GAC5B,IAAMC,EAAS9B,SAAS+B,cAAc,UAChCC,EAASP,EAAMQ,aAAeR,EAAM9F,MACpCuG,EAAST,EAAMU,cAAgBV,EAAM7F,OAqB3C,OApBAkG,EAAOnG,MAAQsF,EAAKtF,MACpBmG,EAAOlG,OAASqF,EAAKrF,OACTkG,EAAOM,WAAW,MAE1BC,UACFZ,EACAR,EAAKjF,EAAIgG,EACTf,EAAKhF,EAAIiG,EACTjB,EAAKtF,MAAQqG,EACbf,EAAKrF,OAASsG,EACd,EACA,EACAjB,EAAKtF,MACLsF,EAAKrF,QAOA,IAAI0G,SAAQ,SAACC,EAASC,GAC3BV,EAAOW,QAAO,SAAAC,GACZA,EAAK9K,KAAOiK,EACZU,EAAQG,KACP,aAAc,OA/WA,EAmXpBC,QAnXoB,sBAmXV,4BAAAzN,EAAA,2DACL,EAAKwM,UAAY,EAAKhM,MAAMuL,KAAKtF,OAAS,EAAKjG,MAAMuL,KAAKrF,QADrD,gCAEuB,EAAKgG,cACjC,EAAKF,SACL,EAAKhM,MAAMuL,KACX2B,KAAKC,MAAM,SALN,OAEDC,EAFC,OAOPC,YAAc,CAACrL,OAAQoL,IAAkB9N,MAAK,SAAAC,GAC5CoM,OAAOC,SAASC,YACf,SAAA3I,GACDR,QAAQC,IAAIO,MAVP,2CAjXP,EAAKlD,MAAQ,CACXhB,GAAI,EAAKJ,MAAMK,MAAMC,OAAOF,GAC5B0K,QAAS,EACTxF,MAAO,EACP+F,WAAY,EACZlD,WAAY,GACZ9G,QAAS,GACT8I,IAAK,EACLzI,WAAY,EACZkH,OAAQ,GACR4C,MAAO,EACPW,aAAa,EACbhJ,WAAW,GACXoG,YAAW,EACXF,OAAO,EACPqF,SAAS,GACT7M,KAAM,GACN8M,QAAS,CACPhM,KAAK,UACLW,KAAM,GACNsL,SAAU,GACVC,IAAM,GACNC,SAAU,IAEZC,WAAW,EACXvE,WAAY,GACZwE,KAAM,CACJrM,KAAK,aACLsM,YAAa,GACbC,QAAU,GACVC,KAAM,GACNC,QAAS,IAEXC,gBAAgB,EAChB1E,WAAY,GACZ2E,UAAW,CACT3M,KAAK,aACL4M,OAAQ,GACRC,YAAc,GACdL,KAAM,GACNC,QAAS,IAEXK,cAAc,EACd5E,SAAU,GACV6E,QAAS,CACP/M,KAAK,iBACLwM,KAAM,GACNC,QAAS,IAEXO,WAAW,EACX/E,MAAO,GACPgF,KAAM,CACJjN,KAAK,WACLwM,KAAM,GACNC,QAAS,IAEXS,YAAY,EACZpF,OAAQ,GACRqF,MAAO,CACLnN,KAAK,SACLmN,MAAO,IAETC,aAAa,EACbrF,QAAS,GACTsF,OAAQ,CACNrN,KAAK,UACLqN,OAAQ,IAEVrD,KAAM,CACJsD,OAAQ,EACR5I,MAAO,MAGX,EAAK+E,MAAQpI,IAAMkM,YACnB,EAAK3D,OAASvI,IAAMkM,YA5EH,E,gEA8Hd3N,KAAKvC,MAAMK,MAAMC,OAAOF,IAAMmC,KAAKvC,MAAMQ,YAAYC,IACtDsM,OAAOC,SAAS9J,KAAO,YAEvBY,QAAQC,IAAIxB,KAAKvC,OACjBuC,KAAK0H,eACL1H,KAAK6H,aACL7H,KAAK8H,kBAEsB5H,GAA1BF,KAAKvC,MAAMQ,aACV2P,YAAc5N,KAAKvC,MAAMQ,YAAYC,KAEzC2P,aAAc,SAAC/O,IAC+B,GAAvC0L,OAAOC,SAAS9J,KAAKmN,QAAQ,OAC5BtD,OAAOC,SAASC,c,yCAMPzK,GACfsB,QAAQC,IAAIvB,QACEC,GAAbD,QAAwDC,GAA9BF,KAAKvC,MAAMK,MAAMC,OAAOF,IAAmBoC,EAAUnC,MAAMC,OAAOF,IAAMmC,KAAKvC,MAAMK,MAAMC,OAAOF,KAC3H0D,QAAQC,IAAI,OAETxB,KAAKvC,MAAMK,MAAMC,OAAOF,IAAMmC,KAAKvC,MAAMQ,YAAYC,IACtDsM,OAAOC,SAAS9J,KAAO,YAEvB6J,OAAOC,SAAS9J,KAAK,MAAMX,KAAKvC,MAAMK,MAAMC,OAAOF,GACnD0D,QAAQC,IAAIvB,EAAUnC,MAAMC,OAAOF,GAAImC,KAAKvC,MAAMK,MAAMC,OAAOF,Q,+BAwO3D,IAAD,OACDyB,EAAOU,KAAKnB,MAAMS,KAElBR,GADMkB,KAAKnB,MAAM+I,IACP5H,KAAKnB,MAAMC,SACrBK,EAAaa,KAAKnB,MAAMM,WACxBtB,EAAKmC,KAAKnB,MAAMhB,GAEtB,OACI,yBAAKsC,UAAU,eACb,kBAAC,IAAD,CAAO4N,aAAc/N,KAAKnB,MAAMiI,MAAOkH,WAAYhO,KAAK4G,aACtD,kBAAC,IAAD,CAAWvG,IAAKL,KAAKnB,MAAM+B,WAAYwJ,KAAMpK,KAAKnB,MAAMuL,KAAM7J,SAAUP,KAAKoK,KAAMO,cAAe3K,KAAK2K,cACvGsD,WAAYjO,KAAK8K,iBACjB,yBAAK3K,UAAU,oDACf,kBAACa,EAAA,EAAD,CAAQC,QAAQ,UAAUC,KAAK,cAAcC,QAASnB,KAAK8L,SAA3D,QACA,kBAAC9K,EAAA,EAAD,CAAQC,QAAQ,YAAYC,KAAK,cAAcC,QAASnB,KAAK4G,aAA7D,YAIF,yBAAKzG,UAAU,gCACf,yBAAKA,UAAU,YACb,yBAAKA,UAAU,wDACb,yBAAKA,UAAU,aACjB,yBAAKA,UAAU,cACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,mFACb,yBAAKA,UAAU,cAAc+N,MAAO,CAACC,gBAAiB,OAAOvN,YAAWtB,EAAKuB,QAAQ,OAErF,yBAAKV,UAAU,aAEA,IAAXrB,GAAiB,kBAACkC,EAAA,EAAD,CAAQC,QAAQ,QAASE,QAAS,kBAAM,EAAKnC,UAAUnB,KAAvD,OAGN,YAAXiB,GAAyB,kBAACkC,EAAA,EAAD,CAAQC,QAAQ,QAASE,QAASnB,KAAKoH,SAAvC,QAGd,WAAXtI,GAAwBK,GAActB,GAAO,kBAACmD,EAAA,EAAD,CAAQC,QAAQ,QAAQG,OAAO,WAAWC,gBAAiB,CAAC,UAAWF,QAAS,SAACG,GAAD,OAAO,EAAK7C,cAAcZ,EAAIyD,KAA9G,WAGlC,WAAXxC,GAAwBK,GAActB,GAAM,kBAACmD,EAAA,EAAD,CAAQC,QAAQ,QAAQG,OAAO,WAAWC,gBAAiB,CAAC,SAAU,UAAWF,QAAS,SAACG,GAAD,OAAO,EAAKjC,OAAOxB,EAAIyD,KAAjH,WAG9C,yBAAKnB,UAAU,QAAQb,EAAKyB,MAC5B,yBAAKZ,UAAU,OAAOb,EAAK8O,KAC3B,yBAAKjO,UAAU,YAAYb,EAAKmL,UAChC,yBAAKtK,UAAU,0DACb,yBAAKA,UAAU,QAAQH,KAAKnB,MAAMkE,MAAlC,UACA,6BAAM/C,KAAKnB,MAAM0J,QAAjB,aAEF,yBAAKpI,UAAU,OAAOb,EAAK2J,WAMnC,yBAAK9I,UAAU,OAAM,yBAAKA,UAAU,uCAChC,yBAAKA,UAAU,OACb,wBAAIA,UAAU,YAAd,YACA,wBAAIA,UAAU,SACZ,4BACE,uBAAGA,UAAU,mBACb,mCAAmCD,GAA5BF,KAAKnB,MAAMoJ,WAAW,GAAkBjI,KAAKnB,MAAMoJ,WAAW,GAAGyE,YAAY,OAAS,IAC7F,qCAAqCxM,GAA5BF,KAAKnB,MAAMoJ,WAAW,GAAkBjI,KAAKnB,MAAMoJ,WAAW,GAAG0E,QAAU,KAEtF,4BACE,uBAAGxM,UAAU,yBACb,mCAAmCD,GAA5BF,KAAKnB,MAAMuJ,WAAW,GAAkBpI,KAAKnB,MAAMuJ,WAAW,GAAG4E,OAAO,OAAS,IACxF,qCAAqC9M,GAA5BF,KAAKnB,MAAMuJ,WAAW,GAAkBpI,KAAKnB,MAAMuJ,WAAW,GAAG6E,YAAc,KAE1F,4BACE,uBAAG9M,UAAU,eACb,mCAAiCD,GAA1BF,KAAKnB,MAAMyJ,SAAS,GAAkBtI,KAAKnB,MAAMyJ,SAAS,GAAGsE,KAAK,KAAO,IAChF,qCAAmC1M,GAA1BF,KAAKnB,MAAMyJ,SAAS,GAAkBtI,KAAKnB,MAAMyJ,SAAS,GAAGuE,QAAU,KAElF,4BACE,uBAAG1M,UAAU,qBACb,mCAA8BD,GAAvBF,KAAKnB,MAAMwJ,MAAM,GAAkBrI,KAAKnB,MAAMwJ,MAAM,GAAGuE,KAAK,KAAO,IAC1E,qCAAgC1M,GAAvBF,KAAKnB,MAAMwJ,MAAM,GAAkBrI,KAAKnB,MAAMwJ,MAAM,GAAGwE,QAAU,SAWpF,yBAAK1M,UAAU,eACf,kBAACkO,EAAA,EAAD,CAAQC,KAAM,CAAC,OAAQ,UAAW,QAAS,QAAUnO,UAAU,WAAW2I,WAAY9I,KAAKnB,MAAMiK,WAAYN,UAAWxI,KAAKwI,UAAW1D,MAAM,SAElH,GAAzB9E,KAAKnB,MAAMiK,YAAmB,yBAAK3I,UAAU,eAAeoO,IAAM,SAACA,GAAD,OAAS,EAAKvE,OAAOuE,IAGlF,kBAAC,EAAD,eAAc7I,MAAM,GAAG7H,GAAIA,EAAIS,SAAU0B,KAAK+G,aAAcnB,WAAY5F,KAAKnB,MAAM+G,YAAiB5F,KAAKvC,MAAzG,CAAgH+G,kBAAmBxE,KAAKwE,kBAAmB1B,MAAM,MAK9I,GAAzB9C,KAAKnB,MAAMiK,YAAmB,yBAAK3I,UAAU,gBAC3C,yBAAKA,UAAU,OACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,KAEZH,KAAKnB,MAAMmI,YAAc,kBAAC,EAAD,iBAAmBhH,KAAKvC,MAAxB,CAA+BsB,QAASiB,KAAKjB,eAQtD,GAAzBiB,KAAKnB,MAAMiK,YAAmB,yBAAK3I,UAAU,gBAI3C,kBAACqO,EAAD,eAAc9I,MAAM,GAAG7H,GAAIA,EAAKS,SAAU0B,KAAK+G,aAAcnB,WAAY5F,KAAKnB,MAAM+G,YAAiB5F,KAAKvC,MAA1G,CAAiH+G,kBAAmBxE,KAAKwE,kBAAmBpE,KAAK,QAAQ0C,MAAM,MAKxJ,GAAzB9C,KAAKnB,MAAMiK,YAAmB,yBAAK3I,UAAU,gBAI3C,kBAAC,IAAD,eAAYuF,MAAM,GAAG7H,GAAIA,EAAKS,SAAU0B,KAAK+G,aAAcnB,WAAY5F,KAAKnB,MAAM+G,YAAiB5F,KAAKvC,MAAxG,CAA+G+G,kBAAmBxE,KAAKwE,kBAAmB1B,MAAM,gB,GA/fxJrB,IAAMC,YA8gBfiF,a,iCCjiBf,0rBAYa8H,EAAoB,SAAC1Q,GAC9B,OAAO,IAAI0N,SAAQ,SAACC,EAASC,GACzB+C,YAAoB,GAAD,OAAIC,IAAOC,QAAX,wBAAyC,EAAM7Q,GAC7DI,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GAEHgM,EAAOhM,EAAEoP,iBAKZC,EAAa,SAACvM,GACvB,OAAO,IAAIgJ,SAAQ,SAACC,EAASC,GACzBsD,YAAqBN,IAAOC,QAAU,oBAAoB,EAAMnM,GAC3DtE,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GAEHgM,EAAOhM,EAAEoP,iBAKZG,EAAa,SAACzM,GACvB,OAAO,IAAIgJ,SAAQ,SAACC,EAASC,GACzBsD,YAAqBN,IAAOC,QAAU,oBAAoB,EAAMnM,GAC3DtE,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GAEHgM,EAAOhM,EAAEoP,iBASZI,EAAW,SAACpR,EAAQqR,GAC7B,OAAO,IAAI3D,SAAQ,SAACC,EAASC,GACzB+C,YAAoBC,IAAOC,QAAU,iBAAkBQ,EAAMrR,GACxDI,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GACHgM,EAAOhM,EAAEoP,iBAiBZM,EAAuB,SAAC5M,GACjC,OAAO,IAAIgJ,SAAQ,SAACC,EAASC,GACzB+C,YAAoBC,IAAOC,QAAU,2BAA2B,EAAMnM,GACjEtE,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GACHgM,EAAOhM,EAAEoP,iBAKZO,EAAa,SAAC7M,GACvB,OAAO,IAAIgJ,SAAQ,SAACC,EAASC,GACzBsD,YAAqBN,IAAOC,QAAU,oBAAoB,EAAMnM,GAC3DtE,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GACHgM,EAAOhM,EAAEoP,iBAoBZQ,EAAgB,SAACxR,GAC1B,OAAO,IAAI0N,SAAQ,SAACC,EAASC,GACzB+C,YAAoBC,IAAOC,QAAU,YAAY,EAAO7Q,GACnDI,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GAEHgM,EAAOhM,EAAEoP,iBAKZS,EAAkB,SAACzR,GAC5B,OAAO,IAAI0N,SAAQ,SAACC,EAASC,GACzB+C,YAAoBC,IAAOC,QAAU,qBAAqB,EAAM7Q,GAC3DI,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GAEHgM,EAAOhM,EAAEoP,iBAKZU,EAAmB,SAAC1R,GAC7B,OAAO,IAAI0N,SAAQ,SAACC,EAASC,GACzB+C,YAAoBC,IAAOC,QAAU,sBAAsB,EAAM7Q,GAC5DI,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GAEHgM,EAAOhM,EAAEoP,iBAKZW,EAAiB,SAAC3R,GAC3B,OAAO,IAAI0N,SAAQ,SAACC,EAASC,GACzB+C,YAAoBC,IAAOC,QAAU,oBAAoB,EAAM7Q,GAC1DI,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GAEHgM,EAAOhM,EAAEoP,iBAkBZY,EAAO,SAAC5R,GACjB,OAAO,IAAI0N,SAAQ,SAACC,EAASC,GACzBsD,YAAqBN,IAAOC,QAAU,aAAa,EAAM7Q,GACpDI,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GACHgM,EAAOhM,EAAEoP,iBAKZa,EAAW,SAACnN,GACrB,OAAO,IAAIgJ,SAAQ,SAACC,EAASC,GACzBsD,YAAqBN,IAAOC,QAAU,aAAa,EAAMnM,GACpDtE,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GAEHgM,EAAOhM,EAAEoP,iBAKZc,EAAe,SAACpN,GACzB,OAAO,IAAIgJ,SAAQ,SAACC,EAASC,GACzBsD,YAAqBN,IAAOC,QAAU,iBAAiB,EAAMnM,GACxDtE,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GAEHgM,EAAOhM,EAAEoP,iBAKZe,EAAqB,SAACrN,GAC/B,OAAO,IAAIgJ,SAAQ,SAACC,EAASC,GACzB+C,YAAoBC,IAAOC,QAAU,wBAAwB,EAAMnM,GAC9DtE,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GAEHgM,EAAOhM,EAAEoP,iBAKZ/K,EAAW,SAACvB,EAAM2M,GAC3B,OAAO,IAAI3D,SAAQ,SAACC,EAASC,GAEzBsD,YAAqBN,IAAOC,QAAU,YAAaQ,EAAM3M,GACpDtE,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GAEHgM,EAAOhM,EAAEoP,iBAKZ1K,EAAc,SAAC5B,GAAuB,IAAjB2M,IAAgB,yDAC9C,OAAO,IAAI3D,SAAQ,SAACC,EAASC,GACzBsD,YAAqBN,IAAOC,QAAU,eAAgBQ,EAAM3M,GACvDtE,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GAEHgM,EAAOhM,EAAEoP,iBAKZtL,EAAc,SAAChB,EAAM2M,GAC9B,OAAO,IAAI3D,SAAQ,SAACC,EAASC,GAEzBsD,YAAqBN,IAAOC,QAAU,oBAAqBQ,EAAM3M,GAC5DtE,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GAEHgM,EAAOhM,EAAEoP,iBAKZhL,EAAe,SAACtB,GAAuB,IAAjB2M,IAAgB,yDAC/C,OAAO,IAAI3D,SAAQ,SAACC,EAASC,GAEzBsD,YAAqBN,IAAOC,QAAU,qBAAsBQ,EAAM3M,GAC7DtE,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GAEHgM,EAAOhM,EAAEoP,iBAKZgB,EAAe,SAAChS,GACzB,OAAO,IAAI0N,SAAQ,SAACC,EAASC,GACzB+C,YAAoBC,IAAOC,QAAU,kBAAkB,EAAM7Q,GACxDI,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GAEHgM,EAAOhM,EAAEoP,iBA6BZiB,EAAe,SAACjS,GACzB,OAAO,IAAI0N,SAAQ,SAACC,EAASC,GACzB+C,YAAoBC,IAAOC,QAAU,cAAc,EAAM7Q,GACpDI,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GAEHgM,EAAOhM,EAAEoP,kB,oHCpQVkB,IApED,SAAAxS,GAAU,IAAD,EACKgE,IAAMyO,SAASzS,EAAMuF,MAD1B,mBACZA,EADY,aAEevB,IAAMyO,SAAS,SAF9B,gCAGezO,IAAMyO,SAAS,KAH9B,mBAGZC,EAHY,KAGDC,EAHC,KAqBnB,OACI,yBAAKjQ,UAAU,4BACX,yBAAKA,UAAU,sCACX,yBAAKA,UAAU,0CACX,wBAAIA,UAAU,eAAd,SACA,4BAAQC,KAAK,SAASD,UAAU,QAAQkQ,eAAa,QAAQC,aAAW,QAAQnP,QAAS1D,EAAM8S,iBAC3F,0BAAMC,cAAY,QAAlB,UAIR,yBAAKrQ,UAAU,cACX,yBAAKA,UAAU,+BAEO,QAAd1C,EAAM2C,KACN,kBAAC,IAAMqQ,SAAP,KACI,uBAAG5Q,OAAO,SAASc,KAAM,gDAAgD+P,UAAU/B,IAAOgC,SAAS,QAAQ3N,EAAK9E,MAAM,yBAAKmC,IAAKuQ,YAAc,mBAC9I,uBAAG/Q,OAAO,SAASc,KAAM,gCAAgC+P,UAAU/B,IAAOgC,SAAS,QAAQ3N,EAAK9E,MAAM,yBAAKmC,IAAKuQ,YAAc,mBAGlI,kBAAC,IAAMH,SAAP,KACI,uBAAG5Q,OAAO,SAASc,KAAM,gDAAgD+P,UAAU/B,IAAOgC,SAAS,QAAQ3N,EAAK9E,MAAM,yBAAKmC,IAAKuQ,YAAc,mBAC9I,uBAAG/Q,OAAO,SAASc,KAAM,gCAAgC+P,UAAU/B,IAAOgC,SAAS,QAAQ3N,EAAK9E,MAAM,yBAAKmC,IAAKuQ,YAAc,oBAK1I,yBAAKzQ,UAAU,oBAAf,QACA,wBAAIA,UAAU,iBACV,wBAAIA,UAAU,4BACV,4BAAQA,UAAU,6BAA6BtC,GAAG,GAAGgT,aAAc,WAC/D,4BAAQC,UAAQ,EAAChR,MAAM,WAAvB,uBAGR,wBAAIK,UAAU,4BACV,8BAAUY,KAAK,YAAYlD,GAAG,GAAGkT,KAAK,KAAKC,KAAK,IAAI1Q,YAAY,UAAUR,MAAOqQ,EAAW5P,SArC5F,SAAA0Q,GACpBb,EAAaa,EAAMpR,OAAOC,aAwClB,yBAAKK,UAAU,+CACX,4BAAQC,KAAK,SAASD,UAAU,+BAA+BkQ,eAAa,QAAQlP,QAAS1D,EAAM8S,iBAAnG,UACA,4BAAQnQ,KAAK,SAASD,UAAU,0BAA0BgB,QAxDtD,WAChBxC,aAAa,EAAM,sCACnBuS,YAAU,CAAE3N,OAAQP,EAAK9E,IAAKiT,KAAMhB,EAAW/P,KAAM3C,EAAM2C,OAAQ,GAClEjC,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACFZ,EAAM2T,eACN3T,EAAM8S,kBACN5R,cAHE,2CADN,uDAKG,SAAAH,GAECf,EAAM8S,kBACN5R,mBA8CQ,a,2JC6BL0S,IAvFO,SAAA5T,GAAU,IAAD,EACLyS,mBAASzS,EAAMuF,MADV,mBACtBA,EADsB,KAChBsO,EADgB,KAS7B,OAJAC,qBAAU,WACRD,EAAQ7T,EAAMuF,QACb,CAACvF,EAAMuF,OAGT,yBAAK7C,UAAU,qBAAqBxC,IAAKF,EAAM+T,GAC9C,yBAAKrR,UAAU,qBAAqB+N,MAAO,CAACC,gBAAiB,OAAS1Q,EAAMgU,MAAQ,KAAMtQ,QAAS,kBATvFuQ,EASkGjU,EAAMiU,SARpHC,IAAQC,KAAKF,GADF,IAACA,IAUI,SAAf1O,EAAK6O,QAAqB,2BAAO1R,UAAU,+CAAjB,UAE3B,yBAAKA,UAAU,kBAEUD,GAArBzC,EAAMQ,kBAA4CiC,GAAhBzC,EAAMqU,QAAuBrU,EAAMsU,UAAYtU,EAAMQ,YAAYC,IAAM,0BAAMiC,UAAU,0DACzH,uBAAGA,UAAU,qBACjB,yBAAKA,UAAU,gDACf,kBAAC,IAAD,CAAM6R,GAAI,cAAchP,EAAKiP,KAAM9R,UAAU,iBACrC,yBAAKA,UAAU,OAAOE,IAAK6R,EAAQ,OACnC,0BAAM/R,UAAU,OAAhB,cAEkBD,GAArBzC,EAAMQ,aAA4B+E,EAAKmP,UAAY1U,EAAMQ,YAAYC,KAAO8E,EAAKvD,QAAUhC,EAAMQ,YAAYC,KAAO,uBAAGiC,UAAU,gBAAiBgB,QAAS,SAACxB,GAAD,OAAOlC,EAAM2U,WAAWpP,EAAK9E,OACrL,yBAAKiC,UAAU,OAAOE,IAAK6R,EAAQ,OACnC,0BAAM/R,UAAU,OAAhB,aAIR,0BAAMA,UAAU,0DACZ,uBAAGA,UAAU,qBAEf,yBAAKA,UAAU,gDAEX1C,EAAM4U,SACJ,uBAAGlR,QAAS,kBAAI1D,EAAM6U,YAAYnS,UAAU,iBAC5C,uBAAGA,UAAU,eACT,0BAAMA,UAAU,OAAhB,gBAEJ,uBAAGgB,QAAS,kBAAI1D,EAAM8U,UAAUpS,UAAU,iBAC1C,uBAAGA,UAAU,6BACT,0BAAMA,UAAU,OAAhB,WAGN1C,EAAM+U,MACJ,uBAAGrR,QAAS,kBAAI1D,EAAMgV,UAAUtS,UAAU,iBAC1C,uBAAGA,UAAU,eACT,0BAAMA,UAAU,OAAhB,yBAEJ,uBAAGgB,QAAS,kBAAI1D,EAAMiV,QAAQvS,UAAU,iBACxC,uBAAGA,UAAU,eACT,0BAAMA,UAAU,OAAhB,sBAOV,kBAAC,IAAD,CAAGQ,KAAMlD,EAAMiU,KAAK,wBAAIvR,UAAU,cAAc1C,EAAMkV,MAAlC,KAApB,KAMA,6BACA,yBAAKxS,UAAU,yBACSD,GAArBzC,EAAMmV,aAA4BnV,EAAMmV,YAAYC,QAAQ,kBAAmB,IAAIC,YAEtF,6BAAK,uBAAGnS,KAAMlD,EAAMiU,IAAKvR,UAAU,YAA9B,oBAIaD,GAAhBzC,EAAMqU,QAAuB,yBAAK3R,UAAU,cAC5C,6BAAK,gCAAS1C,EAAMsV,OAApB,IAAoC,uBAAG5S,UAAU,wBACjD,6BAAK,gCAAS1C,EAAMuV,QAApB,IAAqC,uBAAG7S,UAAU,qBAClD,6BAAK,gCAAS1C,EAAMwV,UAApB,IAAuC,uBAAG9S,UAAU,qBACpD,6BAAK,oCAAU1C,EAAMyV,KAAKC,QAAQ,IAAlC,IAA+C,oCAC/C,yBAAKhT,UAAU,kBAAkB1C,EAAM2V,e,yQCnE/ClB,EAAQ,KAEmBA,EAAQ,KAAnC,IAEM9L,E,kDAEF,WAAY3I,GAAQ,IAAD,8BACf,cAAMA,IA2BV4V,WAAa,SAAClC,GAChB,IACImC,EAAQ,IAAIC,OADC,2GAEjB,OAAOpC,EAAKrT,MAAMwV,IA/BG,EAiCnBE,YAAc,WACV,EAAKlV,SAAS,CAACkV,aAAc,EAAK3U,MAAM2U,eAlCzB,EAqCnBC,kBAAoB,WAEb,EAAKhW,MAAMiW,QACV,EAAKpP,aAAa,EAAKzF,MAAMmE,KAAK9E,KAGtC,IACI,IAAIyV,EAAMxR,KAAKC,MAAM,EAAK3E,MAAMuF,KAAK4Q,eACrC,EAAKtV,SAAS,CACVuV,SAAUF,EAAIG,OAAO,GAAGrR,KAAK0O,OAEnC,MAAO3S,GACL,EAAKF,SAAS,CACVuV,SAAU,EAAKpW,MAAMuF,KAAKmO,OAGlC,EAAKrP,YArDU,EA8DnBA,SAAW,WACP,EAAKxD,SAAS,CACV0D,MAAQ,EAAKvE,MAAMuE,QACrB,WAEF,GADIT,QAAQC,IAAI,EAAK3C,MAAMmE,KAAKkQ,KAAM,EAAKrU,MAAMmD,YAC3B9B,GAAnB,EAAKrB,MAAMmE,WAA6C9C,GAAxB,EAAKrB,MAAMmE,KAAKkQ,WAAyChT,GAApB,EAAKrB,MAAMmD,MAAmB,CAC9F,IAAI+R,EAAM,EAAKlV,MAAMmE,KAAKkQ,KAAKnT,OAC/B,GAAGgU,EAAM,EAAE,CACP,IAAIb,EAAO,EACX,EAAKrU,MAAMmE,KAAKkQ,KAAK1S,KAAI,SAACb,EAAGc,GACzB,IAAI/B,EAAQ,EAAKG,MAAMmD,MAAMgS,WAAU,SAASzU,EAAMkB,GAClD,OAAOlB,EAAK0U,iBAAmBtU,EAAEuU,YAErC,IACIhB,GAAQvT,EAAEwU,OAAO,EAAKtV,MAAMmD,MAAMtD,GAAO0V,aAC3C,MAAO5V,IAGNiC,GAAMsT,EAAI,GACT,EAAKzV,SAAS,CACV4U,KAAMA,aAlFf,EA4FnBmB,kBAAoB,SAACC,GAAkC,IAApBC,EAAmB,uDAAV,MAElC1O,EAAU,EAAKhH,MAAMmE,KACtB6C,EAAQyO,KACTzO,EAAQyO,GAAgB,GAGxBzO,EAAQyO,GADE,OAAVC,EACwB1O,EAAQyO,GAAgB,EAExBzO,EAAQyO,GAAgB,EAEpD,EAAKhW,SAAS,CAAE0E,KAAM6C,KAvGP,EA0GnB2O,SAAW,SAAC3W,KA1GO,EA6GnB6U,KAAO,SAAC7U,GAEJ4W,YAAS,CAAElR,OAAQ1F,IAClBM,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACFqW,aAAS,EAAMtW,EAAKsF,QAAS,WAC7B,EAAKpF,SAAS,CAAEkU,OAAO,IAFrB,2CADN,uDAIG,SAAAhU,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,aApHf,EAuHnB+O,OAAS,SAAC5U,GACN8W,YAAW,CAAEpR,OAAQ1F,IACpBM,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACFqW,aAAS,EAAMtW,EAAKsF,QAAS,WAC7B,EAAKpF,SAAS,CAAEkU,OAAO,IAFrB,2CADN,uDAIG,SAAAhU,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,aA7Hf,EAgInB6O,OAAS,SAACqC,GACN,GAA0B,IAAvB,EAAK/V,MAAMuU,SACVsB,aAAS,EAAM,qCACd,CACL,IAAIG,EAAO,QAAQD,EAAE3C,KACrB6C,YAAW,CAAEjX,GAAI+W,EAAE1W,IAAKkC,KAAM,OAAQyU,OAAMzB,SAAU,EAAKvU,MAAMuU,SAAU2B,OAAQ,EAAKlW,MAAMkW,SAC7F5W,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACFqW,aAAS,EAAMtW,EAAKsF,QAAS,WAC7B,EAAKpF,SAAS,CAAEkV,aAAa,EAAOnB,UAAU,IAF5C,2CADN,uDAIG,SAAA7T,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,SAC1B,EAAKpF,SAAS,CAAEkV,aAAa,SA3IlB,EA+InBlB,SAAW,SAACsC,GACRI,YAAa,CAAEnX,GAAI+W,EAAE1W,MACpBC,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACFqW,aAAS,EAAMtW,EAAKsF,QAAS,WAC7B,EAAKpF,SAAS,CAAE+T,UAAU,IAFxB,2CADN,uDAIG,SAAA7T,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,aArJf,EAwJnBuR,SAAW,SAACpX,GACRqX,YAAS,CAAE3R,OAAQ1F,IAClBM,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACFqW,aAAS,EAAMtW,EAAKsF,QAAS,WAC7B,EAAKpF,SAAS,CAAE0E,KAAK,2BAAM,EAAKnE,MAAMmE,MAAlB,IAAwBmS,OAAQ,MAFlD,2CADN,uDAIG,SAAA3W,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,aA9Jf,EAiKnB0R,WAAa,SAACvX,GACVwX,YAAW,CAAE9R,OAAQ1F,IACpBM,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACFqW,aAAS,EAAMtW,EAAKsF,QAAS,WAC7B,EAAKpF,SAAS,CAAE0E,KAAK,2BAAM,EAAKnE,MAAMmE,MAAlB,IAAwBmS,OAAQ,MAFlD,2CADN,uDAIG,SAAA3W,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,aAvKf,EA0KnB0O,WAAa,SAACvU,GACV,EAAKS,SAAS,CAACgX,KAAKzX,EAAI0X,MAAK,KA3Kd,EA+KnBC,kBAAoB,WAChB,IAAI3X,EAAK,EAAKgB,MAAMyW,KACpB,EAAKhX,SAAS,CAACiX,MAAK,EAAOD,KAAK,OAChChG,YAAW,CAAE/L,OAAQ1F,IACpBM,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACFqW,aAAS,EAAMtW,EAAKsF,QAAS,WAC7B,EAAKpF,SAAS,CAAE0E,KAAK,2BAAM,EAAKnE,MAAMmE,MAAlB,IAAwByS,QAAS,MAFnD,2CADN,uDAIG,SAAAjX,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,aAvLf,EA0LnBgS,cAAgB,SAAC7X,GACb8X,YAAc,CAAEpS,OAAQ1F,IACvBM,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACFqW,aAAS,EAAMtW,EAAKsF,QAAS,WAC7B,EAAKpF,SAAS,CAAE0E,KAAK,2BAAM,EAAKnE,MAAMmE,MAAlB,IAAwB4S,YAAa,MAAO,eAF9D,2CADN,uDAMG,SAAApX,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,aAlMf,EAqMnBmS,YAAc,SAAChY,GACXiY,YAAgB,CAAEvS,OAAQ1F,IACzBM,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACFqW,aAAS,EAAMtW,EAAKsF,QAAS,WAC7B,EAAKpF,SAAS,CAAE0E,KAAK,2BAAM,EAAKnE,MAAMmE,MAAlB,IAAwB4S,YAAa,MAAQ,eAF/D,2CADN,uDAMG,SAAApX,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,aA7Mf,EAiNnBqS,WAAa,SAACC,EAAQ/R,GAClB,EAAK3F,SAAS,CAAE0E,KAAK,2BAAM,EAAKnE,MAAMmE,MAAlB,IAAwBiT,WAAY,EAAIhS,MAC5DD,YAAS,CAAET,OAAQyS,IAAU,GACxB7X,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,sDACkB,QAAhBD,EAAKsF,QACL,EAAK2Q,kBAAkB,cACA,WAAhBjW,EAAKsF,SACZ,EAAK2Q,kBAAkB,aAAc,OAJvC,2CADV,uDAOO,SAAA7V,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,aA3NnB,EA+NnBwN,UAAY,SAAClO,GACT,EAAK1E,SAAS,CAAE4X,YAAY,EAAMC,SAAUnT,KAhO7B,EAmOnBuN,gBAAkB,WACd,EAAKjS,SAAS,CAAE4X,YAAY,KApOb,EAuOnBE,cAAgB,kBAAM7O,YAAW,kBAAM,EAAKjJ,SAAS,CAAE+X,SAAS,MAAS,MAvOtD,EAwOnBC,YAAc,kBAAM,EAAKhY,SAAS,CAAEiX,MAAO,EAAK1W,MAAM0W,QAxOnC,EA0OnBrR,QAAU,SAACX,GACP,GAA6B,IAA1B,EAAK1E,MAAMuF,aAA+C,MAA1B,EAAKvF,MAAMuF,YAAoB,CAClEzF,aAAa,EAAM,8BACnB,IAAIwF,EAAM,CAAEZ,SAAQK,QAAS,EAAK/E,MAAMuF,aACxCC,YAAYF,GACPhG,KADL,uCACU,WAAMC,GAAN,eAAAC,EAAA,sDACF,EAAKgW,kBAAkB,cACjBxO,EAAU,EAAKhH,MAAMmE,MACdY,UACTiC,EAAQjC,QAAU,IAEtBiC,EAAQjC,QAAQoC,QAAQ5H,EAAKwF,SAC7B,EAAKtF,SAAS,CAAE0E,KAAM6C,EAASvB,cAAc,EAAMF,YAAa,KAChEzF,cARE,2CADV,uDAUO,SAAAH,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,SAC1B/E,mBA1PO,EA+PnB2F,aAAe,SAACf,GAEZ5E,aAAa,EAAM,oCACnB4F,YAAY,CAAEhB,WAAU,GACnBpF,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,sDACFM,cACA,EAAKL,SAAS,CAAE0E,KAAK,2BAAM,EAAKnE,MAAMmE,MAAlB,IAAwBY,QAASxF,MACrD,EAAKE,SAAS,CAAEgG,cAAc,IAH5B,2CADV,uDAKO,SAAA9F,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,SAC1B/E,kBAzQO,EA6QnB8F,aAAe,SAACC,EAAKhG,GAAW,IAAD,EACHgG,EAAI7E,OAApBkB,EADmB,EACnBA,KAAMjB,EADa,EACbA,MACS,YAAnB4E,EAAI7E,OAAOkB,KACX,EAAKzC,SAAL,eAAiByC,EAAOjB,IAAS,eAEjC,EAAKxB,SAAL,yBAAoByC,GAApB,2BAAkC,EAAKlC,MAAM8F,UAA7C,kBAAwDjG,EAAQoB,MAAW,gBAlRhE,EAuRnBsR,aAAe,WACX,EAAKiD,kBAAkB,eAxRR,EA2RnBkC,iBAAmB,SAAC/S,GAChB,IAAI9E,EAAQ,EAAKG,MAAMmE,KAAKY,QAAQoQ,WAAU,SAAAwC,GAAE,OAAIA,EAAGtY,MAAQsF,KACzDiT,EAAe,EAAK5X,MAAMmE,KAChCyT,EAAa7S,QAAQlF,GAAOgY,WAAY,EACxC,EAAKpY,SAAS,CAAE0E,KAAMyT,KA/RP,EAuSnBE,mBAAqB,SAACnT,GAElB7E,aAAa,EAAM,oCACnBiY,YAAiB,CAAEpT,cAAa,GAC3BrF,KADL,uCACU,WAAMC,GAAN,iBAAAC,EAAA,sDACFM,cACID,EAAQ,EAAKG,MAAMmE,KAAKY,QAAQoQ,WAAU,SAAAwC,GAAE,OAAIA,EAAGtY,MAAQsF,MACzDiT,EAAe,EAAK5X,MAAMmE,MACnBY,QAAQlF,GAAOmY,QAAUzY,EACtC,EAAKE,SAAS,CAAE0E,KAAMyT,IALpB,2CADV,uDAOO,SAAAjY,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,SAC1B/E,kBAnTO,EAuTnBmY,qBAAuB,SAACC,EAAWlT,GAC/B,IAAIgC,EAAU,EAAKhH,MAAMmE,KACzB,GAAI6C,EAAQjC,SAAWiC,EAAQjC,QAAQC,GAAe,CAC9CgC,EAAQjC,QAAQC,GAAcgT,QAC9BhR,EAAQjC,QAAQC,GAAcgT,QAAQjF,KAAKmF,GAE3ClR,EAAQjC,QAAQC,GAAcgT,QAAU,CAACE,GAE7C,IAAIC,EAAe,EAAKnY,MAAM8F,SAC9BqS,EAAanT,GAAgB,GAC7B,EAAKvF,SAAS,CAAE0E,KAAM6C,EAASlB,SAAUqS,MAjU9B,EAwXnBC,eAAiB,SAACjU,EAAMsB,EAAcF,EAAaO,GAC/C,OACM3B,EAAKyS,QAAU,GAAQzS,EAAKmS,OAAS,GAA0B,UAArB,EAAK1X,MAAM4I,OAAuB,KAC9E,kBAAC,IAAD,CAAegM,SAAU,EAAKxT,MAAMwT,SAAUG,MAAO,EAAK3T,MAAM2T,MAAOD,OAAQ,EAAKiB,YAAalB,SAAU,kBAAI,EAAKA,SAAStP,IAAO0P,KAAM,kBAAM,EAAKA,KAAK1P,EAAK9E,MAAMuU,OAAQ,kBAAI,EAAKA,OAAOzP,EAAK9E,MAAMwT,IAAK,SAAS1O,EAAKiP,KAAMR,MAAOyF,iBAAqBhX,GAAjB8C,EAAKmU,eAA6CjX,GAApB8C,EAAKmU,SAAS,GAAkBnU,EAAKmU,SAAS,GAAGC,YAAc,IAAK5F,EAAGxO,EAAK9E,IAAKD,YAAa,EAAKR,MAAMQ,YAAa+E,KAAMA,EAAM2P,MAAO3P,EAAKqU,QAAStE,MAAO/P,EAAKsU,WAAYtE,OAAQhQ,EAAKuU,WAAYrE,KAAM,EAAKrU,MAAMqU,KAAMD,SAAUjQ,EAAKwU,UAAWpE,SAAUpQ,EAAKoQ,SAAUR,YAAa,EAAK/T,MAAMgV,SAAUzB,WAAY,EAAKA,WAAYL,SAAU/O,EAAKvD,UAxX9mB,EAAKZ,MAAQ,CACT0W,MAAK,EACL7D,IAAKjU,EAAMuF,KAAK0O,IAChB1O,KAAMvF,EAAMuF,KACZsS,KAAM,KACN3X,IAAKF,EAAMuF,KAAK9E,IAChBgY,YAAY,EACZ7D,SAAgC,GAAvB5U,EAAMuF,KAAKqP,SACpBG,MAA0B,GAApB/U,EAAMuF,KAAKwP,MACjBY,SAAU,GACV2B,OAAQ,GACRvB,aAAY,EACZ2C,SAAU,GACVnU,MAAO,GACPqU,SAAS,EACTnD,KAAK,EACL5O,cAAc,EACdF,YAAa,GACbyP,SAAU,GACVlP,SAAU,IAGd,EAAKuM,UAAY,EAAKA,UAAUvL,KAAf,gBACjB,EAAK4K,gBAAkB,EAAKA,gBAAgB5K,KAArB,gBA1BR,E,+DAwDA1F,GACZA,EAAU+B,OAAShC,KAAKvC,MAAMuE,OAC7BhC,KAAK8B,a,+BAgRH,IAAD,SAEsD9B,KAAKnB,MAAxDmE,EAFH,EAEGA,KAAMsB,EAFT,EAESA,aAAcF,EAFvB,EAEuBA,YAAaO,EAFpC,EAEoCA,SAAUhH,EAF9C,EAE8CA,IAEnD,OACI,yBAAKwC,UAAW,QAASxC,IAAKA,GACrB,kBAAC,IAAD,CAAOoQ,aAAc/N,KAAKnB,MAAM2U,YAAaxF,WAAYhO,KAAKwT,aAC9D,6BACI,yBAAKrT,UAAU,cACX,4BAAQA,UAAU,eAAeL,MAAOE,KAAKnB,MAAMuU,SAAW7S,SAAU,SAACZ,GAAD,OAAO,EAAKrB,SAAS,CAAC8U,SAAUzT,EAAEE,OAAOC,UAC7G,4BAAQA,MAAM,IAAd,mBACA,4CACA,uDACA,gDACA,wCACA,2CAGR,yBAAKK,UAAU,cACX,8BAAUC,KAAK,OAAOE,YAAY,SAASH,UAAU,eAAeI,SAAU,SAACZ,GAAD,OAAO,EAAKrB,SAAS,CAACyW,OAAQpV,EAAEE,OAAOC,SAASA,MAAOE,KAAKnB,MAAMkW,WAG7J,yBAAK5U,UAAU,IACf,kBAAC,IAAD,CAAQc,QAAQ,UAAUC,KAAK,cAAcC,QAAS,kBAAM,EAAKoR,OAAOvP,KAAxE,UACA,kBAAC,IAAD,CAAQ/B,QAAQ,YAAYC,KAAK,cAAcC,QAASnB,KAAKwT,aAA7D,YAGA,kBAAC,IAAD,CAAQiE,QAASzX,KAAKsW,YAAanW,UAAU,gBAAiBoV,KAAMvV,KAAKnB,MAAM0W,MAC3E,4BAAQpV,UAAU,mBAAkB,8CACpC,uBAAGA,UAAU,OAAb,qCACA,yBAAKA,UAAU,wDACX,kBAAC,IAAD,CAAQgB,QAASnB,KAAKsW,YAAarV,QAAQ,aAA3C,UACA,kBAAC,IAAD,CAAQE,QAASnB,KAAKwV,kBAAmBvU,QAAQ,WAAjD,SAGN+B,EAAKmP,SAA4E,KAAjEnS,KAAKiX,eAAejU,EAAMsB,EAAcF,EAAaO,GACtE3E,KAAKnB,MAAMqX,YACR,kBAAC,IAAD,CACIlT,KAAMhD,KAAKnB,MAAMsX,SACjB/E,aAAcpR,KAAKoR,aACnBb,gBAAiBvQ,KAAKuQ,uB,GApXvB9O,IAAMC,WAkYd0E,O,8UCvDAsR,E,kDAlVd,WAAYja,GAAQ,IAAD,8BAClB,cAAMA,IAwEPka,aAAe,SAACC,GACf,IAAIvY,EAASuY,EAAUC,KAAK,KAC5B,EAAKvZ,SAAS,CAAEwZ,WAAYzY,IAAU,WACrC,EAAK0Y,cAAc5K,QAAQ9D,YA5EV,EAgFnB2O,cAAgB,WACf,EAAK1Z,SAAS,CACb2Z,SAAU,EAAKpZ,MAAMoZ,WAlFJ,EAqFnBC,iBAAmB,WAClB,EAAK5Z,SAAS,CACb6Z,WAAsC,WAA1B,EAAKtZ,MAAMsZ,WAA0B,SAAW,YAvF3C,EA0FnBC,UAAY,WACX,EAAK9Z,SAAS,CACboT,IAAK,MA5FY,EA+FnB2G,qBAAuB,WACtB,EAAK/Z,SAAS,CACb6S,KAAM,GACNO,IAAK,GACL4G,WAAY,GACZC,SAAU,GACVT,WAAY,GACZU,oBAAoB,GACpBL,WAAY,YAvGK,EA0GnBM,cAAgB,WAAe,IAAd9E,EAAa,uDAAP,GACtB,EAAKrV,SAAS,CACboa,QAAU/E,KA5GO,EA+GnB3Q,KAAO,WACN,IAAM2V,EAAW,IAAIC,SACjBzH,EAAO,EAAKtS,MAAMsS,KACtBA,EAAOA,EAAK0B,QAAQ,SAAU,IAC9B8F,EAASE,OAAO,KAAM,EAAKpb,MAAMuF,KAAK9E,KACtCya,EAASE,OAAO,WAAY,EAAKha,MAAM0Z,UACvCI,EAASE,OAAO,YAAa,EAAKha,MAAMsY,UACpC,EAAK1Z,MAAMuF,KAAKmP,UAGnBwG,EAASE,OAAO,aAAc1H,GAC9BwH,EAASE,OAAO,OAAQ,EAAKha,MAAMia,QAHnCH,EAASE,OAAO,OAAQ1H,GAMzBwH,EAASE,OAAO,UAAW,YAC3BF,EAASE,OAAO,aAAc1W,KAAKK,UAAU,EAAK3D,MAAMka,OACxDJ,EAASE,OAAO,UAAW,EAAKha,MAAMsZ,YACtCQ,EAASE,OAAO,cAAe,EAAKha,MAAMoZ,SAC1CU,EAASE,OAAO,MAAO,EAAKha,MAAM6S,KACjC,EAAK+G,cAAc,iCACpBO,YAAWL,GACTxa,KADF,uCACO,WAAMC,GAAN,SAAAC,EAAA,sDACFD,EAAK6a,SACP,EAAKxb,MAAMub,WAAW5a,EAAK4E,MAY5B,EAAKyV,gBAdA,2CADP,uDAgBI,SAAAja,GAEF,EAAKia,oBArJW,EA8KnBpF,WAAa,SAAClC,GACb,IACImC,EAAQ,IAAIC,OADC,2GAGjB,OAAOpC,EAAKrT,MAAMwV,IAlLA,EAoLnB4F,WAAa,SAACC,GACb,IAAIxQ,EAAOQ,SAAS+B,cAAc,OAElC,OADAvC,EAAKyQ,UAAYD,EACVxQ,EAAK0Q,aAvLM,EA0LnB5U,aAAe,SAAAC,GACd,IAAIiP,EAAO,EAAKuF,WAAWxU,EAAI7E,OAAOC,OACtC,EAAKxB,SAAS,CAAC6S,KAAMwC,IAAM,WAC1B,IAAIhL,EAAO,EAAK0K,WAAW,EAAKxU,MAAMsS,MAE3B,MAARxI,GAAgBA,EAAK5I,OAAS,GAAK,EAAK2R,KAAO/I,EAAK,IACrD,EAAKrK,SAAS,CACboT,IAAK/I,EAAK,SAjMI,EAgNnB2Q,UAAY,WACP,EAAKza,MAAM0a,gBACdC,YAAY,CAAC7b,IAAK,KAAK,GACtBQ,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACL,EAAKC,SAAS,CAAEmb,YAAarb,IAAQ,eADhC,2CADN,uDAIG,SAAAI,OAIJ,EAAKF,SAAS,CAAEib,gBAAiB,EAAK1a,MAAM0a,kBAxN5C,EAAKxB,cAAgBtW,IAAMkM,YAC3B,EAAK+L,UAAYjY,IAAMkM,YACvB,EAAKgM,gBAAkBlY,IAAMkM,YAC7B,EAAK9O,MAAQ,CAACsa,KAAM,6BACpB,EAAKta,MAAQ,CACZ+a,UAAW,EACX3B,SAAS,EACT9G,KAAM,GACN2H,MAAO,GACPJ,QAAS,GACThH,IAAK,GACL4G,WAAY,GACZC,SAAU,GACVT,WAAY,GACZK,WAAY,SACZY,KAAM,GACNQ,gBAAgB,EAChBE,YAAa,GACbtC,SAAS,GACTqB,oBAAoB,IAGrB,EAAKqB,kBAAoB,EAAKA,kBAAkBlU,KAAvB,gBACzB,EAAKlB,aAAe,EAAKA,aAAakB,KAAlB,gBACpB,EAAK0N,WAAa,EAAKA,WAAW1N,KAAhB,gBAClB,EAAKmU,SAAW,EAAKA,SAASnU,KAAd,gBAChB,EAAKyS,UAAY,EAAKA,UAAUzS,KAAf,gBA5BC,E,gEAwClB,IAAI3C,EAAOhD,KAAKvC,MAAMuF,KACtB,GAAIA,EAAKmP,SAwBTnS,KAAK1B,SAAS,CACb6S,KAAMnO,EAAK+W,WACXjB,MAAO9V,EAAKmO,WA1BK,CACZnR,KAAK1B,SAAS,CACnB6S,KAAMnO,EAAKmO,KACF4H,KAAM/V,EAAKgX,aACX7B,WAAYnV,EAAKiX,QACjBC,YAAalX,EAAKkX,YAC3BxI,IAAK1O,EAAK0O,IACVyF,SAAUnU,EAAKmU,WAEhB,IAAIqB,EAAsB,GAC1B,GAAGxV,EAAKmU,SAASpX,OAAS,EAAE,CAC3B,IAAIoa,EAAUnX,EAAKmU,SAAS,GAAGC,YAAYgD,MAAM,KAAMC,MACvD,IAAkC,IAA/BzP,IAAMkD,QAAQ,IAAIqM,GAAe,CAEnC3B,EAAoB5G,KADA,yBAAKzR,UAAU,iBAAiBE,IAAK2C,EAAKmU,SAAS,GAAGC,oBAEnC,IAA/BkD,IAAMxM,QAAQ,IAAIqM,GAC1B3B,EAAoB5G,KAAK,qBACa,IAA9BrI,IAAKuE,QAAQ,IAAIqM,IACzB3B,EAAoB5G,KAAK,mBAE1B5R,KAAK1B,SAAS,CAACka,oBAAoBA,IAEpCxY,KAAK1B,SAAS,CAACsb,UAAW5Z,KAAKvC,MAAMQ,YAAY2b,e,wCA0FhCja,GAAI,IAAD,OACpBK,KAAK1B,SAAS,CAAEia,SAAU5Y,EAAEE,OAAO2J,MAAM,KAAK,WAC7C,IAAI2Q,EAAU,EAAKtb,MAAM0Z,SAASxX,KAAKqZ,MAAM,KAAMC,MAC/C7B,EAAsB,GAC1B,IAAkC,IAA/B5N,IAAMkD,QAAQ,IAAIqM,GAAe,CAEnC3B,EAAoB5G,KADA,yBAAKzR,UAAU,iBAAiBE,IAAKoJ,IAAIC,gBAAgB,EAAK7K,MAAM0Z,kBAEjD,IAA/B+B,IAAMxM,QAAQ,IAAIqM,GAC1B3B,EAAoB5G,KAAK,qBACa,IAA9BrI,IAAKuE,QAAQ,IAAIqM,IACzB3B,EAAoB5G,KAAK,mBAE1B,EAAKtT,SAAS,CAACka,oBAAoBA,S,+BAiC5B/X,GACR,IAAMsY,EAAO/Y,KAAKnB,MAAMka,KAAKwB,MAAM,GACnCxB,EAAKyB,OAAO/Z,EAAG,GACfT,KAAK1B,SAAS,CAAEya,W,iCAEN0B,GACV,IAAM1B,EAAO,GAAG2B,OAAO1a,KAAKnB,MAAMka,KAAM0B,GACxCza,KAAK1B,SAAS,CAAEya,W,+BAgBP,IAAD,SAC8E/Y,KAAKnB,MAAnFiZ,EADA,EACAA,WAAYK,EADZ,EACYA,WAAYY,EADxB,EACwBA,KAAMQ,EAD9B,EAC8BA,eAAef,EAD7C,EAC6CA,oBAAqBP,EADlE,EACkEA,QAE1E,OACC,yBAAK9X,UAAU,iDACd,yBAAKA,UAAU,aACd,yBAAKA,UAAU,OACd,wBAAIA,UAAU,wBAEb,wBAAIA,UAAU,qEACb,yBAAKA,UAAU,kCACd,uBAAGA,UAAU,QAAb,aAGA,8BACCA,UAAU,sCACVG,YAAY,SACZ0Q,KAAK,IACLjQ,KAAK,OACLjB,MAAOE,KAAKnB,MAAMsS,KAClB5Q,SAAUP,KAAKyE,iBAKC,IAAlBzE,KAAKnB,MAAM6S,KACmB,wBAAIvR,UAAU,yDAAd,KAAwE,uBAAGgB,QAASnB,KAAKoY,UAAWjY,UAAU,4BAU3IqY,GAAuBA,EAAoBzY,OAAS,GACrD,wBAAII,UAAU,qEACb,yBAAKA,UAAU,yDACd,uBAAGA,UAAU,kCAAkCgB,QAAS,kBAAM,EAAK7C,SAAS,CAACka,oBAAoB,GAAIrB,SAAU,QAC9GqB,EAAoB,KAItBO,EAAKhZ,OAAS,GACf,wBAAII,UAAU,qEACb,yBAAKA,UAAU,8CACd,4BACE4Y,EAAKvY,KAAI,SAACV,EAAOpB,GACjB,OAAO,wBAAIyC,QAAS,kBAAM,EAAK2Y,SAASpb,IAAQyB,UAAU,YAAYxC,IAAKe,GAAQoB,EAAMiB,KAAlF,IAAwF,mCAAxF,WAOZ,wBAAIZ,UAAU,iGAEb,yBAAKA,UAAU,yBACf,yBAAKA,UAAU,QACZ,2BAAOC,KAAK,OAAOW,KAAK,OAAO1B,OAAQyY,EAAYvX,SAAUP,KAAK6Z,kBAAmBtL,IAAKvO,KAAK+X,iBAEjG,wBAAI5X,UAAU,sDACd,wBAAIA,UAAW,uBACb,4BAAQC,KAAK,SAASD,UAAU,2BAA2BgB,QAAS,SAACxB,GAAD,OAAO,EAAKgY,aAAa/M,OAC5F,yBAAKzK,UAAU,MAAME,IAAK6R,EAAQ,SAIrC,wBAAI/R,UAAW,wBAAwBoZ,GAAkB,aACvD,4BAAQnZ,KAAK,SAASD,UAAU,2BAA2BgB,QAAS,kBAAM,EAAKmY,cAA/E,mBAIAC,GACA,wBAAIpZ,UAAU,+BACb,kBAAC,IAAD,CACCoO,IAAKvO,KAAK0Z,UACViB,gBAAgB,WAChBlB,YAAazZ,KAAKnB,MAAM4a,YACxBmB,YAAY,EACZC,WAAY7a,KAAK6a,WAAWlV,KAAK3F,SAIX,MAAxBA,KAAKnB,MAAM+a,WAAqB5Z,KAAKnB,MAAM+a,UAAY,GAAK,wBAAIzZ,UAAU,uBAC1E,yBAAKA,UAAU,oBAAoBgB,QAASnB,KAAKgY,cAAe3X,IAAK6R,OAAQ,MAA0B+F,EAAU,qBAAuB,0BACxI,0BAAM9X,UAAU,SAIjB,wBAAIA,UAAU,uBACb,yBAAKA,UAAU,oBAAoBgB,QAASnB,KAAKkY,iBAAkB7X,IAAK6R,OAAQ,MAAwC,UAAdiG,EAAyB,yBAA2B,2BAA6B,UAC3L,0BAAMhY,UAAU,OAAhB,eAGD,wBAAIA,UAAU,wBAEb,4BAAQC,KAAK,SAASD,UAAU,iCAAiCgB,QAASnB,KAAKgD,MAA/E,eAUkB,IAAtBhD,KAAKnB,MAAM6Z,SAAiB,yBAAKvY,UAAU,iBAAgB,2BAAOA,UAAU,mCAAmCH,KAAKnB,MAAM6Z,SAAgB,kBAAC,IAAD,CAAQ5T,MAAM,OAAOgW,MAAM,oB,GA3UrJrZ,IAAMC,W,iCCgCdqZ,G,OAnCQ,SAAAtd,GACrB,IAD8B,EAINyS,mBAASzS,EAAMuF,MAJT,mBAIvBA,EAJuB,aAKEkN,mBAASzS,EAAM0Z,WALjB,mBAKvBA,EALuB,aAMEjH,mBAASzS,EAAMud,WANjB,mBAMvBA,EANuB,aAON9K,mBAASzS,EAAM2C,OAPT,mBAOvBA,EAPuB,UAQ9B,OACC,yBAAKD,UAAU,qBAAqBxC,IAAKF,EAAM+T,QAC9BtR,GAAfiX,EAAS,GAAkB,KAAO,yBAAKhX,UAAU,qBAAqB+N,MAAO,CAACC,gBAAiB,OAAS+I,YAAIC,EAAS,GAAGC,aAAe,KAAMjW,QAAS,kBAT3IuQ,EASsJjU,EAAMiU,SARxKC,IAAQC,KAAKF,GADF,IAACA,KAWZ,yBAAKvR,UAAU,aACX,yBAAKA,UAAU,0DACX,kBAACO,EAAA,EAAD,CAAGC,KAAM,MAAMqC,EAAKvD,OAAQU,UAAU,sBACtC,yBAAKA,UAAU,wBAAwB+N,MAAO,CAACC,gBAAgB,OAAD,OAAUvN,iBAAuBV,GAAZ8a,EAAwB,GAAKA,EAASna,QAA3D,QAC9D,kCAAkBX,GAAZ8a,EAAwB,SAAWA,EAASja,OAElD,uBAAGZ,UAAU,oBAAmB,kBAAC,IAAD,CAAS8a,KAAMjY,EAAKkY,cAGjD,QAAR9a,GAAkB,kBAACM,EAAA,EAAD,CAAGC,KAAMlD,EAAMiU,KAAK,wBAAIvR,UAAU,mBAAmB6C,EAAKqU,UAC7E,yBAAKlX,UAAU,uBAAuB6C,EAAKoQ,UAE3C,kBAAC+H,EAAA,EAAD,CAAUC,MAAO,EAAGjb,UAAU,mBAAmBkb,SAAU,qCAAU,uBAAG1a,KAAMlD,EAAMiU,KAAf,oBACrDxR,GAAb8C,EAAKmO,MAAqBnO,EAAKmO,KAAK0B,QAAQ,kBAAmB,KAGlE,6BAAK,gCAAS7P,EAAK+V,W,gBChBzB7G,EAAQ,KAEmBA,EAAQ,KAAnC,IAEMxL,E,kDAEF,WAAYjJ,GAAQ,IAAD,8BACf,cAAMA,IA8BV4V,WAAa,SAAClC,GAChB,IACImC,EAAQ,IAAIC,OADC,2GAEjB,OAAOpC,EAAKrT,MAAMwV,IAlCG,EAuCnBG,kBAAoB,WAChBlS,QAAQC,IAAI,WACZ,EAAKlD,SAAS,CACV0E,KAAM,EAAKvF,MAAMuF,OAClB,WACC,IAAIA,EAAO,EAAKnE,MAAMmE,KACnB,EAAKvF,MAAMiW,SAAY1Q,EAAKvD,QAAU,EAAKhC,MAAMQ,YAAYC,UAA6BgC,GAApB8C,EAAKsY,SAAS,KAAiD,YAA7BtY,EAAKsY,SAAS,GAAGrI,UAAwD,WAA7BjQ,EAAKsY,SAAS,GAAGrI,UAAyBjQ,EAAKuY,WAAWxb,OAAS,KACtN,EAAKuE,aAAa,EAAKzF,MAAMmE,KAAK9E,KAEtC,EAAKsd,iBAET,IACI,IAAI/a,EAAI,EAAKhD,MAAMuF,KAAKmU,SAAS,GAAGC,YACpC,EAAK9Y,SAAS,CACVmd,OAAQ,CAAChb,KAEf,MAAOjC,MAvDM,EA6DnBgd,YAAc,WAEN,IAQIrK,OATmBjR,GAAxB,EAAKrB,MAAMmE,KAAKmO,MAA6C,MAAxB,EAAKtS,MAAMmE,KAAKmO,MAAwC,IAAxB,EAAKtS,MAAMmE,KAAKmO,OAGpFA,GADAA,GADIA,EAAO,EAAKtS,MAAMmE,KAAKmO,MACf0B,QAAQ,kBAAmB,SAC3BA,QAAQ,WAAY,8DAChC,EAAKvU,SAAS,CACVyK,QAASoI,UAGgBjR,GAA9B,EAAKrB,MAAMmE,KAAK+W,YAAyD,MAA9B,EAAKlb,MAAMmE,KAAK+W,YAAoD,IAA9B,EAAKlb,MAAMmE,KAAK+W,aAGhG5I,GADAA,GADIA,EAAO,EAAKtS,MAAMmE,KAAK+W,YACflH,QAAQ,kBAAmB,SAC3BA,QAAQ,WAAY,8DAChC,EAAKvU,SAAS,CACVod,cAAevK,MA3ER,EAqFnBkD,kBAAoB,SAACC,GAAkC,IAApBC,EAAmB,uDAAV,MAClC1O,EAAU,EAAKhH,MAAMmE,KACtB6C,EAAQyO,KACTzO,EAAQyO,GAAgB,GAGxBzO,EAAQyO,GADE,OAAVC,EACwB1O,EAAQyO,GAAgB,EAExBzO,EAAQyO,GAAgB,EAEpD,EAAKhW,SAAS,CAAE0E,KAAM6C,KA/FP,EAkGnB8V,qBAAuB,SAACnY,EAAW8Q,GAAkC,IAApBC,EAAmB,uDAAV,MAChDvR,EAAO,EAAKnE,MAAMmE,KAClB6C,EAAU7C,EAAKY,QAAQJ,GACxBqC,EAAQyO,KACTzO,EAAQyO,GAAgB,GAGxBzO,EAAQyO,GADE,OAAVC,EACwB1O,EAAQyO,GAAgB,EAExBzO,EAAQyO,GAAgB,EAEpDtR,EAAKY,QAAQJ,GAAaqC,EAC1B,EAAKvH,SAAS,CAAE0E,KAAMA,KA9GP,EAiHnBwR,SAAW,SAACxR,GACR,EAAK1E,SAAS,CAACwI,OAAQ,EAAKjI,MAAMiI,SAlHnB,EAqHnB0M,YAAc,WAAyE,IAAxEpT,EAAuE,uDAAhE,KAAMqC,EAA0D,uDAAnD,KAAM9E,EAA6C,uDAAvC,KAAMiG,EAAiC,uDAAvB,KAAMgY,EAAiB,uDAAV,KACxEra,QAAQC,IAAIpB,EAAMqC,EAAM9E,EAAKiG,EAASgY,GAC3B,MAARxb,GACC,EAAK9B,SAAS,CACVud,SAAUzb,EACV0b,SAAUrZ,EACVsZ,QAAUpe,EACVqe,YAAapY,EACbqY,SAAUL,IAGlB,EAAKtd,SAAS,CAACkV,aAAc,EAAK3U,MAAM2U,eAhIzB,EAmInBlQ,YAAc,SAAC3F,EAAK4F,EAAQC,GAExBC,YAAY,CAAEF,SAAQC,cAAa,GAC9BrF,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,sDACkB,QAAhBD,EAAKsF,QACP,EAAKiY,qBAAqBhe,EAAK,cACN,WAAhBS,EAAKsF,SAChB,EAAKiY,qBAAqBhe,EAAK,aAAc,OAJ3C,2CADV,uDAOO,SAAAa,QA5IQ,EAiJnB0d,cAAgB,SAAC9b,EAAMmD,EAAQ1F,GAE3B0D,QAAQC,IAAIpB,EAAMmD,EAAQ1F,GAC1Bse,YAAc,CAAEte,OAAM,GACjBM,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,sDACS,WAAR+B,GACC,EAAKkE,aAAaf,GAClB,EAAK8Q,kBAAkB,YAAa,SAEpC9S,QAAQC,IAAI,QACZ,EAAKmV,mBAAmBpT,IAN1B,2CADV,uDASO,SAAA/E,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,aA9JnB,EAkKnBC,aAAe,SAACJ,EAAQC,EAAWI,EAASC,EAAcC,GACxC,IAAXF,GAA4B,MAAXA,GACpBG,YAAa,CAAER,OAAQA,EAAQC,YAAWI,YAAW,GAChDzF,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,sDACFyF,EAAS1F,EAAKwF,QAASC,GADrB,2CADV,uDAGO,SAAArF,QAvKQ,EA4KnB4d,SAAW,SAACve,GAER4W,YAAS,CAAElR,OAAQ1F,IAClBM,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACFqW,aAAS,EAAMtW,EAAKsF,QAAS,WAC7B,EAAKpF,SAAS,CAAE0E,KAAK,2BAAM,EAAKnE,MAAMmE,MAAlB,IAAwBwP,MAAO,MAFjD,2CADN,uDAIG,SAAAhU,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,aAnLf,EAsLnB2Y,WAAa,SAACxe,GACV8W,YAAW,CAAEpR,OAAQ1F,IACpBM,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACFqW,aAAS,EAAMtW,EAAKsF,QAAS,WAC7B,EAAKpF,SAAS,CAAE0E,KAAK,2BAAM,EAAKnE,MAAMmE,MAAlB,IAAwBwP,MAAO,MAFjD,2CADN,uDAIG,SAAAhU,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,aA5Lf,EA+LnB6O,OAAS,WACL,GAA0B,IAAvB,EAAK1T,MAAMuU,SACVsB,aAAS,EAAM,qCACd,CACL,IAAIE,EAAI,EAAK/V,MAAMid,SACfQ,EAAI,EAAKzd,MAAMgd,SACfle,EAAM,EAAKkB,MAAMkd,QACjBQ,EAAI,EAAK1d,MAAMmd,YACfJ,EAAO,EAAK/c,MAAMod,SACtB1a,QAAQC,IAAIoT,EAAG0H,EAAG3e,EAAK4e,EAAGX,GAC1B,IAAI/G,EAAO,GAEPA,EADI,WAALyH,GAGU,SAALA,EAFG1H,EAAEzD,KAKF,QAAQyD,EAAE1W,IAEjB4W,YAAW,CAAEjX,GAAI+W,EAAE1W,IAAKkC,KAAMkc,EAAGzH,OAAMzB,SAAU,EAAKvU,MAAMuU,SAAU2B,OAAQ,EAAKlW,MAAMkW,SACxF5W,KADD,uCACM,WAAMC,GAAN,eAAAC,EAAA,sDACFqW,aAAS,EAAMtW,EAAKsF,QAAS,WACrB,WAAL4Y,IACK3T,EAAO,EAAK9J,MAAMmE,MACjBY,QAAQjG,GAAb,SAAgC,EAChC,EAAKW,SAAS,CAAE0E,KAAM2F,EAAM6K,aAAY,KAE/B,SAAL8I,IACA3T,EAAO,EAAK9J,MAAMmE,MACjBY,QAAQgY,GAAM/E,QAAQlZ,GAA3B,SAA8C,EAC9C,EAAKW,SAAS,CAAE0E,KAAM2F,EAAM6K,aAAY,KAGxC,EAAKlV,SAAS,CAAEkV,aAAa,EAAOxQ,KAAK,2BAAM,EAAKnE,MAAMmE,MAAlB,IAAwBqP,SAAU,MAb5E,2CADN,uDAiBG,SAAA7T,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,SAC1B,EAAKpF,SAAS,CAAEkV,aAAa,SArOtB,EAyOnBlB,SAAW,SAACgK,EAAGze,GAA8B,IAA1BF,EAAyB,uDAArB,KAAMie,EAAe,uDAAT,KAC/B5G,YAAa,CAAEnX,GAAIA,IAClBM,KADD,uCACM,WAAMC,GAAN,eAAAC,EAAA,sDACFqW,aAAS,EAAMtW,EAAKsF,QAAS,WACrB,WAAL4Y,IACK3T,EAAO,EAAK9J,MAAMmE,MACjBY,QAAQjG,GAAb,SAAgC,EAChC,EAAKW,SAAS,CAAE0E,KAAM2F,KAEb,SAAL2T,IACA3T,EAAO,EAAK9J,MAAMmE,MACjBY,QAAQgY,GAAM/E,QAAQlZ,GAA3B,SAA8C,EAC9C,EAAKW,SAAS,CAAE0E,KAAM2F,KAGtB,EAAKrK,SAAS,CAAE0E,KAAK,2BAAM,EAAKnE,MAAMmE,MAAlB,IAAwBqP,SAAU,MAbxD,2CADN,uDAiBG,SAAA7T,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,aA5Pf,EA+PnBuR,SAAW,SAACpX,GACRqX,YAAS,CAAE3R,OAAQ1F,IAClBM,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACFqW,aAAS,EAAMtW,EAAKsF,QAAS,WAC7B,EAAKpF,SAAS,CAAE0E,KAAK,2BAAM,EAAKnE,MAAMmE,MAAlB,IAAwBmS,OAAQ,MAFlD,2CADN,uDAIG,SAAA3W,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,aArQf,EAwQnB0R,WAAa,SAACvX,GACVwX,YAAW,CAAE9R,OAAQ1F,IACpBM,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACFqW,aAAS,EAAMtW,EAAKsF,QAAS,WAC7B,EAAKpF,SAAS,CAAE0E,KAAK,2BAAM,EAAKnE,MAAMmE,MAAlB,IAAwBmS,OAAQ,MAFlD,2CADN,uDAIG,SAAA3W,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,aA9Qf,EA4RnB0O,WAAa,SAACvU,GACV,EAAKS,SAAS,CAACgX,KAAKzX,EAAI0X,MAAK,KA7Rd,EAgSnBC,kBAAoB,WAChB,IAAI3X,EAAK,EAAKgB,MAAMyW,KACpB,EAAKhX,SAAS,CAACiX,MAAK,EAAOD,KAAK,OAChChG,YAAW,CAAE/L,OAAQ1F,IACpBM,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACFqW,aAAS,EAAMtW,EAAKsF,QAAS,WAC7B,EAAKpF,SAAS,CAAE0E,KAAK,2BAAM,EAAKnE,MAAMmE,MAAlB,IAAwByS,QAAS,MACrD9W,cAHE,2CADN,uDAKG,SAAAH,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,SAC1B/E,kBA1SW,EA6SnB+W,cAAgB,SAAC7X,GACb8X,YAAc,CAAEpS,OAAQ1F,IACvBM,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACFqW,aAAS,EAAMtW,EAAKsF,QAAS,WAC7B,EAAKpF,SAAS,CAAE0E,KAAK,2BAAM,EAAKnE,MAAMmE,MAAlB,IAAwB4S,YAAa,MAAO,eAF9D,2CADN,uDAMG,SAAApX,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,aArTf,EAwTnBmS,YAAc,SAAChY,GACXiY,YAAgB,CAAEvS,OAAQ1F,IACzBM,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACFqW,aAAS,EAAMtW,EAAKsF,QAAS,WAC7B,EAAKpF,SAAS,CAAE0E,KAAK,2BAAM,EAAKnE,MAAMmE,MAAlB,IAAwB4S,YAAa,MAAQ,eAF/D,2CADN,uDAMG,SAAApX,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,aAhUf,EAoUnBqS,WAAa,SAACC,EAAQ/R,GAClB,EAAK3F,SAAS,CAAE0E,KAAK,2BAAM,EAAKnE,MAAMmE,MAAlB,IAAwBiT,WAAY,EAAIhS,MAC5DD,YAAS,CAAET,OAAQyS,IAAU,GACxB7X,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,sDACkB,QAAhBD,EAAKsF,QACL,EAAK2Q,kBAAkB,cACA,WAAhBjW,EAAKsF,SACZ,EAAK2Q,kBAAkB,aAAc,OAJvC,2CADV,uDAOO,SAAA7V,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,aA9UnB,EAkVnBwN,UAAY,SAAClO,GACT,EAAK1E,SAAS,CAAE4X,YAAY,EAAMC,SAAUnT,KAnV7B,EAsVnBuN,gBAAkB,WACd,EAAKjS,SAAS,CAAE4X,YAAY,KAvVb,EA0VnBE,cAAgB,kBAAM7O,YAAW,kBAAM,EAAKjJ,SAAS,CAAE+X,SAAS,MAAS,MA1VtD,EA2VnBC,YAAc,kBAAM,EAAKhY,SAAS,CAAEiX,MAAO,EAAK1W,MAAM0W,QA3VnC,EA6VnBrR,QAAU,SAACX,GACP,GAA6B,IAA1B,EAAK1E,MAAMuF,aAA+C,MAA1B,EAAKvF,MAAMuF,YAAoB,CAClEzF,aAAa,EAAM,8BACnB,IAAIwF,EAAM,CAAEZ,SAAQK,QAAS,EAAK/E,MAAMuF,aACxCC,YAAYF,GACPhG,KADL,uCACU,WAAMC,GAAN,eAAAC,EAAA,sDACF,EAAKgW,kBAAkB,cACjBxO,EAAU,EAAKhH,MAAMmE,MACdY,UACTiC,EAAQjC,QAAU,IAEtBiC,EAAQjC,QAAQoC,QAAQ5H,EAAKwF,SAC7B,EAAKtF,SAAS,CAAE0E,KAAM6C,EAASvB,cAAc,EAAMF,YAAa,KAChEzF,cARE,2CADV,uDAUO,SAAAH,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,SAC1B/E,mBA7WO,EAkXnB2F,aAAe,SAACf,GAEZ5E,aAAa,EAAM,oCACnB4F,YAAY,CAAEhB,WAAU,GACnBpF,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,sDACFM,cACA,EAAKL,SAAS,CAAE0E,KAAK,2BAAM,EAAKnE,MAAMmE,MAAlB,IAAwBY,QAASxF,MACrD,EAAKE,SAAS,CAAEgG,cAAc,IAH5B,2CADV,uDAKO,SAAA9F,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,SAC1B/E,kBA5XO,EAgYnB8F,aAAe,SAACC,EAAKhG,GAAW,IAAD,EACHgG,EAAI7E,OAApBkB,EADmB,EACnBA,KAAMjB,EADa,EACbA,MACS,YAAnB4E,EAAI7E,OAAOkB,KACX,EAAKzC,SAAL,eAAiByC,EAAOjB,IAAS,eAEjC,EAAKxB,SAAL,yBAAoByC,GAApB,2BAAkC,EAAKlC,MAAM8F,UAA7C,kBAAwDjG,EAAQoB,MAAW,gBArYhE,EA0YnBsR,aAAe,WACX,EAAKiD,kBAAkB,eA3YR,EA8YnBkC,iBAAmB,SAAC/S,GAChB,IAAI9E,EAAQ,EAAKG,MAAMmE,KAAKY,QAAQoQ,WAAU,SAAAwC,GAAE,OAAIA,EAAGtY,MAAQsF,KACzDiT,EAAe,EAAK5X,MAAMmE,KAChCyT,EAAa7S,QAAQlF,GAAOgY,WAAY,EACxC,EAAKpY,SAAS,CAAE0E,KAAMyT,KAlZP,EA0ZnBuC,WAAa,SAACxH,EAAGxO,GACb,IAAMyT,EAAY,eAAO,EAAK5X,MAAMmE,MACpCzB,QAAQC,IAAI,EAAK3C,MAAMmE,MACvByT,EAAatF,KAAOnO,EAAKmO,KACzBsF,EAAasD,WAAa/W,EAAK+W,WAC/BtD,EAAauD,aAAehX,EAAKgX,aACjCvD,EAAayD,YAAclX,EAAKkX,YAE5BzD,EAAaU,SAAWnU,EAAKmU,SACjC5V,QAAQC,IAAIiV,GACb,EAAKnY,SAAS,CAAEwI,OAAM,EAAO9D,KAAMyT,IAAe,WACjD,EAAK+E,kBAraU,EA8anB7E,mBAAqB,SAACnT,GAClB7E,aAAa,EAAM,oCACnBiY,YAAiB,CAAEpT,cAAa,GAC/BrF,KADD,uCACM,WAAMC,GAAN,iBAAAC,EAAA,sDACFkD,QAAQC,IAAIpD,GACZO,cACID,EAAQ,EAAKG,MAAMmE,KAAKY,QAAQoQ,WAAU,SAAAwC,GAAE,OAAIA,EAAGtY,MAAQsF,MACzDiT,EAAe,EAAK5X,MAAMmE,MACnBY,QAAQlF,GAAOmY,QAAUzY,EACtC,EAAKE,SAAS,CAAE0E,KAAMyT,IACtB,EAAKF,iBAAiB/S,GAPpB,2CADN,uDASG,SAAAhF,GACCkW,aAAS,EAAMlW,EAAMiE,KAAKiB,SAC1B/E,kBA3bW,EA+bnBmY,qBAAuB,SAACC,EAAWlT,GAC/B,IAAIgC,EAAU,EAAKhH,MAAMmE,KACzB,GAAI6C,EAAQjC,SAAWiC,EAAQjC,QAAQC,GAAe,CAC9CgC,EAAQjC,QAAQC,GAAcgT,QAC9BhR,EAAQjC,QAAQC,GAAcgT,QAAQjF,KAAKmF,GAE3ClR,EAAQjC,QAAQC,GAAcgT,QAAU,CAACE,GAE7C,IAAIC,EAAe,EAAKnY,MAAM8F,SAC9BqS,EAAanT,GAAgB,GAC7B,EAAKvF,SAAS,CAAE0E,KAAM6C,EAASlB,SAAUqS,MAzc9B,EA6gBnBC,eAAiB,SAACjU,EAAMsB,EAAcF,EAAaO,GAA8B,IAApBmN,EAAmB,wDAC5E,OACM9O,EAAKyS,QAAU,GAAwB,UAAhBzS,EAAKiX,SAA4C,UAArB,EAAKxc,MAAM4I,QAAsBrD,EAAKvD,QAAU,EAAKhC,MAAMQ,YAAYC,IAAQ,KACpI,yBAAKiC,UAAU,uBAAuBxC,IAAG,UAAKqF,EAAK9E,IAAV,MACrC,kBAACse,EAAA,EAAD,CAAQ/E,QAAS,EAAKnB,YAAanW,UAAU,gBAAiBoV,KAAM,EAAK1W,MAAM0W,MAC3E,4BAAQpV,UAAU,mBAAkB,8CACpC,uBAAGA,UAAU,OAAb,qCACA,yBAAKA,UAAU,wDACX,kBAACa,EAAA,EAAD,CAAQG,QAAS,EAAKmV,YAAarV,QAAQ,aAA3C,UACA,kBAACD,EAAA,EAAD,CAAQG,QAAS,EAAKqU,kBAAmBvU,QAAQ,WAAjD,SAGR,yBAAKd,UAAU,OACX,wBAAIA,UAAU,wBACV,wBAAIA,UAAU,qEACV,yBAAKA,UAAU,eACX,yBAAKA,UAAU,cACX,kBAACO,EAAA,EAAD,CAAGC,KAAM,MAAMqC,EAAKgY,SAAS9c,KACzB,yBAAKiC,UAAU,mBAAmBE,IAAKO,YAAWoC,EAAKgY,SAASna,QAC5DC,IAAI,UAIhB,yBAAKX,UAAU,mCACf,kBAACO,EAAA,EAAD,CAAGC,KAAM,MAAMqC,EAAKgY,SAAS9c,KAAK,uBAAGiC,UAAU,iBAAiB6C,EAAKgY,UAAYhY,EAAKgY,SAASja,KAAOiC,EAAKgY,SAASja,KAAO,KAC5H,uBAAGZ,UAAU,oEAAb,IAAiF,kBAACO,EAAA,EAAD,CAAGC,KAAM,UAAUmR,EAAS9O,EAAKyZ,WAAazZ,EAAK9E,MAAM,kBAAC,IAAD,CAAS+c,KAAMjY,EAAKkY,aAA9J,IACqB,UAAhBlY,EAAKiX,SAAuB,uBAAG9Z,UAAU,uBAK3C6C,EAAKmP,UAAY,yBAAKhS,UAAU,eAC9B,wBAAIA,UAAU,6BACb6C,EAAKkX,aAAe,wBAAI/Z,UAAU,yBAAwB,yBAAKA,UAAU,kBAAkBE,IAAKuQ,YAAc,wBAO3G,wBAAIzQ,UAAU,+CAA8C,uBAAGA,UAAU,qBACzE,yBAAKA,UAAU,gDACd6C,EAAKvD,QAAU,EAAKhC,MAAMQ,YAAYC,KAAQ,uBAAGiC,UAAU,gBAAgBgB,QAAS,SAACxB,GAAD,OAAO,EAAK6U,SAASxR,EAAK9E,OACvG,yBAAKiC,UAAU,OAAOE,IAAK6R,EAAQ,OACnC,0BAAM/R,UAAU,OAAhB,SAWH6C,EAAKwP,MAAQ,EACd,uBAAGrS,UAAU,gBAAgBgB,QAAS,SAACxB,GAAD,OAAO,EAAK0c,WAAWrZ,EAAK9E,OAC9D,yBAAKiC,UAAU,OAAOE,IAAK6R,EAAQ,OACnC,0BAAM/R,UAAU,OAAhB,YAEA,uBAAGA,UAAU,gBAAgBgB,QAAS,SAACxB,GAAD,OAAO,EAAKyc,SAASpZ,EAAK9E,OAChE,yBAAKiC,UAAU,OAAOE,IAAK6R,EAAQ,OACnC,0BAAM/R,UAAU,OAAhB,SAGA6C,EAAKqP,SAAW,EAChB,uBAAGlS,UAAU,gBAAgBgB,QAAS,SAACxB,GAAD,OAAO,EAAK2S,SAAS,OAAQtP,EAAK9E,OACxE,uBAAGiC,UAAU,oBACb,0BAAMA,UAAU,OAAhB,gBAEA,uBAAGA,UAAU,gBAAgBgB,QAAS,kBAAM,EAAKqS,YAAY,OAAQxQ,KACrE,uBAAG7C,UAAU,kCACb,0BAAMA,UAAU,OAAhB,WAaA6C,EAAKvD,QAAU,EAAKhC,MAAMQ,YAAYC,KAAO,uBAAGiC,UAAU,gBAAiBgB,QAAS,SAACxB,GAAD,OAAO,EAAKyS,WAAWpP,EAAK9E,OAChH,yBAAKiC,UAAU,OAAOE,IAAK6R,EAAQ,OACnC,0BAAM/R,UAAU,OAAhB,iBAgBxB,wBAAIA,UAAU,uFACV,yBAAKA,UAAU,iBAGX,yBAAKA,UAAU,eAAeuc,wBAAyB,CAACC,OAAQ,EAAK9d,MAAMkK,gBAe9C7I,GAAjB8C,EAAKmU,eAA6CjX,GAApB8C,EAAKmU,SAAS,IAAmD,SAAhCnU,EAAKmU,SAAS,GAAGyF,aAChF,yBAAKzc,UAAU,2BAA2BgB,QAAS,WAAO,EAAK7C,SAAS,CAAEue,QAAQ,IAAStb,QAAQC,IAAI,EAAK3C,MAAM4c,SAAUvN,MAAO,CAACC,gBAAgB,OAAD,OAASnL,EAAKmU,SAAS,GAAGC,YAA1B,QAG/J,yBAAKjX,UAAU,OACX,0BAAMA,UAAU,oBAGSD,GAAjB8C,EAAKmU,eAA6CjX,GAApB8C,EAAKmU,SAAS,IAAoD,SAAhCnU,EAAKmU,SAAS,GAAGyF,aACjF,kBAAC,IAAD,CAAaE,UAAU,EAAMpL,IAAK1O,EAAKmU,SAAS,GAAGC,aAAe,kDAI9E,yBAAKjX,UAAU,aACZ6C,EAAKgX,cAA+C,IAA7BhX,EAAKgX,aAAaja,QACxC,yBAAKI,UAAU,IACX,uCAAa6C,EAAKgX,aAAaxZ,KAAI,SAACuc,EAAWC,GAAZ,OAC/B,kBAAC,IAAD,CAAM7c,UAAU,aAAa6R,GAAI,MAAM+K,EAAU7e,IAAKP,IAAKqf,GAAID,EAAUhc,iBAShEb,GAAjB8C,EAAKmP,UAA0C,MAAjBnP,EAAKmP,UAAqC,IAAjBnP,EAAKmP,SAC5D,EAAK8K,iBAAiBja,EAAKka,WAA+B,QAAnBla,EAAKka,WAAuBla,EAAKma,eAAiBna,EAAKoa,eAAgBpa,EAAKqa,eAAgBra,EAAKsa,gBACtI,QAuBZta,EAAKmP,UAAY,6BACf,wBAAIhS,UAAU,gHACV,yBAAKA,UAAU,YACX,wBAAIA,UAAU,gEACV,wBAAIA,UAAU,0BAA0BgB,QAAS,SAACxB,GAAD,OAAO,EAAKoW,WAAW/S,EAAK9E,IAAK8E,EAAKiT,cACnF,yBAAK5V,IAAyB,IAApB2C,EAAKiT,WAAmB/D,EAAQ,KAA+CA,EAAQ,OACjG,0BAAM/R,UAAU,OAAO6C,EAAKua,WAAa,GAAK,0BAAMpd,UAAU,wBAAhB,IAAyC6C,EAAKua,WAA9C,SAM1D,yBAAKpd,UAAU,QACf,wBAAIA,UAAU,iEAEA6C,EAAKvD,QAAU,EAAKhC,MAAMQ,YAAYC,UAA6BgC,GAApB8C,EAAKsY,SAAS,KAAiD,YAA7BtY,EAAKsY,SAAS,GAAGrI,UAAwD,WAA7BjQ,EAAKsY,SAAS,GAAGrI,UAAyBjQ,EAAKuY,WAAWxb,OAAS,KAAU,wBAAII,UAAU,gCACtN,0BAAMA,UAAU,MAAMgB,QAAS,kBAAM,EAAKmD,aAAatB,EAAK9E,OAAO8E,EAAKwU,UAAY,GAAK,0BAAMrX,UAAU,wBAAhB,IAAyC6C,EAAKwU,UAA9C,KAAzF,IAA4JxU,EAAKwU,UAAY,EAAI,WAAa,UAA9L,OAKHxU,EAAKvD,QAAU,EAAKhC,MAAMQ,YAAYC,UAA6BgC,GAApB8C,EAAKsY,SAAS,IAAmBtY,EAAKsY,SAAS,GAAGkC,eAAkB,wBAAIrd,UAAU,+BAA+BgB,QAAS,SAACxB,GAAD,OAAO,EAAKuR,UAAUlO,KAChM,0BAAM7C,UAAU,OAAO6C,EAAKuU,WAAa,GAAK,0BAAMpX,UAAU,wBAAhB,IAAyC6C,EAAKuU,WAA9C,KAA9C,IAAkHvU,EAAKuU,WAAa,EAAI,SAAW,QAAnJ,UASbvU,EAAKmP,UAAY7N,GAAiB,wBAAInE,UAAU,yHAC/C,yBAAKA,UAAU,YACf,kBAACa,EAAA,EAAD,CAASb,UAAU,aAAagB,QAAS,kBAAM,EAAK+C,QAAQlB,EAAK9E,OAAjE,WACI,2BAAOiC,UAAU,gCACbC,KAAK,OACLE,YAAY,mBACZS,KAAK,cACLjB,MAAOsE,EACP7D,SAAU,SAACZ,GAAD,OAAO,EAAK8E,aAAa9E,UAKhDqD,EAAKmP,UAAY7N,GAChBtB,EAAKY,QAAQpD,KAAI,SAACoD,EAASnD,GAAV,OAEb,wBAAIN,UAAU,wHAAwHxC,IAAK8C,GACvI,yBAAKN,UAAU,YACX,yBAAKA,UAAU,kDACX,yBAAKA,UAAU,mBACf,kBAACO,EAAA,EAAD,CAAGC,KAAM,MAAOiD,EAAQoX,SAAS9c,KACzB,yBAAMiC,UAAU,8BAA8BE,IAAKO,YAAWgD,EAAQoX,SAASna,QAC3EC,IAAI,UAGhB,yBAAKX,UAAU,cACf,kBAACO,EAAA,EAAD,CAAGC,KAAM,MAAOiD,EAAQoX,SAAS9c,KAAM,uBAAGiC,UAAU,iBAAiByD,EAAQoX,SAASja,OAClF,uBAAGZ,UAAU,oBAAoByD,EAAQuN,MACzC,yBAAKhR,UAAU,UACf,0BAAMA,UAAU,eAAegB,QAAS,SAACxB,GAAD,OAAO,EAAK2D,YAAY7C,EAAGuC,EAAK9E,IAAK0F,EAAQ1F,OAAO0F,EAAQqS,WAAa,QAAU,OAA3H,KAAsIrS,EAAQ2Z,YAAc3Z,EAAQ2Z,WAAa,EAAK3Z,EAAQ2Z,WAAa,IAC3M,0BAAMpd,UAAU,eAAegB,QAAS,SAACxB,GAAD,OAAO,EAAKgX,mBAAmB/S,EAAQ1F,OAAQ0F,EAAQ6Z,cAAgB7Z,EAAQ6Z,aAAe,EAAK,UAAY,QAAvJ,IAAkK7Z,EAAQ6Z,cAAgB7Z,EAAQ6Z,aAAe,EAAK7Z,EAAQ6Z,aAAc,MAUhP,yBAAKtd,UAAU,eACf,yBAAKA,UAAU,+CAA8C,uBAAGA,UAAU,qBACtE,yBAAKA,UAAU,iDACbyD,EAAQoX,SAAS9c,KAAO,EAAKT,MAAMQ,YAAYC,KAAO8E,EAAKvD,QAAU,EAAKhC,MAAMQ,YAAYC,MAAS,uBAAGiC,UAAU,gBAAgBgB,QAAS,SAACxB,GAAD,OAAO,EAAKuc,cAAc,UAAWlZ,EAAK9E,IAAK0F,EAAQ1F,OAChM,yBAAKiC,UAAU,OAAOE,IAAK6R,EAAQ,OACnC,0BAAM/R,UAAU,OAAhB,WAEIyD,EAAQoX,SAAS9c,KAAO,EAAKT,MAAMQ,YAAYC,IAC/C0F,EAAQyO,SAAW,EACnB,uBAAGlS,UAAU,gBAAgBgB,QAAS,SAACxB,GAAD,OAAO,EAAK2S,SAAS,UAAW1O,EAAQ1F,IAAKuC,KACnF,uBAAGN,UAAU,oBACb,0BAAMA,UAAU,OAAhB,gBAEA,uBAAGA,UAAU,gBAAgBgB,QAAS,kBAAM,EAAKqS,YAAY,UAAW5P,EAASnD,KACjF,uBAAGN,UAAU,kCACb,0BAAMA,UAAU,OAAhB,WACE,SAOlByD,EAAQiT,SAAWjT,EAAQiT,QAAQrW,KAAI,SAACkd,EAAOjY,GAAR,OACnC,wBAAItF,UAAU,qCAAqCxC,IAAK8H,GACpD,wBAAItF,UAAU,2EACN,yBAAKA,UAAU,8CACX,yBAAKA,UAAU,mBACX,kBAACO,EAAA,EAAD,CAAGC,KAAM,MAAM+c,EAAM1C,SAAS9c,KAC1B,yBAAKiC,UAAU,4BAA4BE,IAAKO,YAAW8c,EAAM1C,SAASna,QACtEC,IAAI,UAGhB,yBAAKX,UAAU,cACf,kBAACO,EAAA,EAAD,CAAGC,KAAM,MAAM+c,EAAM1C,SAAS9c,KAAK,uBAAGiC,UAAU,kBAAiBud,EAAM1C,SAAW0C,EAAM1C,SAASja,QAC7F,uBAAGZ,UAAU,oBAAoBud,EAAMvM,OAE3C,yBAAKhR,UAAU,sBACX,yBAAKA,UAAU,+CAA8C,uBAAGA,UAAU,kCACtE,yBAAKA,UAAU,iDACbud,EAAM1C,SAAS9c,KAAO,EAAKT,MAAMQ,YAAYC,KAAO8E,EAAKvD,QAAU,EAAKhC,MAAMQ,YAAYC,MAAS,uBAAGiC,UAAU,gBAAgBgB,QAAS,SAACxB,GAAD,OAAO,EAAKuc,cAAc,QAAStY,EAAQ1F,IAAKwf,EAAMxf,OAC7L,yBAAKiC,UAAU,OAAOE,IAAK6R,EAAQ,OACnC,0BAAM/R,UAAU,OAAhB,WAEIud,EAAM1C,SAAS9c,KAAO,EAAKT,MAAMQ,YAAYC,IAC7Cwf,EAAMrL,SAAW,EACjB,uBAAGlS,UAAU,gBAAgBgB,QAAS,SAACxB,GAAD,OAAO,EAAK2S,SAAS,QAASoL,EAAMxf,IAAKuH,EAAGhF,KAClF,uBAAGN,UAAU,oBACb,0BAAMA,UAAU,OAAhB,gBAEA,uBAAGA,UAAU,gBAAgBgB,QAAS,kBAAM,EAAKqS,YAAY,QAASkK,EAAOjY,EAAG7B,EAASnD,KACzF,uBAAGN,UAAU,kCACb,0BAAMA,UAAU,OAAhB,WACE,cAUrCyD,EAAQ8S,WAAa,yBAAKvW,UAAU,iBACjC,2BAAOA,UAAU,gCACbC,KAAK,OACLE,YAAY,mBACZS,KAAK,WACLjB,MAAO6E,EAASlE,GAChBF,SAAU,SAACZ,GAAD,OAAO,EAAK8E,aAAa9E,EAAGc,MAC1C,kBAACO,EAAA,EAAD,CAAQb,UAAU,aAAagB,QAAS,kBAAM,EAAKwC,aAAaX,EAAK9E,IAAK0F,EAAQ1F,IAAKyG,EAASlE,GAAIA,EAAG,EAAKqW,wBAA5G,iBAS3B,EAAKjY,MAAMge,QACY,kBAAC,IAAD,CACAhf,GAAI,QAAQmF,EAAK9E,IACjByf,YAAY,EACRC,QAAS5a,EAAKmU,SAAS,GAAGC,YAC1ByG,eAAgB,kBAAM,EAAKvf,SAAS,CAAEue,QAAQ,KAC9CiB,YAAavc,QAAQC,IAAI2H,SAAS4U,cAAc,2BAt1BrE,EAu2BnBd,iBAAmB,SAAC7c,EAAM4C,EAAMmU,EAAU6D,GACtC,YACY9a,GAAR8C,EACA,yBAAK7C,UAAU,WAAU,uBAAGA,UAAU,gBAAtC,6BAEE6C,EAAKyS,QAAU,GAAQzS,EAAKmS,OAAS,GAA0B,UAArB,EAAK1X,MAAM4I,OAAuB,KAC9E,kBAAC,EAAD,CAAgBjG,KAAMA,EAAMsR,IAAa,QAARtR,EAAiB,SAAS4C,EAAKiP,KAAO,SAASjP,EAAK9E,IAAMsT,EAAGxO,EAAK9E,IAAKD,YAAa,EAAKR,MAAMQ,YAAa+E,KAAMA,EAAMgY,SAAUA,EAAU7D,SAAUA,KA12B3L,EAAKtY,MAAQ,CACT4c,OAAO,GACPuC,WAAY,EAClBnB,QAAQ,EACFtH,MAAK,EACLD,KAAK,KACLvM,QAAS,GACTgM,OAAQ,GACR3B,SAAU,GACVsI,cAAe,GACfhK,IAAKjU,EAAMuF,KAAK0O,IAChB1O,KAAM,KACNrF,IAAKF,EAAMuF,KAAK9E,IAChBgY,YAAY,EACZC,SAAU,GACVE,SAAS,EACT7C,aAAY,EACZ1M,OAAO,EACPxC,cAAc,EACdF,YAAa,GACbO,SAAU,IAGd,EAAKuM,UAAY,EAAKA,UAAUvL,KAAf,gBACjB,EAAK4K,gBAAkB,EAAKA,gBAAgB5K,KAArB,gBACvB,EAAK0O,kBAAoB,EAAKA,kBAAkB1O,KAAvB,gBA5BV,E,qDAodT,IAAD,SAEsD3F,KAAKnB,MAAxDmE,EAFH,EAEGA,KAAMsB,EAFT,EAESA,aAAcF,EAFvB,EAEuBA,YAAaO,EAFpC,EAEoCA,SAAUhH,EAF9C,EAE8CA,IAEnD,OACY,MAARqF,EACA,yBAAK7C,UAAU,eACX,kBAAC8d,EAAA,EAAD,OAGFjb,EAAKvD,QAAUO,KAAKvC,MAAMQ,YAAYC,UAA6BgC,GAApB8C,EAAKsY,SAAS,KAA+C,YAA3BtY,EAAKsY,SAAS,GAAG4C,QAAsD,WAA7Blb,EAAKsY,SAAS,GAAGrI,UAAyBjQ,EAAKuY,WAAWxb,OAAS,GAChM,kBAAC,IAAM0Q,SAAP,KACK,kBAAC,IAAD,CAAO1C,aAAc/N,KAAKnB,MAAM2U,YAAaxF,WAAYhO,KAAKwT,aAC1D,6BACI,yBAAKrT,UAAU,cACX,4BAAQA,UAAU,eAAeL,MAAOE,KAAKnB,MAAMuU,SAAW7S,SAAU,SAACZ,GAAD,OAAO,EAAKrB,SAAS,CAAC8U,SAAUzT,EAAEE,OAAOC,UAC7G,4BAAQA,MAAM,IAAd,mBACA,4CACA,uDACA,gDACA,wCACA,2CAGR,yBAAKK,UAAU,cACX,8BAAUC,KAAK,OAAOE,YAAY,SAASH,UAAU,eAAeI,SAAU,SAACZ,GAAD,OAAO,EAAKrB,SAAS,CAACyW,OAAQpV,EAAEE,OAAOC,SAASA,MAAOE,KAAKnB,MAAMkW,WAG7J,yBAAK5U,UAAU,IACf,kBAACa,EAAA,EAAD,CAAQC,QAAQ,UAAUC,KAAK,cAAcC,QAAS,kBAAM,EAAKoR,WAAjE,UACA,kBAACvR,EAAA,EAAD,CAAQC,QAAQ,YAAYC,KAAK,cAAcC,QAASnB,KAAKwT,aAA7D,YAGA,kBAAC,IAAD,CAAOzF,aAAc/N,KAAKnB,MAAMiI,MAAOkH,WAAYhO,KAAKwU,UACpD,kBAAC,EAAD,iBAAcxU,KAAKvC,MAAnB,CAA0BuF,KAAMA,EAAMgW,WAAY,SAACpE,GAAD,OAAO,EAAKoE,WAAWrb,EAAKiX,QAEtF,yBAAKzU,UAAW,QAASxC,IAAKA,GAEtBqC,KAAKiX,eAAejU,EAAMsB,EAAcF,EAAaO,GAIrD3E,KAAKnB,MAAMqX,YACX,kBAACjG,EAAA,EAAD,CACIjN,KAAMhD,KAAKnB,MAAMsX,SACjB/E,aAAcpR,KAAKoR,aACnBb,gBAAiBvQ,KAAKuQ,oBAOlC,S,GA3gBO9O,IAAMC,WAo3BVgF,O,4HC34BTyX,E,kDACF,WAAY1gB,GAAQ,IAAD,8BACf,cAAMA,IAoBVgW,kBAAoB,WAChB,EAAK2K,WAtBU,EA0BnBC,mBAAqB,SAACpe,GACfA,EAAUyF,OAAS,EAAKjI,MAAMiI,OACjC,EAAK0Y,WA5BU,EAiCnBE,eAAiB,SAAC/B,GACd,EAAKje,SAAS,CACVsJ,IAAK2U,EACLzT,WAAY,KApCD,EAwCnByV,WAAa,WAAgB,IAAf9b,EAAc,uDAAP,GAEjB,EAAK2b,QAAQ3b,GACb,EAAK+b,YAAY/b,IA3CF,EA8CnB2b,QAAS,WAAgB,IAAf3b,EAAc,uDAAP,GACTgc,EAAIhc,EACRgc,EAAC,KAAY,EAAK5f,MAAMgE,KACxB4b,EAAC,MAAY,EAAK5f,MAAM+D,MACxB6b,EAAC,SAA8Bve,GAApB,EAAKzC,MAAMiI,MAAqB,GAAK,EAAKjI,MAAMiI,MAC3D+Y,EAAC,UAA8Bve,GAAnB,EAAKzC,MAAMqF,KAAoB,QAAU,EAAKrF,MAAMqF,KAChE2b,EAAC,YAA8Bve,GAAjB,EAAKzC,MAAMI,GAAkB,EAAKJ,MAAMQ,YAAYC,IAAM,EAAKT,MAAMI,GACnF6gB,YAAQD,GAAGtgB,MAAK,SAAAC,GACZ,EAAKE,SAAS,CACVqgB,KAAMvgB,EAAK4E,UAEhB,SAAAjB,GACCR,QAAQC,IAAIO,OA1DD,EA0EnByG,UAAY,SAACC,GACT,EAAKnK,SAAS,CAACwK,WAAYL,KAzE3B,EAAK5J,MAAQ,CACT+D,WAAsB1C,GAAfzC,EAAMmF,MAAqB,GAAKnF,EAAMmF,MAC7CC,KAAM,EACN+E,IAAK,EACL7E,MAAO,GACP2C,MAAOjI,EAAMiI,MACbjD,KAAM,CACF2Q,SAAU,GACVwL,YAAc,GACdC,UAAY,GACZC,QAAU,GACVC,OAAS,GACTphB,IAAK,IAETghB,KAAM,GACN7V,WAAW,GAjBA,E,qDA8ET,IAAD,OACL,OACI,yBAAK3I,UAAW,aAKsB,GAA1BH,KAAKnB,MAAM8f,KAAK5e,OAChB,uBAAGI,UAAU,YAAb,iBAEA,yBAAKA,UAAU,SAEfH,KAAKnB,MAAM8f,KAAKne,KAAI,SAACwe,EAAKve,GAEtB,OAAO,kBAAC,IAAD,iBAAS,EAAKhD,MAAd,CAAqBuF,KAAMgc,c,GA7FrCvd,IAAMC,WAuGhByc,O,iCC3Gf,sOAMajS,EAAgB,SAACzJ,GAC1B,OAAO,IAAIgJ,SAAQ,SAACC,EAASC,GACzBsT,YAA0BtQ,IAAOC,QAAU,iBAAiB,EAAMnM,GACjEtE,MAAK,SAAA0Q,GACFtN,QAAQC,IAAIqN,EAAIpM,KAAKyc,OACrBjd,aAAaM,QAAQ,MAAOsM,EAAIpM,KAAKyc,OACrCjd,aAAaM,QAAQ,cAAeJ,KAAKK,UAAUqM,EAAIpM,KAAKuY,WAC5DmE,IAAMC,SAASvQ,EAAIpM,KAAKyc,OACxBxT,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GACHgM,EAAOhM,EAAEoP,iBAKRxE,EAAsB,SAAC9H,GAChC,OAAO,IAAIgJ,SAAQ,SAACC,EAASC,GACzBsD,YAAqBN,IAAOC,QAAU,yBAAyB,EAAMnM,GACpEtE,MAAK,SAAA0Q,GACF,GAAgB,WAAbpM,EAAKrC,KACJ6B,aAAaM,QAAQ,MAAOsM,EAAIpM,KAAKyc,OACrCjd,aAAaM,QAAQ,cAAeJ,KAAKK,UAAUqM,EAAIpM,KAAKuY,WAC5DmE,IAAMC,SAASvQ,EAAIpM,KAAKyc,YAEvB,GAAgB,cAAbzc,EAAKrC,MAAsC,kBAAdqC,EAAK4c,MAA0B,CAChE9d,QAAQC,IAAIqN,EAAIpM,MAChB,IAAIyc,EAAQjd,aAAaC,QAAQ,gBACjCgd,EAAQ/c,KAAKC,MAAM8c,IACbtS,KAAOiC,EAAIpM,KAAKmK,KACtBsS,EAAM9Q,IAAMS,EAAIpM,KAAK2L,IACrB7M,QAAQC,IAAI0d,GACZjd,aAAaM,QAAQ,cAAeJ,KAAKK,UAAU0c,IAEvDxT,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GACHgM,EAAOhM,EAAEoP,iBAKRuQ,EAAmB,SAAC7c,GAC7B,OAAO,IAAIgJ,SAAQ,SAACC,EAASC,GACzB+C,YAAoBC,IAAOC,QAAU,sBAAsB,EAAMnM,GAChEtE,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GACHgM,EAAOhM,EAAEoP,iBAKR/G,EAAyB,SAACvF,GACnC,OAAO,IAAIgJ,SAAQ,SAACC,EAASC,GACzB+C,YAAoBC,IAAOC,QAAU,6BAA6B,EAAOnM,GACxEtE,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GACHgM,EAAOhM,EAAEoP,iBAMRhH,EAAmB,SAAChK,GAC7B,OAAO,IAAI0N,SAAQ,SAACC,EAASC,GAC7B+C,YAAoBC,IAAOC,QAAU,sBAAsB,EAAO7Q,GAC7DI,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GAEHgM,EAAOhM,EAAEoP,iBAKRpH,EAAqB,SAAC5J,GAC/B,OAAO,IAAI0N,SAAQ,SAACC,EAASC,GAEzB+C,YAAoB,GAAD,OAAIC,IAAOC,QAAU,yBAA0B,EAAM7Q,GACnEI,MAAK,SAAA0Q,GACFnD,EAAQmD,EAAIpM,SAEfqM,OAAM,SAAAnP,GAEHgM,EAAOhM,EAAEoP","file":"static/js/25.a90e7eff.chunk.js","sourcesContent":["import { Link } from 'react-router-dom';\n// import ListErrors from './ListErrors';\nimport React from 'react';\nimport { getTagUsers, getGlobalTagUsers } from '../../http/http-calls';\nimport { getSuggestions, followUser, getPendingRequests, acceptRequest,cancelRequest } from '../../http/http-calls';\nimport { GetAssetImage, profilePic } from '../../globalFunctions';\nimport Button from '../Button';\nimport { switchLoader, alertBox } from '../../commonRedux/';\nimport A from '../A';\nimport './style.css';\nclass GlobalFriends extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: []\n    };\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  componentDidUpdate(prevProps) {\n    if ((typeof this.props.match != undefined && typeof prevProps.match != undefined && prevProps.match.params.id !== this.props.match.params.id)) {\n      this.fetchData();\n    }\n  }\n\n   fetchData = (key='') => {\n      getGlobalTagUsers({key, id: this.props.match.params.id, lid: this.props.currentUser._id}, false)\n      .then(async resp => {\n        this.setState({ users: resp });\n      }, error => {\n        \n      });\n   }\n   cancelRequest = (id,index) => {\n    switchLoader(true, 'Cancelling...! ');\n    cancelRequest({id}, true)\n      .then(async resp => {\n        switchLoader();\n        let tempUser = this.state.users;\n        // tempUser[index] = null;\n        delete tempUser[index].request;\n        this.props.refresh();\n        this.setState({\n            users: tempUser\n        })\n      }, error => {\n        switchLoader();\n        \n      });\n  }\n\n  addFriend = (id, userIndex) => {\n    switchLoader(true, 'Following...! ');\n    followUser({ followerid: id }, true)\n      .then(async resp => {\n        switchLoader();\n        let tempUser = this.state.users;\n        tempUser[userIndex].following = resp;\n        \n        // if(this.props.refresh != null){\n        //     this.props.refresh();\n        // }\n        this.setState({\n            users: tempUser\n        })\n      }, error => {\n        switchLoader();\n        \n      });\n  }\n\n\n  accept = (user, index, item) => {\n    switchLoader(true, 'Following...! ');\n    if(item == 0){\n        acceptRequest({ id: user._id }, true)\n        .then(async resp => {\n        switchLoader();\n        let tempUser = this.state.users;\n        tempUser[index].following = resp;\n        // if(this.props.refresh != null){\n        //     this.props.refresh();\n        // }\n        this.setState({\n            users: tempUser\n        })\n      }, error => {\n        switchLoader();\n      });\n    }else{\n        cancelRequest({id: user.userid}, true)\n        .then(async resp => {\n          switchLoader();\n          let tempUser = this.state.users;\n          // tempUser[index] = null;\n          delete tempUser[index].following;\n          // if(this.props.refresh != null){\n          //     this.props.refresh();\n          // }\n          this.setState({\n              users: tempUser\n          })\n        }, error => {\n          switchLoader();\n        });\n    }\n  }\n\n  cancelRequest = (id,index, item) => {\n    switchLoader(true, 'Cancelling...! ');\n    cancelRequest({id}, true)\n      .then(async resp => {\n        switchLoader();\n        let tempUser = this.state.users;\n         \n        delete tempUser[index].following;\n        // if(this.props.refresh != null){\n        //     this.props.refresh();\n        // }\n        this.setState({\n            users: tempUser\n        })\n      }, error => {\n        switchLoader();\n      });\n  }\n\n  search = (e) => {\n    var val = e.target.value;\n    if(val.length > 1){\n      this.fetchData(val);\n    }else if(val == ''){\n      this.fetchData();\n    }\n  };\n\n  render() {\n\n    return (\n      <div className=\"empty-inner-container-with-border myfriends friendsWidget widget\">\n\n        <div className=\"container\">\n          <div className=\"row\">\n\n            <ul className=\"list-group w-100\">\n\n            <li className=\"list-group-item d-flex justify-content-between align-items-center  widgetTitle\">\n            Friends\n            <span className=\"text-secondary pl-2\">\n                  <form className=\"form-inline my-2 my-lg-0\">\n                    <div className=\"input-group navbar--search friend-search\">\n                      <div className=\"input-group-append\">\n                        <button className=\"btn btn-secondary search-btn\" type=\"button\">\n                        <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAABHNCSVQICAgIfAhkiAAAAUJJREFUKFOVkk1Ow0AMhZ+DumJBb0C5QVmiRIIjlCVK1CQnKNyA3qCcYDqogWV7hCA1sGx7AnIENl0h5SGHjpT+SBRvRuPxZ8+zLdjYc1YkFTAQoKsuAjMCwzT0ly6meYpe7GQ+hkgMcgWRHGSbIj0BzgRI+6E/3oVFKxEwAIZx6D+6AGMWba+1zgmc8/v0Ik0vv7Yq2sm8/kocBfUXm2ZePzpeVX0K+dCPgtE2mBUE8BSH/v0hLTYrSpB5HAXJPkja3QcXZH8Tb8nQN7FZMSN5fUiHeXnveeT0UIPEZEXXAxYElvS82/TuqtSMCklVGRFZxaF/s9dVdWxmONL2EygF6GwC3wB0SE6TKHjYm2NdwSzaJ621jqYLEYVLnZ/NCu3mgMA4Cf3UwfUC/GVuQZrwUWBzuxx8NOhgEclVwr/ApqQfxlSUD3f1kOUAAAAASUVORK5CYII=\" />\n                        </button>\n                        </div><input type=\"text\" className=\"form-control\" placeholder=\"Search\" onChange={this.search} />\n                        </div>\n                      </form>\n                </span>\n            \n            </li>\n            </ul>\n\n            \n              {this.state.users.map((user,i) => {\n                return <ul className=\"list-group w-100\" key={i}>\n                  <li className=\"list-group-item\">\n\n                    <div className=\"media\">\n                      <div className=\"media-left\">\n                        <A href={\"/u/\"+user._id}>\n                          <img className=\"media-object circle widgetAvatar\" src={profilePic(user.avatar)}\n                            alt=\"...\" />\n                        </A>\n                      </div>\n                      <div className=\"media-body\">\n                        <A href={\"/u/\"+user._id}>\n                          <p className=\"media-heading\">{user.name}</p>\n                        </A>\n                        {/* <p className=\"media-subheading\">{user.job == null ? \"Eclipton User\" : user.job}</p> */}\n                      </div>\n                      {\n                        user._id != this.props.currentUser._id && <div className=\"media-right\">\n                        \n                        {\n                            user.following == undefined && <Button variant=\"primary-outline\" size=\"compact\"  onClick={() => this.addFriend(user._id, i)}>Add</Button>\n                        }\n                        {\n                            user.following != undefined && user.following.request == 'pending' && user.following.userid == this.props.currentUser._id &&  <Button variant=\"dark\" size=\"compact\" layout=\"dropdown\" dropdownOptions={[\"Cancel\"]} onClick={(n) => {console.log(user); this.cancelRequest(user.following.followerid, i, n)}}>Pending</Button>\n                        }\n                        {\n                            user.following != undefined && user.following.request == 'pending' && user.following.followerid == this.props.currentUser._id && <Button variant=\"dark\" layout=\"dropdown\" dropdownOptions={[\"Accept\", \"Reject\"]} size=\"compact\" onClick={(n) => this.accept(user.following, i, n)}>Respond</Button>\n                        }\n                        </div>\n                      }\n                      \n                    </div>\n                  </li>\n                </ul>\n})}\n\n\n            {this.state.users.length === 0 ? (<ul className=\"list-group w-100\">\n              <li className=\"list-group-item d-flex justify-content-center align-items-center\">\n                  <p>No Friends</p>\n              </li>\n            </ul>) : null\n            }\n\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default GlobalFriends;\n\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { getProfileBlogs, likeComment, replyComment, likePost, postComment, getComments } from '../../http/http-calls';\nimport { getPosts } from '../../http/blog-calls';\nimport BlogPost from './BlogPost';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport ContentLoader from \"react-content-loader\";\nimport Share from './Share';\nimport TimeAgo from 'react-timeago';\nimport { getAllPairs} from '../../http/wallet-calls';\nimport walletCheck from '../../hooks/walletCheck';\n\nclass BlogPosts extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            query: props.query,\n            posts: [],\n            page: 1,\n            coins:[],\n            coinsLoaded: false,\n            limit: props.limit == null ? 5 : props.limit,\n            hasMore: true,\n            postLoaded: false,\n            showSkeleton: false,\n            showComments: false,\n            commentText: ''\n        }\n        this.commentLike = this.commentLike.bind(this);\n        this.loadFunc = this.loadFunc.bind(this);\n        this.likePost = this.likePost.bind(this);\n        this.getPaginatePost = this.getPaginatePost.bind(this);\n    }\n\n    componentDidMount() {\n        this.getPaginatePost();\n        this.checkWallet();\n    }\n\n    componentDidUpdate(prevProps) {\n        if (typeof this.props.match != undefined && typeof prevProps.match != undefined && prevProps.match.params.id !== this.props.match.params.id) {\n          this.getPaginatePost();\n        }\n      }\n\n    componentWillReceiveProps() {\n        if (this.props.latestpost && this.props.latestpost.userid) {\n\n            const latestpost = this.props.latestpost;\n            const postObj = this.state.posts;\n\n            let isExist = postObj.find(item => item._id == latestpost._id)\n            if (!(isExist && isExist._id)) {\n                postObj.unshift(latestpost);\n                this.setState({ posts: [] }, () => {\n                    this.setState({ posts: postObj });\n                });\n            }\n        }\n    }\n    checkWallet = () =>{\n        console.log(\"okaoay\")\n        walletCheck().then(resp=>{\n            console.log(\"okaokay\")\n            this.getCoins();\n        }, err => {\n            console.log(\"notokaokay\")\n            console.log(err);\n        })\n    }\n\n    getCoins = () => {\n        var coins = localStorage.getItem(\"allPairs\");\n        if(coins != null){\n            this.setState({\n                coins: JSON.parse(coins)\n            }, () => {\n                this.setState({\n                    coinsLoaded:true\n                })\n            })\n        }\n        getAllPairs().then(resp => {\n            localStorage.setItem(\"allPairs\", JSON.stringify(resp.data));\n            console.log(resp.data);\n            this.setState({\n                coins: resp.data,\n            }, () => {\n                this.setState({\n                    coinsLoaded:true\n                })\n            });\n        }, err => {\n            console.log(err);\n        })\n    }\n    getPaginatePost = () => {\n        // if((typeof this.props.currentUser == undefined || this.props.currentUser == null) || (typeof this.props.match != undefined && this.props.match.params.id != null && typeof this.props.match.params.id != undefined && this.props.match.params.id != '' && this.props.match.params.id != this.props.currentUser._id)){\n        //     getProfilePosts({ userid: this.props.match.params.id, limit: this.state.limit, page: this.state.page})\n        //     .then(async resp => {\n        //         this.setState({\n        //             posts: [...this.state.posts, ...resp.post],\n        //             hasMore: resp.post && resp.post.length > 0 ? true : false,\n        //             postLoaded: true, showSkeleton: false\n        //         });\n        //     }, error => {\n                \n        //         this.setState({ postLoaded: true, showSkeleton: false });\n        //     });\n        //   }else{\n        \n        getProfileBlogs({ userid: this.props.id, limit: this.state.limit, page: this.state.page, mine: this.props.mine }, true)\n            .then(async resp => {\n                this.setState({\n                    posts: [...this.state.posts, ...resp.post],\n                    hasMore: resp.post && resp.post.length > 0 ? true : false,\n                    postLoaded: true, showSkeleton: false\n                });\n            }, error => {\n                \n                this.setState({ postLoaded: true, showSkeleton: false });\n            });\n        //}\n    }\n\n    loadFunc = () => {\n        if (!this.state.showSkeleton) {\n            this.setState({ showSkeleton: true })\n            this.setState(prevState => {\n                return {\n                    ...prevState,\n                    page: prevState.page + 1,\n                    showSkeleton: true\n                }\n            }, () => {\n                this.getPaginatePost();\n            })\n        }\n\n    }\n\n    commentLike = (postid, commentId) => {\n        // this.setState({ post: { ...this.state.post, likeActive: 1 - liked } });\n        likeComment({ postid, commentId }, true)\n            .then(async resp => {\n                if (resp.message == 'Like') {\n                    //this.postActivityCount('likesCount');\n                } else if (resp.message == 'Dislike') {\n                   // this.postActivityCount('likesCount', 'sub');\n                }\n            }, error => {\n                \n            });\n    }\n\n    commentReply = (postid, commentId, comment, commentIndex, callBack) => {\n        replyComment({ postid: postid, commentId, comment }, true)\n            .then(async resp => {\n                callBack(resp.comment, commentIndex)\n            }, error => {\n                \n        });\n    }\n\n    likePost = (postid, liked) => {\n        likePost({ postid: postid }, true)\n            .then(async resp => {\n\n            }, error => {\n                \n            });\n    }\n\n    postCmt = (postid) => {\n        let obj = { postid, comment: this.state.commentText };\n        postComment(obj)\n            .then(async resp => {\n\n            }, error => {\n                \n            });\n    }\n\n    showComments = (postid) => {\n\n        getComments({ postid }, true)\n            .then(async resp => {\n                this.setState({ showComments: true });\n            }, error => {\n                \n\n            });\n    }\n\n    refreshHighlights = () => {\n        \n    }\n\n    handleChange = (evt, index) => {\n        const { name, value } = evt.target;\n        if (evt.target.name != 'replyCmt') {\n            this.setState({ [name]: value }, () => { });\n        } else {\n            this.setState({ [`${name}`]: { ...this.state.replyCmt, [index]: value } }, () => {\n            });\n        }\n    }\n\n    getSkeletonContent = (i) => {\n        return (\n            <div className=\"row empty-inner-container-with-border post\" key={i}>\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <ul className=\"list-group w-100 m-0\">\n                            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n                                <ContentLoader\n                                    speed={2}\n                                    width={610}\n                                    height={350}\n                                    viewBox=\"0 0 610 350\"\n                                    backgroundColor=\"#f3f3f3\"\n                                    foregroundColor=\"#ecebeb\"\n                                    \n                                >\n                                    <rect x=\"48\" y=\"8\" rx=\"3\" ry=\"3\" width=\"88\" height=\"6\" />\n                                    <rect x=\"48\" y=\"26\" rx=\"3\" ry=\"3\" width=\"52\" height=\"6\" />\n                                    <rect x=\"0\" y=\"56\" rx=\"3\" ry=\"3\" width=\"410\" height=\"6\" />\n                                    <rect x=\"0\" y=\"72\" rx=\"3\" ry=\"3\" width=\"380\" height=\"6\" />\n                                    <rect x=\"0\" y=\"88\" rx=\"3\" ry=\"3\" width=\"178\" height=\"6\" />\n                                    <circle cx=\"20\" cy=\"20\" r=\"20\" />\n                                    <rect x=\"0\" y=\"88\" rx=\"3\" ry=\"3\" width=\"900\" height=\"1000\" />\n                                </ContentLoader>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n    render() {\n        const { post, showComments, commentText } = this.state;\n\n        return (\n            <div>\n                <InfiniteScroll\n                    pageStart={0}\n                    initialLoad={false}\n                    loadMore={this.loadFunc}\n                    hasMore={this.state.hasMore}\n                >\n                    {this.state.postLoaded && this.state.posts.map((post, i) => (\n                        <BlogPost coins={this.state.coins} post={post} filter=\"\" refreshHighlights={this.refreshHighlights} commentLike={this.commentLike} commentReply={this.commentReply} key={i} currentUser={this.props.currentUser} />\n                    ))}\n                </InfiniteScroll>\n\n                {(this.state.showSkeleton || !this.state.coinsLoaded) &&\n                    <div>\n                        {Array(5).fill().map((item, index) => this.getSkeletonContent(index))}\n                    </div>\n                }\n\n                {(this.state.posts.length === 0 && this.state.postLoaded) &&\n                    <div className=\"post\"><p className=\"post-inner no-found\">No Blogs Found</p></div>\n                }\n            </div>\n        );\n    }\n}\n\nexport default BlogPosts;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { getProfilePosts, getPosts, likeComment, replyComment, likePost, postComment, getComments } from '../../http/http-calls';\nimport Post from './Post';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport ContentLoader from \"react-content-loader\";\nimport Share from './Share';\nimport TimeAgo from 'react-timeago';\n\nclass ProfilePosts extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            query: props.query,\n            posts: [],\n            page: 1,\n            limit: 5,\n            hasMore: true,\n            postLoaded: false,\n            showSkeleton: false,\n            showComments: false,\n            commentText: ''\n        }\n        this.commentLike = this.commentLike.bind(this);\n        this.loadFunc = this.loadFunc.bind(this);\n        this.likePost = this.likePost.bind(this);\n        this.getPaginatePost = this.getPaginatePost.bind(this);\n    }\n\n    componentDidMount() {\n        this.getPaginatePost();\n    }\n\n    componentDidUpdate(prevProps){\n        console.log(\"updated\");\n        if(prevProps.match.params.id != this.props.match.params.id){\n            const latestpost = this.props.latestpost;\n            const postObj = this.state.posts;\n\n            let isExist = postObj.find(item => item._id == latestpost._id)\n            if (!(isExist && isExist._id)) {\n                postObj.unshift(latestpost);\n                this.setState({ posts: [] }, () => {\n                    this.setState({ posts: postObj });\n                });\n            }\n        }\n    }\n\n    componentWillReceiveProps() {\n        if (this.props.latestpost && this.props.latestpost.userid) {\n\n            const latestpost = this.props.latestpost;\n            const postObj = this.state.posts;\n\n            let isExist = postObj.find(item => item._id == latestpost._id)\n            if (!(isExist && isExist._id)) {\n                postObj.unshift(latestpost);\n                this.setState({ posts: [] }, () => {\n                    this.setState({ posts: postObj });\n                });\n            }\n        }\n    }\n\n    getPaginatePost = () => {\n        // if((typeof this.props.currentUser == undefined || this.props.currentUser == null) || (typeof this.props.match != undefined && this.props.match.params.id != null && typeof this.props.match.params.id != undefined && this.props.match.params.id != '' && this.props.match.params.id != this.props.currentUser._id)){\n        //     getProfilePosts({ userid: this.props.match.params.id, limit: this.state.limit, page: this.state.page})\n        //     .then(async resp => {\n        //         this.setState({\n        //             posts: [...this.state.posts, ...resp.post],\n        //             hasMore: resp.post && resp.post.length > 0 ? true : false,\n        //             postLoaded: true, showSkeleton: false\n        //         });\n        //     }, error => {\n                \n        //         this.setState({ postLoaded: true, showSkeleton: false });\n        //     });\n        //   }else{\n        \n        getProfilePosts({ userid: this.props.id, limit: this.state.limit, page: this.state.page }, true)\n            .then(async resp => {\n                this.setState({\n                    posts: [...this.state.posts, ...resp.post],\n                    hasMore: resp.post && resp.post.length > 0 ? true : false,\n                    postLoaded: true, showSkeleton: false\n                });\n            }, error => {\n                \n                this.setState({ postLoaded: true, showSkeleton: false });\n            });\n        //}\n    }\n\n    loadFunc = () => {\n        if (!this.state.showSkeleton) {\n            this.setState({ showSkeleton: true })\n            this.setState(prevState => {\n                return {\n                    ...prevState,\n                    page: prevState.page + 1,\n                    showSkeleton: true\n                }\n            }, () => {\n                this.getPaginatePost();\n            })\n        }\n\n    }\n\n    commentLike = (postid, commentId) => {\n        // this.setState({ post: { ...this.state.post, likeActive: 1 - liked } });\n        likeComment({ postid, commentId }, true)\n            .then(async resp => {\n                if (resp.message == 'Like') {\n                   //this.postActivityCount('likesCount');\n                } else if (resp.message == 'Dislike') {\n                   //this.postActivityCount('likesCount', 'sub');\n                }\n            }, error => {\n                \n            });\n    }\n\n    commentReply = (postid, commentId, comment, commentIndex, callBack) => {\n        replyComment({ postid: postid, commentId, comment }, true)\n            .then(async resp => {\n                callBack(resp.comment, commentIndex)\n            }, error => {\n                \n        });\n    }\n\n    likePost = (postid, liked) => {\n        likePost({ postid: postid }, true)\n            .then(async resp => {\n\n            }, error => {\n                \n            });\n    }\n\n    postCmt = (postid) => {\n        let obj = { postid, comment: this.state.commentText };\n        postComment(obj)\n            .then(async resp => {\n\n            }, error => {\n                \n            });\n    }\n\n    showComments = (postid) => {\n\n        getComments({ postid }, true)\n            .then(async resp => {\n                this.setState({ showComments: true });\n            }, error => {\n                \n\n            });\n    }\n\n    refreshHighlights = () => {\n        this.props.refreshHighlights();\n    }\n\n    handleChange = (evt, index) => {\n        const { name, value } = evt.target;\n        if (evt.target.name != 'replyCmt') {\n            this.setState({ [name]: value }, () => { });\n        } else {\n            this.setState({ [`${name}`]: { ...this.state.replyCmt, [index]: value } }, () => {\n            });\n        }\n    }\n\n    getSkeletonContent = (i) => {\n        return (\n            <div className=\"row empty-inner-container-with-border post\" key={i}>\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <ul className=\"list-group w-100 m-0\">\n                            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n                                <ContentLoader\n                                    speed={2}\n                                    width={610}\n                                    height={350}\n                                    viewBox=\"0 0 610 350\"\n                                    backgroundColor=\"#f3f3f3\"\n                                    foregroundColor=\"#ecebeb\"\n                                    \n                                >\n                                    <rect x=\"48\" y=\"8\" rx=\"3\" ry=\"3\" width=\"88\" height=\"6\" />\n                                    <rect x=\"48\" y=\"26\" rx=\"3\" ry=\"3\" width=\"52\" height=\"6\" />\n                                    <rect x=\"0\" y=\"56\" rx=\"3\" ry=\"3\" width=\"410\" height=\"6\" />\n                                    <rect x=\"0\" y=\"72\" rx=\"3\" ry=\"3\" width=\"380\" height=\"6\" />\n                                    <rect x=\"0\" y=\"88\" rx=\"3\" ry=\"3\" width=\"178\" height=\"6\" />\n                                    <circle cx=\"20\" cy=\"20\" r=\"20\" />\n                                    <rect x=\"0\" y=\"88\" rx=\"3\" ry=\"3\" width=\"900\" height=\"1000\" />\n                                </ContentLoader>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n    render() {\n        const { post, showComments, commentText } = this.state;\n\n        return (\n            <div>\n                <InfiniteScroll\n                    pageStart={0}\n                    initialLoad={false}\n                    loadMore={this.loadFunc}\n                    hasMore={this.state.hasMore}\n                >\n                      {this.state.postLoaded && this.state.posts.map((post, i) => (\n                        <Post post={post} filter=\"\" refreshHighlights={this.refreshHighlights} commentLike={this.commentLike} commentReply={this.commentReply} key={i} currentUser={this.props.currentUser} />\n                    ))}\n                </InfiniteScroll>\n\n                {(this.state.showSkeleton) &&\n                    <div>\n                        {Array(5).fill().map((item, index) => this.getSkeletonContent(index))}\n                    </div>\n                }\n\n{(this.state.posts.length === 0 && this.state.postLoaded) &&\n                    <div className=\"post\"><p className=\"post-inner no-found\">No Posts Found</p></div>\n                }\n            </div>\n        );\n    }\n}\n\nexport default ProfilePosts;\n","import React from 'react';\nimport ReactCrop from 'react-image-crop';\nimport 'react-image-crop/dist/ReactCrop.css';\nimport { switchLoader } from '../../commonRedux/';\nimport Button from '../../components/Button';\nimport GlobalFriends from '../../components/Friends/GlobalFriends';\nimport Modal from '../../components/Popup';\nimport GlobalGigs from '../../components/Post/Gigs';\nimport ProfileBlogs from '../../components/Post/ProfileBlogs';\nimport ProfilePosts from '../../components/Post/ProfilePosts';\nimport TabsUI from '../../components/Tabs/index';\nimport { profilePic } from '../../globalFunctions';\nimport { connectSocket, friendRequest } from '../../hooks/socket';\nimport { acceptRequest, cancelRequest, followUser } from '../../http/http-calls';\nimport { getCurrentChat, setMessageNotificationsViewed } from '../../http/message-calls';\nimport { checkFriendRequest, getGlobalProfile, getGlobalProfileExtras, updateProfile, updateProfileExtras } from '../../http/profile-calls';\nimport './styles.css';\n\n\nclass MyProfile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: this.props.match.params.id,\n      friends: 0,\n      posts: 0,\n      currentTab: 0,\n      latestpost: {},\n      request: '',\n      cid: 0,\n      followerid: 0,\n      filter: '',\n      about: 0,\n      generalEdit: false,\n      profilePic:\"\",\n      refreshing:false,\n      modal: false,\n      messages:[],\n      user: {},\n      general: {\n        type:\"general\",\n        name: '',\n        username: '',\n        bio : '',\n        password: \"\",\n      },\n      work_edit: false,\n      workplaces: [],\n      work: {\n        type:\"workplaces\",\n        designation: \"\",\n        company : \"\",\n        city: \"\",\n        country: \"\"\n      },\n      education_edit: false,\n      educations: [],\n      education: {\n        type:\"educations\",\n        course: \"\",\n        institution : \"\",\n        city: \"\",\n        country: \"\"\n      },\n      current_edit: false,\n      currents: [],\n      current: {\n        type:\"current_cities\",\n        city: \"\",\n        country: \"\"\n      },\n      home_edit: false,\n      homes: [],\n      home: {\n        type:\"hometown\",\n        city: \"\",\n        country: \"\"\n      },\n      email_edit: false,\n      emails: [],\n      email: {\n        type:\"emails\",\n        email: \"\",\n      },\n      mobile_edit: false,\n      mobiles: [],\n      mobile: {\n        type:\"mobiles\",\n        mobile: \"\",\n      },\n      crop: {\n        aspect: 16/16,\n        width: 230\n      }\n    };\n    this.myRef = React.createRef();\n    this.myRef2 = React.createRef();\n  }\n selectModal = (info) => {\n   this.setState({modal: !this.state.modal}) // true/false toggle\n }\n  setStateFunc = (key,value) => {\n    this.setState({[key]:value});\n  }\n  refreshHighlights = () => {\n    this.setState({\n      refreshing: true\n    }, ()=>{\n      this.setState({\n        refreshing: false\n      })\n    })\n  }\n\n  goToMessage = (r) => {\n    setMessageNotificationsViewed();\n    this.props.openChat(r);\n  }\n\n  getChat = () => {\n    getCurrentChat({id: this.state.id}).then(resp => {\n      this.goToMessage(resp);\n    }, error => {\n      console.log(error);\n    });\n  };\n\n  refresh = () => {\n    var dis = this;\n    this.setState({\n      refreshing : true\n    });\n    setTimeout(function(){\n      dis.setState({\n        refreshing: false\n      })\n    }, 500)\n  }\n\n  filterPosts = (opt) => {\n    this.setState({\n      latestpost: {},\n      filter: opt\n    });\n  }\n  componentDidMount() {\n    if(this.props.match.params.id == this.props.currentUser._id){\n      window.location.href = \"/profile\";\n    }else{\n      console.log(this.props);\n      this.checkRequest();\n      this.getProfile();\n      this.getExtras();\n    }\n    if(this.props.currentUser != undefined){\n        connectSocket(this.props.currentUser._id);\n    }\n    friendRequest((request) => {\n        if(window.location.href.indexOf(\"/u\") != -1){\n            window.location.reload();\n          \n        }\n    });\n  }\n\n  componentDidUpdate(prevProps){\n      console.log(prevProps);\n    if(prevProps != undefined && this.props.match.params.id != undefined && prevProps.match.params.id != this.props.match.params.id){\n      console.log(\"hii\"); \n      //window.location.reload();\n      if(this.props.match.params.id == this.props.currentUser._id){\n        window.location.href = \"/profile\";\n      }else{\n        window.location.href=\"/u/\"+this.props.match.params.id;\n        console.log(prevProps.match.params.id, this.props.match.params.id);\n        // console.log(this.props);\n        // this.checkRequest();\n        // this.getProfile();\n        // this.getExtras();\n      }\n    }\n  }\n\ncheckRequest = () => {\n    checkFriendRequest({id: this.state.id}, true)\n    .then(async resp => {\n      this.setState({\n        request: resp.request,\n        cid: resp._id,\n        followerid: resp.followerid\n      });\n    }, error => {\n      this.setState({\n        request: \"\",\n        cid: 0,\n        followerid: 0\n      });\n    });\n}\n\naddFriend = (id, index) => {\n  switchLoader(true, 'Following...! ');\n  followUser({ followerid: id }, true)\n    .then(async resp => {\n      switchLoader();\n      this.checkRequest();\n    }, error => {\n      switchLoader();\n      this.checkRequest();\n    });\n}\naccept = (id, item) => {\n  switchLoader(true, 'Following...! ');\n  if(item == 0){\n      acceptRequest({ id: this.state.cid }, true)\n      .then(async resp => {\n        setTimeout(() => {\n          switchLoader();\n          this.checkRequest();\n          this.getProfile();\n          this.getExtras();\n        }, 1000)\n    }, error => {\n      switchLoader();\n      this.checkRequest();\n    });\n  }else{\n      cancelRequest({id: id}, true)\n      .then(async resp => {\n        switchLoader();\n        this.checkRequest();\n      }, error => {\n        switchLoader();\n        this.checkRequest();\n      });\n  }\n}\n\ncancelRequest = (id, item) => {\n  switchLoader(true, 'Cancelling...! ');\n  cancelRequest({id}, true)\n    .then(async resp => {\n      switchLoader();\n      this.checkRequest();\n    }, error => {\n      switchLoader();\n      this.checkRequest();\n    });\n}\n\n  \n  getProfile = () =>{\n    getGlobalProfile({id: this.state.id}).then(resp => {\n      console.log(resp);\n      this.setState({\n        user: resp\n      })\n    });\n  };\n\n  getExtras = () =>{\n    getGlobalProfileExtras({id:this.state.id}).then(resp => {\n      this.setState({workplaces: resp.workplaces, emails: resp.emails, mobiles: resp.mobiles, educations: resp.educations, homes: resp.homes, currents: resp.currents, friends: resp.friends, posts: resp.posts})\n    });\n  };\n\n  changeTab = (newValue) => {\n    this.setState({\n        loading:true\n    })\n    var temp = newValue == 0 ? this.state.sent : this.state.received;\n    this.setState({currentTab: newValue, loading:false, content: temp});\n};\n\nswitch = (val) => {\n  this.setState({\n    about: val\n  });\n};\n\nchoosePic = () => {\n  var pic = document.getElementById(\"profilePic\");\n  pic.click();\n}\n\nupdateProfilePic = (e) => {\n  var file = e.target.files[0];\n  console.log(file);\n  this.setState({profilePic: URL.createObjectURL(file), modal:true});\n  // updateProfile({avatar: file}).then(resp=>{\n  //   window.location.reload();\n  // }, err => {\n  //   console.log(err);\n  // })\n};\n\ngoToEdit=()=>{\n  this.setState({currentTab: 0, generalEdit:true});\n  setTimeout(() => {\n    this.myRef.scrollIntoView()\n  }, 300); \n}\n\ngoToFeed=()=>{\n  this.setState({currentTab: 1});\n  setTimeout(() => {\n    this.myRef2.scrollIntoView()\n  }, 300); \n}\n\naddNew=(name)=>{\n  this.setState({\n    [name] : true\n  });\n}\ncloseNew=(name)=>{\n  this.setState({\n    [name] : false\n  });\n}\n\nhandleChange=(e)=>{\n  var val = e.target.value;\n  var name = e.target.name;\n  var type = e.target.getAttribute(\"data-type\");\n  var temp = {...this.state[type]};\n  temp[name] = val;\n  this.setState({\n    [type] : temp\n  })\n}\n\ncrop =(crop)=>{\nthis.setState({crop});\n};\n\nsubmit=(e, type)=>{\n  e.preventDefault();\n  updateProfileExtras(this.state[type]).then(resp => {\n    console.log(resp);\n    if(type == \"general\"){\n      window.location.reload();\n    }else{\n      this.setState({[type+\"_edit\"]: false})\n      this.getExtras();\n    }\n  }, error => {\n\n  });\n}\n\nonImageLoaded = image => {\n  this.imageRef = image;\n};\n\nonCropComplete = crop => {\n // this.makeClientCrop(crop);\n};\n\ngetCroppedImg = (image, crop, fileName) => {\n  const canvas = document.createElement('canvas');\n  const scaleX = image.naturalWidth / image.width;\n  const scaleY = image.naturalHeight / image.height;\n  canvas.width = crop.width;\n  canvas.height = crop.height;\n  const ctx = canvas.getContext('2d');\n \n  ctx.drawImage(\n    image,\n    crop.x * scaleX,\n    crop.y * scaleY,\n    crop.width * scaleX,\n    crop.height * scaleY,\n    0,\n    0,\n    crop.width,\n    crop.height,\n  );\n \n  // As Base64 string\n  // const base64Image = canvas.toDataURL('image/jpeg');\n \n  // As a blob\n  return new Promise((resolve, reject) => {\n    canvas.toBlob(blob => {\n      blob.name = fileName;\n      resolve(blob);\n    }, 'image/jpeg', 1);\n  });\n}\n\n savePic = async () => {\n  if (this.imageRef && this.state.crop.width && this.state.crop.height) {\n    const croppedImageUrl = await this.getCroppedImg(\n      this.imageRef,\n      this.state.crop,\n      Date.now()+'.jpeg'\n    );\n    updateProfile({avatar: croppedImageUrl}).then(resp=>{\n      window.location.reload();\n    }, err => {\n      console.log(err);\n    })\n  }\n}\n\n  render() {\n    const user = this.state.user;\n    const cid = this.state.cid;\n    const request = this.state.request;\n    const followerid = this.state.followerid;\n    const id = this.state.id;\n\n    return (\n        <div className=\"profilePage\">\n          <Modal displayModal={this.state.modal} closeModal={this.selectModal} >\n            <ReactCrop src={this.state.profilePic} crop={this.state.crop} onChange={this.crop} onImageLoaded={this.onImageLoaded}\n            onComplete={this.onCropComplete} />\n            <div className=\"d-flex align-items-center justify-content-center\">\n            <Button variant=\"primary\" size=\"compact m-2\" onClick={this.savePic}>Save</Button>\n            <Button variant=\"secondary\" size=\"compact m-2\" onClick={this.selectModal}>Cancel</Button>\n            </div>\n            \n          </Modal>\n          <div className=\"container my-wall-container \">\n          <div className=\"row mt-2\">\n            <div className=\"col-sm empty-container-with-out-border center-column\">\n              <div className=\"container\">\n            <div className=\"row smFlex\">\n              <div className=\"col-md-12 p-0\">\n                <div className=\"d-flex align-items-start justify-content-between bg-primary rounded mr-0 xsFlex\">\n                  <div className=\"profile-pic\" style={{backgroundImage: 'url('+profilePic(user.avatar)+')'}}>\n                  </div>\n                  <div className=\"user-meta\">\n                  {\n                      request == \"\" && <Button variant=\"white\"  onClick={() => this.addFriend(id)}>Add</Button>\n                  }\n                  {\n                      request == \"accepted\" && <Button variant=\"white\"  onClick={this.getChat}>Chat</Button>\n                  }\n                  {\n                      request == 'pending' && followerid == id &&  <Button variant=\"white\" layout=\"dropdown\" dropdownOptions={[\"Cancel\"]} onClick={(n) => this.cancelRequest(id, n)}>Pending</Button>\n                  }\n                  {\n                      request == 'pending' && followerid != id && <Button variant=\"white\" layout=\"dropdown\" dropdownOptions={[\"Accept\", \"Reject\"]} onClick={(n) => this.accept(id, n)}>Respond</Button>\n                  }\n                  \n                    <div className=\"name\">{user.name}</div>\n                    <div className=\"job\">{user.job}</div>\n                    <div className=\"location\">{user.location}</div>\n                    <div className=\"hr-div d-flex align-items-center justify-content-start\">\n                      <div className=\"mr-4\">{this.state.posts} Posts</div>\n                      <div>{this.state.friends} Friends</div>\n                    </div>\n                    <div className=\"bio\">{user.about}</div>\n                  </div>\n                </div>\n              </div>\n         \n            </div>\n            <div className=\"row\"><div className=\"col-md-12 mt-3 mb-3 bg-main rounded\">\n                <div className=\"p-2\">\n                  <h3 className=\"overview\">Overview</h3>\n                  <ul className=\"about\">\n                    <li>\n                      <i className=\"fa fa-suitcase\"></i> \n                      <span>{this.state.workplaces[0] != undefined ? this.state.workplaces[0].designation+\" at \" : \"\"}</span>\n                      <strong>{this.state.workplaces[0] != undefined ? this.state.workplaces[0].company : \"\"}</strong>\n                    </li>\n                    <li>\n                      <i className=\"fa fa-graduation-cap\"></i> \n                      <span>{this.state.educations[0] != undefined ? this.state.educations[0].course+\" at \" : \"\"}</span>\n                      <strong>{this.state.educations[0] != undefined ? this.state.educations[0].institution : \"\"}</strong>\n                    </li>\n                    <li>\n                      <i className=\"fa fa-home\"></i> \n                      <span>{this.state.currents[0] != undefined ? this.state.currents[0].city+\", \" : \"\"}</span>\n                      <strong>{this.state.currents[0] != undefined ? this.state.currents[0].country : \"\"}</strong>\n                    </li>\n                    <li>\n                      <i className=\"fa fa-map-marker\"></i> \n                      <span>{this.state.homes[0] != undefined ? this.state.homes[0].city+\", \" : \"\"}</span>\n                      <strong>{this.state.homes[0] != undefined ? this.state.homes[0].country : \"\"}</strong>\n                    </li>\n                    \n                  </ul>\n                </div>\n              </div></div>\n            {/* <div className=\"mt-2 row\">\n              <div className=\"col-md-12 p-0\">\n                <Highlights {...this.props} seeAll={(e) => this.filterPosts('highlighted')} />\n              </div>\n            </div> */}\n            <div className=\"row sm-m-0 \">\n            <TabsUI tabs={['Feed', 'Friends', 'Blogs', 'Gigs']}  className=\"noBorder\" currentTab={this.state.currentTab} changeTab={this.changeTab} width=\"auto\" />\n              {\n               this.state.currentTab == 0 && <div className=\"tabPanelItem\" ref={ (ref) => this.myRef2=ref }>\n                  \n                  {\n                    <ProfilePosts query=\"\" id={id} setState={this.setStateFunc} latestpost={this.state.latestpost}  {...this.props} refreshHighlights={this.refreshHighlights} mine={true} />\n                  }\n              </div>\n            }\n            {\n              this.state.currentTab == 1 && <div className=\"tabPanelItem\">\n                <div className=\"row\">\n                  <div className=\"col-md-12\">\n                    <div className=\"\">\n                    {\n                      !this.state.refreshing && <GlobalFriends {...this.props} refresh={this.refresh} />\n                    }\n                    </div>\n                  </div>\n                </div>\n              </div>\n            }\n            {\n              this.state.currentTab == 2 && <div className=\"tabPanelItem\">\n              \n              {\n                \n                <ProfileBlogs query=\"\" id={id}  setState={this.setStateFunc} latestpost={this.state.latestpost}  {...this.props} refreshHighlights={this.refreshHighlights} type=\"blogs\" mine={true}  />\n              }\n              </div>\n            }\n            {\n              this.state.currentTab == 3 && <div className=\"tabPanelItem\">\n              \n              {\n                \n                <GlobalGigs query=\"\" id={id}  setState={this.setStateFunc} latestpost={this.state.latestpost}  {...this.props} refreshHighlights={this.refreshHighlights} mine={true} />\n              }\n              </div>\n            }\n            </div>\n            </div>\n          </div>\n        </div>\n        </div>\n        </div>\n\n      )\n    }\n}\n\nexport default MyProfile;\n","import config from \"../config/index\";\nimport {\n    makeAxiosGetRequest,\n    makeAxiosPostRequest\n} from \"./http-service\";\n\n\n/**\n * createPost\n * @param {object} data\n */\n\nexport const getBlogCategories = (params) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosGetRequest(`${config.baseUrl}get-blog-categories`, true, params)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                \n                reject(e.response);\n            });\n    });\n};\n\nexport const createBlog = (data) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosPostRequest(config.baseUrl + \"create-blog-post\", true, data)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                \n                reject(e.response);\n            });\n    });\n};\n\nexport const updateBlog = (data) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosPostRequest(config.baseUrl + \"update-blog-post\", true, data)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                \n                reject(e.response);\n            });\n    });\n};\n\n/**\n * register\n * @param {object} data email and password\n */\nexport const getPosts = (params, auth) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosGetRequest(config.baseUrl + \"get-blog-posts\", auth, params)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                reject(e.response);\n            });\n    });\n};\n\nexport const getGlobalPosts = (params, auth) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosGetRequest(config.baseUrl + \"get-global-blogs\", auth, params)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                reject(e.response);\n            });\n    });\n};\n\nexport const getFilteredBlogPosts = (data) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosGetRequest(config.baseUrl + \"get-filtered-blog-posts\", true, data)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                reject(e.response);\n            });\n    });\n};\n\nexport const postRemove = (data) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosPostRequest(config.baseUrl + \"remove-blog-post\", true, data)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                reject(e.response);\n            });\n    });\n};\n\nexport const getComments = (params, auth) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosGetRequest(`${config.baseUrl}get-blog-comments`, auth, params)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                \n                reject(e.response);\n            });\n    });\n};\n\n\n\nexport const getSinglePost = (params) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosGetRequest(config.baseUrl + \"get-blog\", false, params)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                \n                reject(e.response);\n            });\n    });\n};\n\nexport const getPopularBlogs = (params) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosGetRequest(config.baseUrl + \"get-popular-blogs\", true, params)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                \n                reject(e.response);\n            });\n    });\n};\n\nexport const getCategoryBlogs = (params) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosGetRequest(config.baseUrl + \"get-category-blogs\", true, params)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                \n                reject(e.response);\n            });\n    });\n};\n\nexport const getAuthorBlogs = (params) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosGetRequest(config.baseUrl + \"get-author-blogs\", true, params)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                \n                reject(e.response);\n            });\n    });\n};\n\n\nexport const getSuggestedBlogs = (params) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosGetRequest(config.baseUrl + \"get-suggested-blogs\", false, params)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                reject(e.response);\n            });\n    });\n};\n\nexport const clap = (params) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosPostRequest(config.baseUrl + \"blog-clap\", true, params)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                reject(e.response);\n            });\n    });\n};\n\nexport const sendTips = (data) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosPostRequest(config.baseUrl + \"send-tips\", true, data)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                \n                reject(e.response);\n            });\n    });\n};\n\nexport const purchaseBlog = (data) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosPostRequest(config.baseUrl + \"purchase-blog\", true, data)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                \n                reject(e.response);\n            });\n    });\n};\n\nexport const checkPurchasedBlog = (data) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosGetRequest(config.baseUrl + \"check-purchased-blog\", true, data)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                \n                reject(e.response);\n            });\n    });\n};\n\nexport const likePost = (data, auth) => {\n    return new Promise((resolve, reject) => {\n\n        makeAxiosPostRequest(config.baseUrl + \"like-blog\", auth, data)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                \n                reject(e.response);\n            });\n    });\n};\n\nexport const postComment = (data, auth = true) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosPostRequest(config.baseUrl + 'comment-blog', auth, data)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                \n                reject(e.response);\n            });\n    });\n};\n\nexport const likeComment = (data, auth) => {\n    return new Promise((resolve, reject) => {\n\n        makeAxiosPostRequest(config.baseUrl + 'like-comment-blog', auth, data)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                \n                reject(e.response);\n            });\n    });\n};\n\nexport const replyComment = (data, auth = true) => {\n    return new Promise((resolve, reject) => {\n\n        makeAxiosPostRequest(config.baseUrl + 'reply-comment-blog', auth, data)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                \n                reject(e.response);\n            });\n    });\n};\n\nexport const getBlogDraft = (params) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosGetRequest(config.baseUrl + \"get-blog-draft\", true, params)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                \n                reject(e.response);\n            });\n    });\n};\n\n\nexport const postSave = (data) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosPostRequest(config.baseUrl + \"save-blog\", true, data)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                reject(e.response);\n            });\n    });\n};\n\nexport const postUnSave = (data) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosPostRequest(config.baseUrl + \"un-save-blog\", true, data)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                reject(e.response);\n            });\n    });\n};\nexport const getBlogStats = (params) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosGetRequest(config.baseUrl + \"blog-stats\", true, params)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                \n                reject(e.response);\n            });\n    });\n};","import React from 'react';\nimport { sharePost } from '../../http/http-calls';\nimport { switchLoader, alertBox } from '../../commonRedux/';\nimport { GetAssetImage } from '../../globalFunctions';\nimport config from '../../config/index';\n\nconst Share = props => {\n    const [post, setPost] = React.useState(props.post);\n    const [shareType, setShareType] = React.useState('post');\n    const [inputText, setInputText] = React.useState(\"\");\n\n    const sharePostFn = () => {\n        switchLoader(true, 'Please wait. Your post sharing...!')\n        sharePost({ postid: post._id, text: inputText, type: props.type }, true)\n        .then(async resp => {\n            props.shareSuccess();\n            props.closeShareModal();\n            switchLoader();\n        }, error => {\n            \n            props.closeShareModal();\n            switchLoader();\n        });\n    }\n    const onChangeHandler = event => {\n        setInputText(event.target.value);\n    }\n    return (\n        <div className=\"social-wall-share-popup \">\n            <div className=\"modal-content share-popup--content\">\n                <div className=\"modal-header d-flex align-items-center\">\n                    <h5 className=\"modal-title\">Share</h5>\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" onClick={props.closeShareModal}>\n                        <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                </div>\n                \n                <div className=\"modal-body\">\n                    <div className=\"shareIcons text-center mb-2\">\n                        {\n                            props.type == 'blog' ?\n                            <React.Fragment>\n                                <a target=\"_blank\" href={\"https://www.facebook.com/sharer/sharer.php?u=\"+encodeURI(config.frontEnd+\"blog/\"+post._id)}><img src={GetAssetImage(\"facebook.png\")} /></a>\n                                <a target=\"_blank\" href={\"http://twitter.com/share?url=\"+encodeURI(config.frontEnd+\"blog/\"+post._id)}><img src={GetAssetImage(\"twitter.png\")} /></a>\n                            </React.Fragment>\n                            :\n                            <React.Fragment>\n                                <a target=\"_blank\" href={\"https://www.facebook.com/sharer/sharer.php?u=\"+encodeURI(config.frontEnd+\"post/\"+post._id)}><img src={GetAssetImage(\"facebook.png\")} /></a>\n                                <a target=\"_blank\" href={\"http://twitter.com/share?url=\"+encodeURI(config.frontEnd+\"post/\"+post._id)}><img src={GetAssetImage(\"twitter.png\")} /></a>\n                            </React.Fragment>\n                        }\n                    \n                    </div>\n                    <div className=\"mb-2 text-center\">-OR-</div>\n                    <ul className=\"p-0 m-0 w-100\">\n                        <li className=\"list-group-item p-0 pt-1\">\n                            <select className=\"form-control custom-select\" id=\"\" defaultValue={'DEFAULT'} >\n                                <option disabled value=\"DEFAULT\"> Share on my wall</option>\n                            </select>\n                        </li>\n                        <li className=\"list-group-item p-0 pt-2\">\n                            <textarea name=\"inputText\" id=\"\" cols=\"30\" rows=\"4\" placeholder=\"Message\" value={inputText} onChange={onChangeHandler}></textarea>\n                        </li>\n                    </ul>\n                </div>\n                <div className=\"modal-footer d-flex align-items-center pt-1\">\n                    <button type=\"button\" className=\"btn btn-secondary cancel-btn\" data-dismiss=\"modal\" onClick={props.closeShareModal}>Cancel</button>\n                    <button type=\"button\" className=\"btn btn-primary yes-btn\" onClick={sharePostFn}>Send</button>\n                </div>\n            </div>\n        </div>\n\n    );\n}\nexport default Share;","import React, {useEffect, useState} from 'react';\nimport Spinner from '../Spinner/index';\nimport A from '../A';\nimport Truncate from 'react-truncate';\nimport {history} from '../../store';\nimport './styles.css';\nimport { Link } from 'react-router-dom';\n\n  \nconst LeftThumbCard = props => {\n  const [post, setPost] = useState(props.post);\n  const goTo = (url) => {\n    history.push(url);\n  };\n  useEffect(()=>{\n    setPost(props.post);\n  }, [props.post]);\n  \n  return (\n   <div className=\"card leftThumbCard\" key={props.k}>\n    <div className=\"card-thumb pointer\" style={{backgroundImage: \"url(\" + props.thumb + \")\"}} onClick={() => goTo(props.url)}>\n    {post.status == 'draft' && <small className=\"badge badge-secondary draft-label ml-2 mt-1\">Draft</small> } \n    </div>\n    <div className=\"card-body\">\n      {\n        props.currentUser != undefined && props.shared == undefined && props.authorid == props.currentUser._id ? <span className=\"list-group-item  p-1 pr-2 pointer  dropdown pull-right\">\n        <i className=\"fa fa-ellipsis-h\"></i>\n    <div className=\"dropdown-menu hasUpArrow dropdown-menu-right\">\n    <Link to={\"/edit-blog/\"+post.slug} className=\"dropdown-item\">\n            <img className=\"mr-1\" src={require(\"../../assets/images/edit-icon.png\")} />\n            <span className=\"m-1\">Edit</span></Link> \n        \n        {props.currentUser != undefined && post.sharedBy == props.currentUser._id || post.userid == props.currentUser._id && <a className=\"dropdown-item\"  onClick={(e) => props.removePost(post._id)}>\n            <img className=\"mr-1\" src={require(\"../../assets/images/remove-icon.png\")} />\n            <span className=\"m-1\">Remove</span></a>}\n    </div>\n    </span>\n    :\n    <span className=\"list-group-item  p-1 pr-2 pointer  dropdown pull-right\">\n        <i className=\"fa fa-ellipsis-h\"></i>\n\n      <div className=\"dropdown-menu hasUpArrow dropdown-menu-right\">\n        {\n          props.reported ?\n            <a onClick={()=>props.unReport()} className=\"dropdown-item\">\n            <i className=\"fa fa-undo\"></i>\n                <span className=\"m-1\">Undo Report</span></a> \n          :\n            <a onClick={()=>props.report()} className=\"dropdown-item\">\n            <i className=\"fa fa-exclamation-circle\"></i>\n                <span className=\"m-1\">Report</span></a> \n        }\n             {\n          props.saved  ?\n            <a onClick={()=>props.unSave()} className=\"dropdown-item\">\n            <i className=\"fa fa-undo\"></i>\n                <span className=\"m-1\">Remove from Wishlist</span></a> \n          :\n            <a onClick={()=>props.save()} className=\"dropdown-item\">\n            <i className=\"fa fa-plus\"></i>\n                <span className=\"m-1\">Add to Wishlist</span></a> \n        }\n        \n        </div>\n    </span>\n      }\n   \n      <A href={props.url}><h3 className=\"card-title\">{props.title} </h3> </A>\n      \n      {/* <p className=\"card-description\">{props.description}</p> */}\n      {/* <Truncate lines={2} className=\"card-description\" ellipsis={<span>... </span>}>\n        \n      </Truncate> */}\n      <div>\n      <div className=\"card-description\">\n        {props.description != undefined && props.description.replace(/<\\/?[^>]+(>|$)/g, \"\").toString()}\n      </div>\n      <div><a href={props.url} className=\"readmore\">Read more</a></div>\n      </div>\n      \n      {\n        props.shared == undefined && <div className=\"card-stats\">\n        <div><strong>{props.likes}</strong> <i className=\"fa fa-hand-paper-o\"></i></div>\n        <div><strong>{props.shares}</strong> <i className=\"fa fa-share-alt\"></i></div>\n        <div><strong>{props.comments}</strong> <i className=\"fa fa-comment-o\"></i></div>\n        <div><strong>${props.tips.toFixed(2)}</strong> <i>Tips</i></div>\n        <div className=\"card-sub-title\">{props.category}</div>\n      </div>\n      }\n      \n    </div> \n   </div>\n  );\n\n};\n\nexport default LeftThumbCard;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport TimeAgo from 'react-timeago';\nimport Modal from '../../components/Popup';\nimport ReactPlayer from 'react-player';\nimport { getComments,   getReplyComments, postReport, postUnReport } from '../../http/http-calls';\nimport { postSave, postUnSave, postHide, postUnHide, postHighlight, postUnHighlight} from '../../http/post-calls';\nimport {postRemove, likePost, postComment} from '../../http/blog-calls';\nimport update from 'react-addons-update';\nimport ContentLoader from \"react-content-loader\";\nimport Share from './Share';\nimport { switchLoader, alertBox, modal } from '../../commonRedux/';\nimport A from '../A';\nimport {GetAssetImage, pic, profilePic} from '../../globalFunctions';\nimport Truncate from 'react-truncate';\nimport config from \"../../config/index\";\nimport Dialog from '@material-ui/core/Dialog';\nimport LeftThumbCard from '../Cards/LeftThumbCard';\nimport  Button  from '../Button';\nrequire(\"./styles.css\");\n\nconst reactStringReplace = require('react-string-replace');\n\nclass BlogPost extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            open:false,\n            url: props.post.url,\n            post: props.post,\n            last: null,\n            key: props.post._id,\n            shareModel: false,\n            reported:props.post.reported == 1?true:false,\n            saved:props.post.saved == 1?true:false,\n            category: \"\",\n            reason: \"\",\n            reportModal:false,\n            currPost: {},\n            coins: [],\n            playing: false,\n            tips:0,\n            showComments: false,\n            commentText: '',\n            postText: '',\n            replyCmt: []\n        }\n        // this.likePostFn = this.likePostFn.bind(this);\n        this.sharePost = this.sharePost.bind(this);\n        this.closeShareModal = this.closeShareModal.bind(this);\n    }\n    extractUrl = (text) => {\n\t\tvar expression = /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/gi;\n\t\tvar regex = new RegExp(expression);\n\t\treturn text.match(regex)\n    }\n    reportModal = () => {\n        this.setState({reportModal: !this.state.reportModal}) // true/false toggle\n    };\n\n    componentDidMount = () => {\n        \n        if(this.props.single){\n            this.showComments(this.state.post._id);\n        }        \n        \n        try {\n            var txt = JSON.parse(this.props.post.editorContent);\n            this.setState({\n                postText: txt.blocks[0].data.text\n            })\n        } catch (error) {\n            this.setState({\n                postText: this.props.post.text\n            })\n        }\n        this.getCoins();\n    };\n\n    componentDidUpdate(prevProps){\n        if(prevProps.coins != this.props.coins){\n            this.getCoins();\n        }\n    }\n\n    getCoins = () => {\n        this.setState({\n            coins : this.props.coins\n        },() => {\n            console.log(this.state.post.tips, this.state.coins)\n        if(this.state.post != undefined && this.state.post.tips != undefined && this.state.coins != undefined){\n                var len = this.state.post.tips.length;\n                if(len > 0){\n                    var tips = 0;\n                    this.state.post.tips.map((e, i) => {\n                        var index = this.state.coins.findIndex(function(item, i){\n                            return item.currencySymbol === e.currency\n                        });\n                        try {\n                            tips += e.amount/this.state.coins[index].EstimatedUSD;\n                        } catch (error) {\n                            \n                        }\n                        if(i == (len-1)){\n                            this.setState({\n                                tips: tips\n                            })\n                        }\n                    });\n                }\n            }\n        }\n        )\n    }\n\n    postActivityCount = (activityType, action = 'add') => {\n\n        const postObj = this.state.post;\n        if (!postObj[activityType]) {\n            postObj[activityType] = 0;\n        }\n        if (action == 'sub') {\n            postObj[activityType] = postObj[activityType] - +1;\n        } else {\n            postObj[activityType] = postObj[activityType] + +1;\n        }\n        this.setState({ post: postObj });\n    }\n\n    editPost = (id) => {\n\n    };\n    save = (id) => {\n        //modal(true, \"sdf\");\n        postSave({ postid: id })\n        .then(async resp => {\n            alertBox(true, resp.message, 'success');\n            this.setState({ saved: true });\n        }, error => {\n            alertBox(true, error.data.message);\n        });\n    };\n    unSave = (id) => {\n        postUnSave({ postid: id })\n        .then(async resp => {\n            alertBox(true, resp.message, 'success');\n            this.setState({ saved: false });\n        }, error => {\n            alertBox(true, error.data.message);\n        });\n    };\n    report = (p) => {\n        if(this.state.category == \"\"){\n            alertBox(true, \"You need to select a category\");\n        }else{\n        var link = \"blog/\"+p.slug;\n        postReport({ id: p._id, type: 'blog', link, category: this.state.category, reason: this.state.reason })\n        .then(async resp => {\n            alertBox(true, resp.message, 'success');\n            this.setState({ reportModal: false, reported: true});\n        }, error => {\n            alertBox(true, error.data.message);\n            this.setState({ reportModal: false});\n        });\n    }\n    };\n    unReport = (p) => {\n        postUnReport({ id: p._id })\n        .then(async resp => {\n            alertBox(true, resp.message, 'success');\n            this.setState({ reported: false  });\n        }, error => {\n            alertBox(true, error.data.message);\n        });\n    };\n    hidePost = (id) => {\n        postHide({ postid: id })\n        .then(async resp => {\n            alertBox(true, resp.message, 'success');\n            this.setState({ post: { ...this.state.post, hidden: 1 } });\n        }, error => {\n            alertBox(true, error.data.message);\n        });\n    };\n    unhidePost = (id) => {\n        postUnHide({ postid: id })\n        .then(async resp => {\n            alertBox(true, resp.message, 'success');\n            this.setState({ post: { ...this.state.post, hidden: 0 } });\n        }, error => {\n            alertBox(true, error.data.message);\n        });\n    };\n    removePost = (id) => {\n        this.setState({last:id, open:true})\n      \n    };\n\n    removePostConfirm = () => {\n        var id = this.state.last;\n        this.setState({open:false, last:null})\n        postRemove({ postid: id })\n        .then(async resp => {\n            alertBox(true, resp.message, 'success');\n            this.setState({ post: { ...this.state.post, removed: 1 } });\n        }, error => {\n            alertBox(true, error.data.message);\n        });\n    }\n    highlightPost = (id) => {\n        postHighlight({ postid: id })\n        .then(async resp => {\n            alertBox(true, resp.message, 'success');\n            this.setState({ post: { ...this.state.post, highlighted: 1 } }, () => {\n                \n            });\n        }, error => {\n            alertBox(true, error.data.message);\n        });\n    };\n    unHighlight = (id) => {\n        postUnHighlight({ postid: id })\n        .then(async resp => {\n            alertBox(true, resp.message, 'success');\n            this.setState({ post: { ...this.state.post, highlighted: 0 } },  () => {\n                \n            });\n        }, error => {\n            alertBox(true, error.data.message);\n        });\n    };\n\n    likePostFn = (postId, liked) => {\n        this.setState({ post: { ...this.state.post, likeActive: 1 - liked } });\n        likePost({ postid: postId }, true)\n            .then(async resp => {\n                if (resp.message == 'Like') {\n                    this.postActivityCount('likesCount');\n                } else if (resp.message == 'Dislike') {\n                    this.postActivityCount('likesCount', 'sub');\n                }\n            }, error => {\n                alertBox(true, error.data.message);\n            });\n    }\n\n    sharePost = (post) => {\n        this.setState({ shareModel: true, currPost: post })\n    }\n\n    closeShareModal = () => {\n        this.setState({ shareModel: false })\n    }\n\n    handleOnReady = () => setTimeout(() => this.setState({ playing: true }), 100);\n    handleClose = () => this.setState({ open: !this.state.open });\n\n    postCmt = (postid) => {\n        if(this.state.commentText != '' && this.state.commentText != null){\n        switchLoader(true, 'Please wait. Commenting...');\n        let obj = { postid, comment: this.state.commentText };\n        postComment(obj)\n            .then(async resp => {\n                this.postActivityCount('cmtsCount');\n                const postObj = this.state.post;\n                if (!postObj.comment) {\n                    postObj.comment = [];\n                }\n                postObj.comment.unshift(resp.comment);\n                this.setState({ post: postObj, showComments: true, commentText: '' });\n                switchLoader();\n            }, error => {\n                alertBox(true, error.data.message);\n                switchLoader();\n            });\n        }\n    }\n\n    showComments = (postid) => {\n\n        switchLoader(true, 'Please wait. Getting Comments...');\n        getComments({ postid }, true)\n            .then(async resp => {\n                switchLoader();\n                this.setState({ post: { ...this.state.post, comment: resp } })\n                this.setState({ showComments: true });\n            }, error => {\n                alertBox(true, error.data.message);\n                switchLoader();\n            });\n    }\n\n    handleChange = (evt, index) => {\n        const { name, value } = evt.target;\n        if (evt.target.name != 'replyCmt') {\n            this.setState({ [name]: value }, () => { });\n        } else {\n            this.setState({ [`${name}`]: { ...this.state.replyCmt, [index]: value } }, () => {\n            });\n        }\n    }\n\n    shareSuccess = () => {\n        this.postActivityCount('shareCount');\n    }\n\n    showCommentReply = (commentId) => {\n        let index = this.state.post.comment.findIndex(el => el._id === commentId);\n        const tempPostData = this.state.post;\n        tempPostData.comment[index].showReply = true;\n        this.setState({ post: tempPostData });\n        \n        // this.setState({\n        //     post: { comment: update(this.state.post.comment, { [index]: { showReply: { $set: true } } }) }\n        // }, () => {\n        // });\n    }\n\n    showCommentReplies = (commentId) => {\n\n        switchLoader(true, 'Please wait. Getting Comments...');\n        getReplyComments({ commentId }, true)\n            .then(async resp => {\n                switchLoader();\n                let index = this.state.post.comment.findIndex(el => el._id === commentId);\n                const tempPostData = this.state.post;\n                tempPostData.comment[index].replies = resp;\n                this.setState({ post: tempPostData });\n            }, error => {\n                alertBox(true, error.data.message);\n                switchLoader();\n            });\n    }\n\n    callBackCommentReply = (replyData, commentIndex) => {\n        let postObj = this.state.post;\n        if (postObj.comment && postObj.comment[commentIndex]) {\n            if (postObj.comment[commentIndex].replies) {\n                postObj.comment[commentIndex].replies.push(replyData);\n            } else {\n                postObj.comment[commentIndex].replies = [replyData];\n            }\n            let tempReplyCmt = this.state.replyCmt;\n            tempReplyCmt[commentIndex] = '';\n            this.setState({ post: postObj, replyCmt: tempReplyCmt });\n        }\n    }\n\n    // wrapHash = (val) => {\n        \n    //     return val.replace(/#(\\w+)/g, \"<A href='/search/filter=posts&q=$&'>$&</A>\").replace(\"q=#\", \"q=%23\");  \n    // }\n\n    render() {\n\n        const { post, showComments, commentText, replyCmt, key } = this.state;\n\n        return (\n            <div className={\"post \"} key={key}>\n                     <Modal displayModal={this.state.reportModal} closeModal={this.reportModal} >\n                     <div>\n                         <div className=\"form-group\">\n                             <select className=\"form-control\" value={this.state.category}  onChange={(e) => this.setState({category: e.target.value})}>\n                                 <option value=\"\">Select Category</option>\n                                 <option>Violence</option>\n                                 <option>Racism / Hatespeech</option>\n                                 <option>Pornographic</option>\n                                 <option>Spam</option>\n                                 <option>Other</option>\n                             </select>\n                         </div>\n                         <div className=\"form-group\">\n                             <textarea type=\"text\" placeholder=\"Reason\" className=\"form-control\" onChange={(e) => this.setState({reason: e.target.value})} value={this.state.reason} />\n                         </div>\n                     </div>\n                <div className=\"\">\n                <Button variant=\"primary\" size=\"compact m-2\" onClick={() => this.report(post)}>Report</Button>\n                <Button variant=\"secondary\" size=\"compact m-2\" onClick={this.reportModal}>Cancel</Button>\n                </div>\n             </Modal>\n                <Dialog onClose={this.handleClose} className=\"confirm-modal\"  open={this.state.open}>\n                    <strong className=\"text-center p-2\"><big>Confirmation</big></strong>\n                    <p className=\"p-2\">Are you sure about deleting this?</p>\n                    <div className=\"p-2 d-flex align-items-center justify-content-around\">\n                        <Button onClick={this.handleClose} variant=\"secondary\">Cancel</Button>\n                        <Button onClick={this.removePostConfirm} variant=\"primary\">Yes</Button>\n                    </div>\n                </Dialog>\n                {!post.sharedBy ? this.getPostContent(post, showComments, commentText, replyCmt) : null}\n                {this.state.shareModel &&\n                    <Share\n                        post={this.state.currPost}\n                        shareSuccess={this.shareSuccess}\n                        closeShareModal={this.closeShareModal}\n                    />}\n            </div>\n        );\n    }\n\n    getPostContent = (post, showComments, commentText, replyCmt) => {\n        return (\n            ((post.removed > 0 ) || (post.hidden > 0 && this.props.filter != 'hidden')) ? null : \n            <LeftThumbCard reported={this.state.reported} saved={this.state.saved} report={this.reportModal} unReport={()=>this.unReport(post)} save={() => this.save(post._id)} unSave={()=>this.unSave(post._id)} url={\"/blog/\"+post.slug} thumb={pic(post.contents != undefined && post.contents[0] != undefined ? post.contents[0].content_url : '')} k={post._id} currentUser={this.props.currentUser} post={post} title={post.subject} likes={post.clapsCount} shares={post.shareCount} tips={this.state.tips} comments={post.cmtsCount} category={post.category} description={this.state.postText} removePost={this.removePost} authorid={post.userid} />\n        )\n    }\n}\n\nexport default BlogPost;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { createPost, getCSRF, getTagUsers } from '../../http/http-calls';\nimport { updatePost} from '../../http/post-calls';\nimport { twitterTweet} from '../../http/twitter-calls';\nimport { image, video, file } from '../../config/constants';\nimport ReactTags from 'react-tag-autocomplete';\nimport {switchLoader,alertBox} from '../../commonRedux/';\nimport ContentEditable from 'react-contenteditable';\n// import { ReactTinyLink } from 'react-tiny-link'\nimport Loader from 'react-spinners/BarLoader';\nimport config from '../../config';\n\n\nclass EditPost extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.postFileInput = React.createRef();\n\t\tthis.reactTags = React.createRef()\n\t\tthis.contentEditable = React.createRef();\n\t\tthis.state = {html: \"<b>Hello <i>World</i></b>\"};\n\t\tthis.state = {\n\t\t\ttwitterID: 0,\n\t\t\ttwitter: false,\n\t\t\ttext: '',\n\t\t\ttext2: '',\n\t\t\tloadTxt: '',\n\t\t\turl: '',\n\t\t\tprofileImg: '',\n\t\t\tpostImgs: [],\n\t\t\tpostAccept: '',\n\t\t\tvisibility: 'public',\n\t\t\ttags: [],\n\t\t\ttoggleTagInput: false,\n\t\t\tsuggestions: [],\n\t\t\tcontents:[],\n\t\t\tdisplaySelectedItem:[]\n\t\t}\n\t\t\n\t\tthis.handleChangeImage = this.handleChangeImage.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.extractUrl = this.extractUrl.bind(this);\n\t\tthis.onDelete = this.onDelete.bind(this);\n\t\tthis.removeURL = this.removeURL.bind(this);\n\t\n\t}\n\n\tcomponentDidMount() {\n\n\t\t// getCSRF()\n\t\t// \t.then(async resp => {\n\t\t// \t\tlocalStorage.setItem('csrf', resp._csrf);\n\t\t// \t}, error => {\n\t\t// \t\t\n        // \t});\n\t\tvar post = this.props.post;\n\t\tif(!post.sharedBy){\n        this.setState({\n\t\t\ttext: post.text,\n            tags: post.taggedPeople,\n            visibility: post.privacy,\n            twitterPost: post.twitterPost,\n\t\t\turl: post.url,\n\t\t\tcontents: post.contents\n\t\t});\n\t\tvar displaySelectedItem = [];\n\t\tif(post.contents.length > 0){\n\t\t\tlet getExt = (post.contents[0].content_url.split('.')).pop();\n\t\t\tif(image.indexOf('.'+getExt) !== -1){\n\t\t\t\tlet imgTag = () => (<img className=\"displayPostImg\" src={post.contents[0].content_url} />);\n\t\t\t\tdisplaySelectedItem.push(imgTag());\n\t\t\t}else if(video.indexOf('.'+getExt) !== -1){\n\t\t\t\tdisplaySelectedItem.push(\"1 Video Selected\");\n\t\t\t}else if(file.indexOf('.'+getExt) !== -1){\n\t\t\t\tdisplaySelectedItem.push(\"1 File Selected\");\n\t\t\t}\n\t\t\tthis.setState({displaySelectedItem:displaySelectedItem});\n\t\t}\n\t\tthis.setState({twitterID: this.props.currentUser.twitterID});\n\t}else{\n\t\tthis.setState({\n\t\t\ttext: post.sharedText,\n\t\t\ttext2: post.text\n\t\t});\n\t}\n\t\t\n\t}\n\n\tenableUpload = (acceptExt) => {\n\t\tlet accept = acceptExt.join(',');\n\t\tthis.setState({ postAccept: accept }, () => {\n\t\t\tthis.postFileInput.current.click();\n\t\t});\n\t}\n\n\tchangeTwitter = () => {\n\t\tthis.setState({\n\t\t\ttwitter: !this.state.twitter\n\t\t})\n\t}\n\tchangeVisibility = () => {\n\t\tthis.setState({\n\t\t\tvisibility: this.state.visibility === 'public' ? 'onlyme' : 'public'\n\t\t})\n\t}\n\tremoveURL = () => {\n\t\tthis.setState({\n\t\t\turl: ''\n\t\t})\n\t}\n\tclearCreatPostInputs = () => {\n\t\tthis.setState({\n\t\t\ttext: '',\n\t\t\turl: '',\n\t\t\tprofileImg: '',\n\t\t\tpostImgs: [],\n\t\t\tpostAccept: '',\n\t\t\tdisplaySelectedItem:[],\n\t\t\tvisibility: 'public',\n\t\t})\n\t}\n\tswitchLoader2 = (txt = '') => {\n\t\tthis.setState({\n\t\t\tloadTxt : txt\n\t\t})\n\t}\n\tpost = () => {\n\t\tconst formData = new FormData()\n\t\tvar text = this.state.text;\n\t\ttext = text.replace(\"&nbsp;\", \"\");\n\t\tformData.append('id', this.props.post._id);\n\t\tformData.append('postImgs', this.state.postImgs);\n\t\tformData.append('postImgs2', this.state.contents);\n\t\tif(!this.props.post.sharedBy){\n\t\t\tformData.append('text', text);\n\t\t}else{\n\t\t\tformData.append('sharedText', text);\n\t\t\tformData.append('text', this.state.text2);\n\t\t}\n\t\t\n\t\tformData.append('subject', 'Eclipton');\n\t\tformData.append('taggPeople', JSON.stringify(this.state.tags));\n\t\tformData.append('privacy', this.state.visibility);\n\t\tformData.append('twitterPost', this.state.twitter);\n\t\tformData.append('url', this.state.url);\n\t\t this.switchLoader2('Your post is being updated...')\n\t\tupdatePost(formData)\n\t\t\t.then(async resp => {\n\t\t\t\tif(resp.success){\n\t\t\t\t\tthis.props.updatePost(resp.post);\n\t\t\t\t\t// if(this.state.twitter){\n\t\t\t\t\t// \ttwitterTweet({text: this.state.text}).then(async resp => {\n\t\t\t\t\t// \t\tthis.clearCreatPostInputs();\n\t\t\t\t\t// \t\tthis.setState({\n\t\t\t\t\t// \t\t\ttweet: false\n\t\t\t\t\t// \t\t});\n\t\t\t\t\t// \t});\n\t\t\t\t\t// }else{\n\t\t\t\t\t\t// this.clearCreatPostInputs();\n\t\t\t\t\t//}\n\t\t\t\t}\n\t\t\t\tthis.switchLoader2();\n\t\t\t}, error => {\n\t\t\t\t\n\t\t\t\tthis.switchLoader2()\n\t\t\t});\n\t}\n\n\thandleChangeImage(e) {\n\t\tthis.setState({ postImgs: e.target.files[0] },() => {\n\t\t\tlet getExt = (this.state.postImgs.name.split('.')).pop();\n\t\t\tvar displaySelectedItem = [];\n\t\t\tif(image.indexOf('.'+getExt) !== -1){\n\t\t\t\tlet imgTag = () => (<img className=\"displayPostImg\" src={URL.createObjectURL(this.state.postImgs)} />);\n\t\t\t\tdisplaySelectedItem.push(imgTag());\n\t\t\t}else if(video.indexOf('.'+getExt) !== -1){\n\t\t\t\tdisplaySelectedItem.push(\"1 Video Selected\");\n\t\t\t}else if(file.indexOf('.'+getExt) !== -1){\n\t\t\t\tdisplaySelectedItem.push(\"1 File Selected\");\n\t\t\t}\n\t\t\tthis.setState({displaySelectedItem:displaySelectedItem});\n\t\t})\n\t}\n\n\t// handleChange = (evt) => {\n\t// \tconst { name, value } = evt.target;\n\t// \tthis.setState({ [name]: value }, () => {\n\t// \t});\n\t// }\n\textractUrl = (text) => {\n\t\tvar expression = /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/gi;\n\t\tvar regex = new RegExp(expression);\n\n\t\treturn text.match(regex)\n\t}\n\thtmlToText = (html) => {\n\t\tvar temp = document.createElement('div');\n\t\ttemp.innerHTML = html;\n\t\treturn temp.textContent; // Or return temp.innerText if you need to return only visible text. It's slower.\n\t};\n\n\thandleChange = evt => {\n\t\tvar txt  = this.htmlToText(evt.target.value);\n\t\tthis.setState({text: txt}, () => {\n\t\t\tvar temp = this.extractUrl(this.state.text);\n\t\t\t\n\t\t\tif(temp != null && temp.length > 0 && this.url != temp[0]){\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\turl: temp[0]\n\t\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\tonDelete(i) {\n\t\tconst tags = this.state.tags.slice(0)\n\t\ttags.splice(i, 1)\n\t\tthis.setState({ tags })\n\t}\n\tonAddition(tag) {\n\t\tconst tags = [].concat(this.state.tags, tag)\n\t\tthis.setState({ tags })\n\t}\n\n\ttoggleTag = () => {\n\t\tif(!this.state.toggleTagInput){\n\t\t\tgetTagUsers({key: ''}, true)\n\t\t\t.then(async resp => {\n\t\t\t\tthis.setState({ suggestions: resp }, () => {\n\t\t\t\t});\n\t\t\t}, error => {\n\t\t\t\t\n\t\t\t});\n\t\t}\n\t\tthis.setState({ toggleTagInput: !this.state.toggleTagInput });\n\t}\n\t\n\trender() {\n\t\tconst { postAccept, visibility, tags, toggleTagInput,displaySelectedItem, twitter } = this.state;\n\n\t\treturn (\n\t\t\t<div className=\"empty-inner-container-with-border create-post\" >\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<ul className=\"list-group w-100 m-0\">\n\n\t\t\t\t\t\t\t<li className=\"list-group-item d-flex justify-content-between align-items-center\">\n\t\t\t\t\t\t\t\t<div className=\"clearfix content-heading w-100\">\n\t\t\t\t\t\t\t\t\t<p className=\"mb-0\">Edit post</p>\n\t\t\t\t\t\t\t\t\t{/* <span className=\"overlay pull-left\"><img className=\"\"\n\t\t\t\t\t\t\t\t\t\tsrc={require(\"../../assets/images/create-plus-icon.png\")} /></span> */}\n\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control pull-left border-0 p-1\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Create\"\n\t\t\t\t\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\t\t\t\t\tname=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.text}\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\t></textarea>\n\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t{this.state.url != '' &&\n                                      <li className=\"mt-2  d-flex align-items-start justify-content-center\">  <i onClick={this.removeURL} className=\"fa fa-times removeIcon\"></i>\n                                      {/* { this.state.url != \"\" && <ReactTinyLink\n  cardSize=\"small\"\n  showGraphic={true}\n  maxLine={2}\n  minLine={1}\n  url={this.state.url}\n/>} */}\n</li>\n                                }\n\t\t\t\t\t\t\t{(displaySelectedItem && displaySelectedItem.length > 0 ) &&\n\t\t\t\t\t\t\t\t<li className=\"list-group-item d-flex justify-content-between align-items-center\">\n\t\t\t\t\t\t\t\t\t<div className=\"clearfix content-heading w-100 pl-2 position-relative\">\n\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-times pointer removeImage\" onClick={() => this.setState({displaySelectedItem:[], contents: []})}></i>\n\t\t\t\t\t\t\t\t\t\t{displaySelectedItem[0]}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{(tags.length > 0) &&\n\t\t\t\t\t\t\t\t<li className=\"list-group-item d-flex justify-content-between align-items-center\">\n\t\t\t\t\t\t\t\t\t<div className=\"clearfix content-heading w-100 tagedPeople\">\n\t\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t{tags.map((value, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <li onClick={() => this.onDelete(index)} className=\"btn-light\" key={index}>{value.name} <span>X</span> </li>\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t<li className=\"list-group-item d-flex justify-content-between align-items-center create-post-attachments p-1\">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"create-post-customize\">\n\t\t\t\t\t\t\t\t<div className='hide'>\n\t\t\t\t\t\t\t\t\t\t\t<input type='file' name=\"file\" accept={postAccept} onChange={this.handleChangeImage} ref={this.postFileInput} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<ul className=\"list-group list-group-horizontal remove-border m-0\">\n\t\t\t\t\t\t\t\t\t<li className={\"list-group-item p-2\"}>\n\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-light btn-sm tag\" onClick={(e) => this.enableUpload(image)}>\n\t\t\t\t\t\t\t\t\t\t\t\t<img className='m-0' src={require(\"../../assets/images/icons/photo.svg\")} />\n                      \t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<li className={\"list-group-item p-2\"+(!toggleTagInput && ' mr-auto')}>\n\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-light btn-sm tag\" onClick={() => this.toggleTag()}>\n\t\t\t\t\t\t\t\t\t\t\t\tTag Connection\n                      \t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t{toggleTagInput &&\n\t\t\t\t\t\t\t\t\t\t\t<li className=\"mr-auto list-group-item p-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<ReactTags\n\t\t\t\t\t\t\t\t\t\t\t\t\tref={this.reactTags}\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholderText=\"Add Tags\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsuggestions={this.state.suggestions}\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoresize={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonAddition={this.onAddition.bind(this)} />\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tthis.state.twitterID != null && this.state.twitterID > 0 && <li className=\"list-group-item p-2\">\n\t\t\t\t\t\t\t\t\t\t\t<img className=\"pointer smallIcon\" onClick={this.changeTwitter} src={require(\"../../assets/images/\" + (twitter ? \"twitter-filled.svg\" : \"twitter-outline.svg\"))} />\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"m-1\"></span>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<li className=\"list-group-item p-2\">\n\t\t\t\t\t\t\t\t\t\t\t<img className=\"pointer smallIcon\" onClick={this.changeVisibility} src={require(\"../../assets/images/\" + (visibility == 'public' ? \"create-visibility-icon\" : \"hide-visibility-icon@2x\") + \".png\")} />\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"m-1\">Visibility</span>\n\t\t\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t\t\t\t\t<li className=\"list-group-item p-2 \">\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-light btn-sm theme-btn\" onClick={this.post}>\n\t\t\t\t\t\t\t\t\t\t\t\tUpdate\n                      \t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.state.loadTxt != '' && <div className=\"d-block w-100\"><small className=\"text-center d-block text-danger\">{this.state.loadTxt}</small><Loader width=\"100%\" color=\"#5931ea\"  /></div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div >\n\t\t);\n\t}\n}\n\nexport default EditPost;\n","import React, {useEffect, useState} from 'react';\nimport Spinner from '../Spinner/index';\nimport A from '../A';\nimport TimeAgo from 'react-timeago';\nimport Truncate from 'react-truncate';\nimport {history} from '../../store';\nimport './styles.css';\nimport { Link } from 'react-router-dom';\nimport { pic, profilePic } from '../../globalFunctions';\n\n  \nconst SharedPostCard = props => {\n  const goTo = (url) => {\n    history.push(url);\n  };\n  const [post, setPost] = useState(props.post);\n  const [contents, setContents] = useState(props.contents);\n  const [userinfo, setUserinfo] = useState(props.userinfo);\n  const [type, setType] = useState(props.type);\n  return (\n   <div className=\"card leftThumbCard\" key={props.k}>\n    {contents[0] == undefined ? null : <div className=\"card-thumb pointer\" style={{backgroundImage: \"url(\" + pic(contents[0].content_url) + \")\"}} onClick={() => goTo(props.url)}>\n    </div> }\n    <div className=\"card-body\">\n        <div className=\"d-flex align-items-center justify-content-between mb-2\">\n            <A href={\"/u/\"+post.userid} className=\"highlight-userinfo\">\n            <div className=\"highlight-profile-pic\" style={{backgroundImage: `url(${ profilePic(userinfo == undefined ? '' : userinfo.avatar)})`}}></div>\n            <div>{userinfo == undefined ? 'Unkown' : userinfo.name}</div>\n            </A>\n            <p className=\"media-subheading\"><TimeAgo date={post.createdAt} /></p>\n        </div>\n    \n      {type == 'blog' && <A href={props.url}><h3 className=\"card-title mb-1\">{post.subject}</h3></A> } \n      <div className=\"card-sub-title mb-1\">{post.category}</div>\n      {/* <p className=\"card-description\">{props.description}</p> */}\n      <Truncate lines={2} className=\"card-description\" ellipsis={<span>... <a href={props.url}>Read more</a></span>}>\n        {post.text != undefined && post.text.replace(/<\\/?[^>]+(>|$)/g, \"\")}\n      </Truncate>\n\n      <div><strong>{post.tags}</strong></div>      \n    </div> \n   </div>\n  );\n\n};\n\nexport default SharedPostCard;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Button from '../../components/Button';\nimport Modal from '../../components/Popup';\nimport TimeAgo from 'react-timeago';\nimport ReactPlayer from 'react-player';\nimport { postReport, postUnReport,  likePost, postComment, getComments,likeComment, replyComment, getReplyComments, removeComment } from '../../http/http-calls';\nimport { postSave, postUnSave, postHide, postUnHide, postHighlight, postUnHighlight, postRemove} from '../../http/post-calls';\nimport update from 'react-addons-update';\nimport ContentLoader from \"react-content-loader\";\nimport Share from './Share';\nimport LeftThumbCard from '../Cards/LeftThumbCard';\nimport { switchLoader, alertBox, modal } from '../../commonRedux/';\nimport A from '../A';\nimport {GetAssetImage, profilePic} from '../../globalFunctions';\nimport Dialog from '@material-ui/core/Dialog';\n// import { ReactTinyLink } from 'react-tiny-link'\nimport config from \"../../config/index\";\nimport EditPost from './EditPost';\nimport Spinner from '../Spinner';\nimport SharedPostCard from '../Cards/SharedPostCard';\nimport Lightbox from 'react-image-lightbox';\nimport 'react-image-lightbox/style.css'; \nrequire(\"./styles.css\");\n\nconst reactStringReplace = require('react-string-replace');\n\nclass Post extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            images:[],\n            photoIndex: 0,\n      isOpen: false,\n            open:false,\n            last:null,\n            content: '',    \n            reason: \"\",\n            category: \"\",\n            sharedContent: '',\n            url: props.post.url,\n            post: null,\n            key: props.post._id,\n            shareModel: false,\n            currPost: {},\n            playing: false,\n            reportModal:false,\n            modal: false,\n            showComments: false,\n            commentText: '',\n            replyCmt: []\n        }\n        // this.likePostFn = this.likePostFn.bind(this);\n        this.sharePost = this.sharePost.bind(this);\n        this.closeShareModal = this.closeShareModal.bind(this);\n        this.postActivityCount = this.postActivityCount.bind(this);\n    }\n\n    extractUrl = (text) => {\n\t\tvar expression = /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/gi;\n\t\tvar regex = new RegExp(expression);\n\t\treturn text.match(regex)\n    }\n    \n    \n\n    componentDidMount = () => {\n        console.log(\"mounted\");\n        this.setState({\n            post: this.props.post\n        }, () => {\n            var post = this.state.post;\n            if(this.props.single && ((post.userid == this.props.currentUser._id) || (post.settings[0] != undefined && (post.settings[0].comments == \"Everyone\" || (post.settings[0].comments == \"Friends\" && post.followings.length > 0))))){\n                this.showComments(this.state.post._id);\n            }\n            this.processText();\n        });\n        try {\n            var i = this.props.post.contents[0].content_url;\n            this.setState({\n                images: [i]\n            })    \n        } catch (error) {\n            \n        }\n        \n    };\n\n    processText = () => {\n        if(this.state.post.text != undefined && this.state.post.text != null && this.state.post.text != ''){\n            var text = this.state.post.text;\n            text = text.replace(/(?:\\r\\n|\\r|\\n)/g, '<br>');\n            text = text.replace(/#[a-z]+/g, \"<a target=\\\"_blank\\\" href=\\\"/search?filter=posts&q=$&\\\">$&</a>\");\n            this.setState({\n                content: text\n            });\n        }\n        if(this.state.post.sharedText != undefined && this.state.post.sharedText != null && this.state.post.sharedText != ''){\n            var text = this.state.post.sharedText;\n            text = text.replace(/(?:\\r\\n|\\r|\\n)/g, '<br>');\n            text = text.replace(/#[a-z]+/g, \"<a target=\\\"_blank\\\" href=\\\"/search?filter=posts&q=$&\\\">$&</a>\");\n            this.setState({\n                sharedContent: text\n            });\n        }\n    }\n\n    // componentDidUpdate = (prev) => {\n    //     console.log(this.state.post.text);\n        \n    // }\n\n    postActivityCount = (activityType, action = 'add') => {\n        const postObj = this.state.post;\n        if (!postObj[activityType]) {\n            postObj[activityType] = 0;\n        }\n        if (action == 'sub') {\n            postObj[activityType] = postObj[activityType] - +1;\n        } else {\n            postObj[activityType] = postObj[activityType] + +1;\n        }\n        this.setState({ post: postObj });\n    };\n\n    commentActivityCount = (commentId, activityType, action = 'add') => {\n        const post = this.state.post;\n        const postObj = post.comment[commentId];\n        if (!postObj[activityType]) {\n            postObj[activityType] = 0;\n        }\n        if (action == 'sub') {\n            postObj[activityType] = postObj[activityType] - +1;\n        } else {\n            postObj[activityType] = postObj[activityType] + +1;\n        }\n        post.comment[commentId] = postObj;\n        this.setState({ post: post });\n    };\n\n    editPost = (post) => {\n        this.setState({modal: !this.state.modal}) // true/false toggle\n    };\n\n    reportModal = (type = null, data = null, key = null, comment = null, key2 = null ) => {\n        console.log(type, data, key, comment, key2)\n        if(type != null){\n            this.setState({\n                lastType: type,\n                lastData: data,\n                lastKey : key,\n                lastComment: comment,\n                lastKey2: key2\n            })\n        }\n        this.setState({reportModal: !this.state.reportModal}) // true/false toggle\n    };\n    \n    commentLike = (key, postid, commentId) => {\n        // this.setState({ post: { ...this.state.post, likeActive: 1 - liked } });\n        likeComment({ postid, commentId }, true)\n            .then(async resp => {\n                if (resp.message == 'Like') {\n                  this.commentActivityCount(key, 'likesCount');\n                } else if (resp.message == 'Dislike') {\n                this.commentActivityCount(key, 'likesCount', 'sub');\n                }\n            }, error => {\n                \n            });\n    }\n\n    deleteComment = (type, postid, id) => {\n        // this.setState({ post: { ...this.state.post, likeActive: 1 - liked } });\n        console.log(type, postid, id)\n        removeComment({ id }, true)\n            .then(async resp => {\n                if(type == 'comment'){\n                    this.showComments(postid);\n                    this.postActivityCount('cmtsCount', \"sub\");\n                }else{\n                    console.log(\"done\");\n                    this.showCommentReplies(postid);\n                }\n            }, error => {\n                alertBox(true, error.data.message)\n            });\n    }\n\n    commentReply = (postid, commentId, comment, commentIndex, callBack) => {\n        if(comment != '' && comment != null){\n        replyComment({ postid: postid, commentId, comment }, true)\n            .then(async resp => {\n                callBack(resp.comment, commentIndex)\n            }, error => {\n                \n        });\n    }\n    }\n    savePost = (id) => {\n        //modal(true, \"sdf\");\n        postSave({ postid: id })\n        .then(async resp => {\n            alertBox(true, resp.message, 'success');\n            this.setState({ post: { ...this.state.post, saved: 1 } });\n        }, error => {\n            alertBox(true, error.data.message);\n        });\n    };\n    unsavePost = (id) => {\n        postUnSave({ postid: id })\n        .then(async resp => {\n            alertBox(true, resp.message, 'success');\n            this.setState({ post: { ...this.state.post, saved: 0 } });\n        }, error => {\n            alertBox(true, error.data.message);\n        });\n    };\n    report = () => {\n        if(this.state.category == \"\"){\n            alertBox(true, \"You need to select a category\");\n        }else{\n        var p = this.state.lastData;\n        var t = this.state.lastType;\n        var key = this.state.lastKey;\n        var c = this.state.lastComment;\n        var key2 = this.state.lastKey2;\n        console.log(p, t, key, c, key2);\n        var link = '';\n        if(t == 'comment'){\n            link = p.text;\n        }\n        else if(t == 'reply'){\n            link = p.text;\n        }else{\n            link = \"post/\"+p._id;\n        }\n            postReport({ id: p._id, type: t, link, category: this.state.category, reason: this.state.reason })\n            .then(async resp => {\n                alertBox(true, resp.message, 'success');\n                if(t == 'comment'){\n                    var temp = this.state.post;\n                    temp.comment[key]['reported'] = 1;\n                    this.setState({ post: temp, reportModal:false });\n                }\n                else if(t == 'reply'){\n                    var temp = this.state.post;\n                    temp.comment[key2].replies[key]['reported'] = 1;\n                    this.setState({ post: temp, reportModal:false });\n                }\n                else{\n                    this.setState({ reportModal: false, post: { ...this.state.post, reported: 1 } });\n                }\n                \n            }, error => {\n                alertBox(true, error.data.message);\n                this.setState({ reportModal: false});\n            });\n        }\n    };\n    unReport = (t, id, key=null, key2= null) => {\n        postUnReport({ id: id })\n        .then(async resp => {\n            alertBox(true, resp.message, 'success');\n            if(t == 'comment'){\n                var temp = this.state.post;\n                temp.comment[key]['reported'] = 0;\n                this.setState({ post: temp });\n            }\n            else if(t == 'reply'){\n                var temp = this.state.post;\n                temp.comment[key2].replies[key]['reported'] = 0;\n                this.setState({ post: temp });\n            }\n            else{\n                this.setState({ post: { ...this.state.post, reported: 0 } });\n            }\n            \n        }, error => {\n            alertBox(true, error.data.message);\n        });\n    };\n    hidePost = (id) => {\n        postHide({ postid: id })\n        .then(async resp => {\n            alertBox(true, resp.message, 'success');\n            this.setState({ post: { ...this.state.post, hidden: 1 } });\n        }, error => {\n            alertBox(true, error.data.message);\n        });\n    };\n    unhidePost = (id) => {\n        postUnHide({ postid: id })\n        .then(async resp => {\n            alertBox(true, resp.message, 'success');\n            this.setState({ post: { ...this.state.post, hidden: 0 } });\n        }, error => {\n            alertBox(true, error.data.message);\n        });\n    };\n    // removePost = (id) => {\n    //     postRemove({ postid: id })\n    //     .then(async resp => {\n    //         alertBox(true, resp.message, 'success');\n    //         this.setState({ post: { ...this.state.post, removed: 1 } });\n    //         switchLoader();\n    //     }, error => {\n    //         alertBox(true, error.data.message);\n    //         switchLoader();\n    //     });\n    // };\n    removePost = (id) => {\n        this.setState({last:id, open:true})\n    };\n\n    removePostConfirm = () => {\n        var id = this.state.last;\n        this.setState({open:false, last:null})\n        postRemove({ postid: id })\n        .then(async resp => {\n            alertBox(true, resp.message, 'success');\n            this.setState({ post: { ...this.state.post, removed: 1 } });\n            switchLoader();\n        }, error => {\n            alertBox(true, error.data.message);\n            switchLoader();\n        });\n    }\n    highlightPost = (id) => {\n        postHighlight({ postid: id })\n        .then(async resp => {\n            alertBox(true, resp.message, 'success');\n            this.setState({ post: { ...this.state.post, highlighted: 1 } }, () => {\n                \n            });\n        }, error => {\n            alertBox(true, error.data.message);\n        });\n    };\n    unHighlight = (id) => {\n        postUnHighlight({ postid: id })\n        .then(async resp => {\n            alertBox(true, resp.message, 'success');\n            this.setState({ post: { ...this.state.post, highlighted: 0 } },  () => {\n                \n            });\n        }, error => {\n            alertBox(true, error.data.message);\n        });\n    };\n\n    likePostFn = (postId, liked) => {\n        this.setState({ post: { ...this.state.post, likeActive: 1 - liked } });\n        likePost({ postid: postId }, true)\n            .then(async resp => {\n                if (resp.message == 'Like') {\n                    this.postActivityCount('likesCount');\n                } else if (resp.message == 'Dislike') {\n                    this.postActivityCount('likesCount', 'sub');\n                }\n            }, error => {\n                alertBox(true, error.data.message);\n            });\n    }\n\n    sharePost = (post) => {\n        this.setState({ shareModel: true, currPost: post })\n    }\n\n    closeShareModal = () => {\n        this.setState({ shareModel: false })\n    }\n\n    handleOnReady = () => setTimeout(() => this.setState({ playing: true }), 100);\n    handleClose = () => this.setState({ open: !this.state.open });\n\n    postCmt = (postid) => {\n        if(this.state.commentText != '' && this.state.commentText != null){\n        switchLoader(true, 'Please wait. Commenting...');\n        let obj = { postid, comment: this.state.commentText };\n        postComment(obj)\n            .then(async resp => {\n                this.postActivityCount('cmtsCount');\n                const postObj = this.state.post;\n                if (!postObj.comment) {\n                    postObj.comment = [];\n                }\n                postObj.comment.unshift(resp.comment);\n                this.setState({ post: postObj, showComments: true, commentText: '' });\n                switchLoader();\n            }, error => {\n                alertBox(true, error.data.message);\n                switchLoader();\n            });\n        }\n    }\n\n    showComments = (postid) => {\n\n        switchLoader(true, 'Please wait. Getting Comments...');\n        getComments({ postid }, true)\n            .then(async resp => {\n                switchLoader();\n                this.setState({ post: { ...this.state.post, comment: resp } })\n                this.setState({ showComments: true });\n            }, error => {\n                alertBox(true, error.data.message);\n                switchLoader();\n            });\n    }\n\n    handleChange = (evt, index) => {\n        const { name, value } = evt.target;\n        if (evt.target.name != 'replyCmt') {\n            this.setState({ [name]: value }, () => { });\n        } else {\n            this.setState({ [`${name}`]: { ...this.state.replyCmt, [index]: value } }, () => {\n            });\n        }\n    }\n\n    shareSuccess = () => {\n        this.postActivityCount('shareCount');\n    }\n\n    showCommentReply = (commentId) => {\n        let index = this.state.post.comment.findIndex(el => el._id === commentId);\n        const tempPostData = this.state.post;\n        tempPostData.comment[index].showReply = true;\n        this.setState({ post: tempPostData });\n        \n        // this.setState({\n        //     post: { comment: update(this.state.post.comment, { [index]: { showReply: { $set: true } } }) }\n        // }, () => {\n        // });\n    }\n\n    updatePost = (k, post) => {\n        const tempPostData = {...this.state.post};\n        console.log(this.state.post);\n        tempPostData.text = post.text;\n        tempPostData.sharedText = post.sharedText;\n        tempPostData.taggedPeople = post.taggedPeople;\n        tempPostData.twitterPost = post.twitterPost;\n        \n            tempPostData.contents = post.contents;\n        console.log(tempPostData);\n       this.setState({ modal:false, post: tempPostData}, ()=>{\n        this.processText();\n       });\n\n    //    setTimeout(() => {\n    //     //this.setState({post: tempPostData});\n    //     this.props.updatePost(k, tempPostData);\n    //    },500);\n    };\n\n    showCommentReplies = (commentId) => {\n        switchLoader(true, 'Please wait. Getting Comments...');\n        getReplyComments({ commentId }, true)\n        .then(async resp => {\n            console.log(resp);\n            switchLoader();\n            let index = this.state.post.comment.findIndex(el => el._id === commentId);\n            const tempPostData = this.state.post;\n            tempPostData.comment[index].replies = resp;\n            this.setState({ post: tempPostData });\n            this.showCommentReply(commentId);\n        }, error => {\n            alertBox(true, error.data.message);\n            switchLoader();\n        });\n    }\n\n    callBackCommentReply = (replyData, commentIndex) => {\n        let postObj = this.state.post;\n        if (postObj.comment && postObj.comment[commentIndex]) {\n            if (postObj.comment[commentIndex].replies) {\n                postObj.comment[commentIndex].replies.push(replyData);\n            } else {\n                postObj.comment[commentIndex].replies = [replyData];\n            }\n            let tempReplyCmt = this.state.replyCmt;\n            tempReplyCmt[commentIndex] = '';\n            this.setState({ post: postObj, replyCmt: tempReplyCmt });\n        }\n    }\n\n    \n\n    // wrapHash = (val) => {\n        \n    //     return val.replace(/#(\\w+)/g, \"<A href='/search/filter=posts&q=$&'>$&</A>\").replace(\"q=#\", \"q=%23\");  \n    // }\n\n    render() {\n\n        const { post, showComments, commentText, replyCmt, key } = this.state;\n\n        return (\n            post == null ?\n            <div className=\"text-center\">\n                <Spinner />\n            </div>\n            :\n            ((post.userid == this.props.currentUser._id) || (post.settings[0] != undefined && (post.settings[0].follow == \"Everyone\" || (post.settings[0].comments == \"Friends\" && post.followings.length > 0)))) ?  \n            <React.Fragment>\n                 <Modal displayModal={this.state.reportModal} closeModal={this.reportModal} >\n                     <div>\n                         <div className=\"form-group\">\n                             <select className=\"form-control\" value={this.state.category}  onChange={(e) => this.setState({category: e.target.value})}>\n                                 <option value=\"\">Select Category</option>\n                                 <option>Violence</option>\n                                 <option>Racism / Hatespeech</option>\n                                 <option>Pornographic</option>\n                                 <option>Spam</option>\n                                 <option>Other</option>\n                             </select>\n                         </div>\n                         <div className=\"form-group\">\n                             <textarea type=\"text\" placeholder=\"Reason\" className=\"form-control\" onChange={(e) => this.setState({reason: e.target.value})} value={this.state.reason} />\n                         </div>\n                     </div>\n                <div className=\"\">\n                <Button variant=\"primary\" size=\"compact m-2\" onClick={() => this.report()}>Report</Button>\n                <Button variant=\"secondary\" size=\"compact m-2\" onClick={this.reportModal}>Cancel</Button>\n                </div>\n             </Modal>\n                <Modal displayModal={this.state.modal} closeModal={this.editPost} >\n                    <EditPost {...this.props} post={post} updatePost={(p) => this.updatePost(key, p)} />\n                </Modal>\n            <div className={\"post \"} key={key}>\n                {\n                    this.getPostContent(post, showComments, commentText, replyCmt)\n                }\n          \n                {\n                    this.state.shareModel &&\n                    <Share\n                        post={this.state.currPost}\n                        shareSuccess={this.shareSuccess}\n                        closeShareModal={this.closeShareModal}\n                    />\n                }\n            </div>\n\n            </React.Fragment>\n            :\n            null\n        );\n    }\n\n    getPostContent = (post, showComments, commentText, replyCmt, shared = false) => {\n        return (\n            ((post.removed > 0 ) || (post.privacy == \"onlyme\" && this.props.filter != 'hidden' && post.userid != this.props.currentUser._id)) ? null : \n            <div className=\"container post-inner\" key={`${post._id}1`}>\n                <Dialog onClose={this.handleClose} className=\"confirm-modal\"  open={this.state.open}>\n                    <strong className=\"text-center p-2\"><big>Confirmation</big></strong>\n                    <p className=\"p-2\">Are you sure about deleting this?</p>\n                    <div className=\"p-2 d-flex align-items-center justify-content-around\">\n                        <Button onClick={this.handleClose} variant=\"secondary\">Cancel</Button>\n                        <Button onClick={this.removePostConfirm} variant=\"primary\">Yes</Button>\n                    </div>\n                </Dialog>\n                <div className=\"row\">\n                    <ul className=\"list-group w-100 m-0\">\n                        <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n                            <div className=\"media w-100\">\n                                <div className=\"media-left\">\n                                    <A href={\"/u/\"+post.userinfo._id}>\n                                        <img className=\"media-object pic\" src={profilePic(post.userinfo.avatar)}\n                                            alt=\"...\" />\n                                    </A>\n                                </div>\n\n                                <div className=\"media-body pagination-centered \">\n                                <A href={\"/u/\"+post.userinfo._id}><p className=\"media-heading\">{post.userinfo && post.userinfo.name ? post.userinfo.name : ''}</p></A>\n                               <p className=\"media-subheading d-flex align-items-center justify-content-start\"> <A href={'/post/'+(shared ? post.sharedPost : post._id)}><TimeAgo date={post.createdAt} /></A> {\n                                    post.privacy == 'onlyme' && <i className=\"fa fa-lock ml-2\"></i> \n                                }</p>\n                                \n                                </div>\n\n                                {!post.sharedBy && <div className=\"media-right\">\n                                    <ul className=\"d-flex align-items-center\">\n                                    {post.twitterPost && <li className=\"list-group-item splLi\"><img className=\" extraSmallIcon\" src={GetAssetImage(\"icons/twitter.svg\")} /></li> }\n                                    {/* {post.saved > 0 && <li className=\"list-group-item splLi\"><img className=\"mr-1\" src={require(\"../../assets/images/save-icon.png\")} /></li> }\n                                    {post.highlighted > 0 && <li className=\"list-group-item splLi\"><img className=\"mr-1\" src={require(\"../../assets/images/icons/pin.png\")} /></li> } */}\n                                    \n                                    {/* <li className=\"list-group-item splLiLast mr-4\"><img className=\" extraSmallIcon\" src={require(\"../../assets/images/\" + (post.privacy == 'public' ? \"create-visibility-icon\" : \"hide-visibility-icon@2x\") + \".png\")} /></li> */}\n                                  \n                                  \n                                        <li className=\"list-group-item  p-1 pr-2 pointer  dropdown\"><i className=\"fa fa-ellipsis-h\"></i>\n                                        <div className=\"dropdown-menu hasUpArrow dropdown-menu-right\">\n                                        {post.userid == this.props.currentUser._id &&  <a className=\"dropdown-item\" onClick={(e) => this.editPost(post._id)}>\n                                                <img className=\"mr-1\" src={require(\"../../assets/images/edit-icon.png\")} />\n                                                <span className=\"m-1\">Edit</span></a> }\n                                                {/* {post.hidden ?\n                                                <a className=\"dropdown-item\" data-toggle=\"modal\" data-target=\"#dropdownHideModal\" onClick={(e) => this.unhidePost(post._id)}>\n                                                <img className=\"mr-1\" src={require(\"../../assets/images/hide-visibility-icon.png\")} />\n                                                <span className=\"m-1\">Un-Hide</span></a>\n                                                :\n                                                <a className=\"dropdown-item\" data-toggle=\"modal\" data-target=\"#dropdownHideModal\" onClick={(e) => this.hidePost(post._id)}>\n                                                <img className=\"mr-1\" src={require(\"../../assets/images/hide-visibility-icon.png\")} />\n                                                <span className=\"m-1\">Hide</span></a>\n                                                \n                                                 }  */}\n                                            {post.saved > 0 ?\n                                            <a className=\"dropdown-item\" onClick={(e) => this.unsavePost(post._id)}>\n                                                <img className=\"mr-1\" src={require(\"../../assets/images/save-icon.png\")} />\n                                                <span className=\"m-1\">Un-Save</span></a>\n                                                :\n                                                <a className=\"dropdown-item\" onClick={(e) => this.savePost(post._id)}>\n                                                <img className=\"mr-1\" src={require(\"../../assets/images/save-icon.png\")} />\n                                                <span className=\"m-1\">Save</span></a>\n                                            }\n                                             {\n                                                post.reported > 0 ?\n                                                <a className=\"dropdown-item\" onClick={(e) => this.unReport('post', post._id)}>\n                                                <i className=\"mr-1 fa fa-undo\"></i>\n                                                <span className=\"m-1\">Undo-Report</span></a>\n                                                :\n                                                <a className=\"dropdown-item\" onClick={() => this.reportModal('post', post)}>\n                                                <i className=\"mr-1 fa fa-exclamation-circle\"></i>\n                                                <span className=\"m-1\">Report</span></a>\n                                            }\n                                            {/*                                             \n                                            {post.highlighted ?\n                                            <a className=\"dropdown-item\" onClick={(e) => this.unHighlight(post._id)}>\n                                                <img className=\"mr-1\" src={require(\"../../assets/images/icons/pin.png\")} />\n                                                <span className=\"m-1\">Un-Highlight</span></a>\n                                                :\n                                                <a className=\"dropdown-item\" onClick={(e) => this.highlightPost(post._id)}>\n                                                <img className=\"mr-1\" src={require(\"../../assets/images/icons/pin.png\")} />\n                                                <span className=\"m-1\">Highlight</span></a>\n                                            } */}\n                                            {\n                                                post.userid == this.props.currentUser._id && <a className=\"dropdown-item\"  onClick={(e) => this.removePost(post._id)}>\n                                                <img className=\"mr-1\" src={require(\"../../assets/images/remove-icon.png\")} />\n                                                <span className=\"m-1\">Remove</span></a>\n                                            }\n\n                                                {/* <a className=\"dropdown-item\" onClick={(e) => this.reportPost(post._id)}>\n                                                <i className=\"fa fa-exclamation-circle\"></i>\n                                                <span className=\"m-1\">Report</span></a> */}\n                                        </div>\n                                        </li>\n                                  </ul>\n                                \n                                        \n                                    \n                                </div>}\n                            </div>\n                        </li>\n\n                        <li className=\"list-group-item d-flex justify-content-between align-items-center post-content-area\">\n                            <div className=\"container p-0\">\n\n                                \n                                <div className=\"post-content\" dangerouslySetInnerHTML={{__html: this.state.content}}>\n                                    {/* {(this.state.url != null && this.state.url != '' && typeof this.state.url != undefined)  &&\n                                      <div className=\"mt-2\">\n                                          <ReactTinyLink\n                                        cardSize=\"small\"\n                                        \n                                        showGraphic={true}\n                                        maxLine={2}\n                                        minLine={1}\n                                        url={this.state.url}\n                                        />\n                                        </div>\n                                    } */}\n                                </div>\n                                {\n                                            post.contents != undefined && post.contents[0] != undefined && post.contents[0].contenttype == 'Image' &&\n                                            <div className=\"w-100 pointer post-thumb\" onClick={() => {this.setState({ isOpen: true }); console.log(this.state.images)}} style={{backgroundImage: `url(${post.contents[0].content_url})`}} />\n                                        }\n                                        \n                                <div className=\"row\">\n                                    <span className=\"set-overlay\">\n                                        \n                                        {\n                                            post.contents != undefined && post.contents[0] != undefined &&  post.contents[0].contenttype == 'Video' &&\n                                            <ReactPlayer controls={true} url={post.contents[0].content_url || 'https://www.youtube.com/watch?v=ysz5S6PUM-U'} />\n                                        }\n                                    </span>\n                                </div>\n                                <div className=\"post-tags\">\n                                {((post.taggedPeople) && (post.taggedPeople.length !== 0)) &&\n                                    <div className=\"\">\n                                        <span> With {post.taggedPeople.map((tagPeople, j) => (\n                                            <Link className=\"taggedName\" to={\"/u/\"+tagPeople._id} key={j}>{tagPeople.name}</Link>\n                                        ))}\n                                        </span>\n                                    </div>\n                                }\n                                </div>\n\n                                {\n                                \n                                    post.sharedBy != undefined && post.sharedBy != null && post.sharedBy != '' ? \n                                    this.getSharedContent(post.sharedType, post.sharedType == 'blog' ? post.sharedDataBlog : post.sharedDataPost, post.sharedContents, post.sharedUserInfo)\n                                    : null\n                                }\n                            </div>\n                        </li>\n\n                        {/* {!post.sharedBy && <li className=\"list-group-item d-flex justify-content-between align-items-center create-post-attachments p-1\">\n                            <div className=\"col pl-1\">\n                                <ul className=\"list-group list-group-horizontal remove-border m-0\">\n                                    <li className=\"list-group-item pl-0\">\n                                        {post.likesCount > 0 && <span className=\"m-1 font-weight-bold\"> {post.likesCount} </span>}\n                                        <span className=\"\">Likes</span>\n                                    </li>\n                                    <li className=\"list-group-item pl-0\">\n                                        \n                                        <span className=\"\">Shares</span>\n                                    </li>\n                                    <li className=\"list-group-item pl-0\">\n                                        {post.cmtsCount > 0 && <span className=\"m-1 font-weight-bold\"> {post.cmtsCount} </span>}\n                                        <span className=\"\">Comments</span>\n                                    </li>\n                                </ul>\n                            </div>\n                        </li>} */}\n                        {!post.sharedBy && <div>\n                            <li className=\"list-group-item d-flex justify-content-between align-items-center post-meta p-1 horizontal-line-fit-top mt-4\">\n                                <div className=\"col pl-1\">\n                                    <ul className=\"list-group list-group-horizontal remove-border m-0 mt-1 mb-1\">\n                                        <li className=\"list-group-item pointer\" onClick={(e) => this.likePostFn(post._id, post.likeActive)}>\n                                            <img src={post.likeActive === 1 ? require(\"../../assets/images/icons/like_active.svg\") : require(\"../../assets/images/icons/like.svg\")} />\n                                            <span className=\"m-1\">{post.likesCount > 0 && <span className=\"m-1 font-weight-bold\"> {post.likesCount} </span>}</span>\n                                        </li>\n\n                                       \n                                    </ul>\n                                </div>\n                                <div className=\"pr-1\">\n                                <ul className=\"list-group list-group-horizontal remove-border m-0 mt-1 mb-1\">\n                                        {\n                                            ((post.userid == this.props.currentUser._id) || (post.settings[0] != undefined && (post.settings[0].comments == \"Everyone\" || (post.settings[0].comments == \"Friends\" && post.followings.length > 0)))) &&  <li className=\"list-group-item pl-0 pointer\">\n                                                <span className=\"m-1\" onClick={() => this.showComments(post._id)}>{post.cmtsCount > 0 && <span className=\"m-1 font-weight-bold\"> {post.cmtsCount} </span>} {post.cmtsCount > 1 ? 'Comments' : 'Comment'} </span>\n                                            </li>\n                                        }\n                                       \n                                        {\n                                           ((post.userid == this.props.currentUser._id) || (post.settings[0] != undefined && post.settings[0].allowSharing)) && <li className=\"list-group-item pl-0 pointer\" onClick={(e) => this.sharePost(post)}>\n                                            <span className=\"m-1\">{post.shareCount > 0 && <span className=\"m-1 font-weight-bold\"> {post.shareCount} </span>} {post.shareCount > 1 ? 'Shares' : 'Share'} </span>\n                                        </li>\n                                        }\n                                        {/* <li className=\"list-group-item pl-0\"><img className=\" extraSmallIcon\" src=\"/favicon.png\" /><span className=\"m-1\"></span></li>\n                                        {post.twitterPost && <li className=\"list-group-item pl-0\"><img className=\" extraSmallIcon\" src=\"/static/media/twitter-filled.c9f12008.svg\" /><span className=\"m-1\"></span></li>}\n                                        <li className=\"list-group-item pl-0\"><img className=\" extraSmallIcon\" src={require(\"../../assets/images/\" + (post.privacy == 'public' ? \"create-visibility-icon\" : \"hide-visibility-icon@2x\") + \".png\")} /></li> */}\n                                </ul>\n                                </div>\n                            </li>\n                            {(!post.sharedBy && showComments) && <li className=\"list-group-item d-flex justify-content-between align-items-center create-post-attachments p-1 horizontal-line-fit-top\">\n                                <div className=\"col pl-1\">\n                                <Button  className=\"commentBtn\" onClick={() => this.postCmt(post._id)}>COMMENT</Button>\n                                    <input className=\"form-control tempcommentInput\"\n                                        type=\"text\"\n                                        placeholder=\"Add your comment\"\n                                        name=\"commentText\"\n                                        value={commentText}\n                                        onChange={(e) => this.handleChange(e)} />\n                                    \n                                </div>\n                        </li> }\n                        </div>}\n                        {(!post.sharedBy && showComments) &&\n                            post.comment.map((comment, i) => (\n                                \n                                <li className=\"list-group-item d-flex justify-content-between align-items-center create-post-attachments p-1 horizontal-line-fit-top\" key={i}>\n                                    <div className=\"col pl-1\">\n                                        <div className=\"media w-100 align-items-center p-1 comment-row\">\n                                            <div className=\"media-left mr-2\">\n                                            <A href={\"/u/\"+(comment.userinfo._id)}>\n                                                    <img  className=\"media-object pic commentPic\" src={profilePic(comment.userinfo.avatar)}\n                                                        alt=\"...\" />\n                                                </A>\n                                            </div>\n                                            <div className=\"media-body\">\n                                            <A href={\"/u/\"+(comment.userinfo._id)}><p className=\"media-heading\">{comment.userinfo.name}</p></A>\n                                                <p className=\"media-subheading\">{comment.text}</p>\n                                                <div className=\"d-flex\">\n                                                <span className=\"mr-2 pointer\" onClick={(e) => this.commentLike(i, post._id, comment._id)}>{comment.likeActive ? 'Liked' : 'Like'}  {(comment.likesCount && comment.likesCount > 0) ? comment.likesCount : ''}</span>\n                                                <span className=\"mr-2 pointer\" onClick={(e) => this.showCommentReplies(comment._id)}>{(comment.repliesCount && comment.repliesCount > 1) ? 'Replies' : 'Reply'} {(comment.repliesCount && comment.repliesCount > 0) ? comment.repliesCount: ''}</span>\n                                                \n                                                    {/* <span className=\"mr-2 pointer\" onClick={(e) => this.props.commentLike(comment._id)}>Like</span>\n                                                    <span className=\"mr-2 pointer\" onClick={(e) => this.showCommentReply(comment._id)}>Reply</span>\n                                                    {(comment.repliesCount && comment.repliesCount > 0) ? <span className=\"mr-2 pointer\" onClick={(e) => this.showCommentReplies(comment._id)}>{comment.repliesCount} replies</span> : ''}\n                                                    {(comment.likesCount && comment.likesCount > 0) ? <span className=\"mr-2 pointer\" >{comment.likesCount} likes</span> : ''} */}\n                                                    {/* <span className=\"mr-2\">Translate</span> */}\n                                                </div>\n                                                \n                                            </div>\n                                            <div className=\"media-right\">\n                                            <div className=\"list-group-item  p-1 pr-2 pointer  dropdown\"><i className=\"fa fa-ellipsis-h\"></i>\n                                                <div className=\"dropdown-menu hasUpArrow dropdown-menu-right\">\n                                                {(comment.userinfo._id == this.props.currentUser._id || post.userid == this.props.currentUser._id ) && <a className=\"dropdown-item\" onClick={(e) => this.deleteComment('comment', post._id, comment._id)}>\n                                                    <img className=\"mr-1\" src={require(\"../../assets/images/remove-icon.png\")} />\n                                                    <span className=\"m-1\">Delete</span></a> }\n                                                    {\n                                                        comment.userinfo._id != this.props.currentUser._id ?\n                                                        comment.reported > 0 ?\n                                                        <a className=\"dropdown-item\" onClick={(e) => this.unReport('comment', comment._id, i)}>\n                                                        <i className=\"mr-1 fa fa-undo\"></i>\n                                                        <span className=\"m-1\">Undo-Report</span></a>\n                                                        :\n                                                        <a className=\"dropdown-item\" onClick={() => this.reportModal('comment', comment, i)}>\n                                                        <i className=\"mr-1 fa fa-exclamation-circle\"></i>\n                                                        <span className=\"m-1\">Report</span></a>\n                                                        : null\n                                                    }\n                                                </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        {\n                                        comment.replies && comment.replies.map((reply, r) => (\n                                            <ul className=\"media w-100 align-items-center p-2\" key={r}>\n                                                <li className=\"list-group-item d-flex justify-content-between align-items-center w-100\">\n                                                        <div className=\"media align-items-center comment-row w-100\">\n                                                            <div className=\"media-left mr-2\">\n                                                                <A href={\"/u/\"+reply.userinfo._id}>\n                                                                    <img className=\"media-object pic replyPic\" src={profilePic(reply.userinfo.avatar)}\n                                                                        alt=\"...\" />\n                                                                </A>\n                                                            </div>\n                                                            <div className=\"media-body\">\n                                                            <A href={\"/u/\"+reply.userinfo._id}><p className=\"media-heading\">{reply.userinfo ? reply.userinfo.name : reply.userinfo.name}</p></A>\n                                                                <p className=\"media-subheading\">{reply.text}</p>\n                                                            </div>\n                                                            <div className=\"media-right h-auto\">\n                                                                <div className=\"list-group-item  p-0 pl-2 pointer  dropdown\"><i className=\"vertical-dot fa fa-ellipsis-h\"></i>\n                                                                    <div className=\"dropdown-menu hasUpArrow dropdown-menu-right\">\n                                                                    {(reply.userinfo._id == this.props.currentUser._id || post.userid == this.props.currentUser._id ) && <a className=\"dropdown-item\" onClick={(e) => this.deleteComment('reply', comment._id, reply._id)}>\n                                                                        <img className=\"mr-1\" src={require(\"../../assets/images/remove-icon.png\")} />\n                                                                        <span className=\"m-1\">Delete</span></a> }\n                                                                        {\n                                                                            reply.userinfo._id != this.props.currentUser._id ?\n                                                                            reply.reported > 0 ?\n                                                                            <a className=\"dropdown-item\" onClick={(e) => this.unReport('reply', reply._id, r, i)}>\n                                                                            <i className=\"mr-1 fa fa-undo\"></i>\n                                                                            <span className=\"m-1\">Undo-Report</span></a>\n                                                                            :\n                                                                            <a className=\"dropdown-item\" onClick={() => this.reportModal('reply', reply, r, comment, i)}>\n                                                                            <i className=\"mr-1 fa fa-exclamation-circle\"></i>\n                                                                            <span className=\"m-1\">Report</span></a>\n                                                                            : null\n                                                                        }\n                                                                    </div>\n                                                                    </div>\n                                                                </div>\n                                                        </div>\n                                                </li>\n                                            </ul>\n                                        ))}\n\n                                        {comment.showReply && <div className=\"col pl-4 mb-2\">\n                                            <input className=\"form-control tempcommentInput\"\n                                                type=\"text\"\n                                                placeholder=\"Add your comment\"\n                                                name=\"replyCmt\"\n                                                value={replyCmt[i]}\n                                                onChange={(e) => this.handleChange(e, i)} />\n                                            <Button className=\"commentBtn\" onClick={() => this.commentReply(post._id, comment._id, replyCmt[i], i, this.callBackCommentReply)}>REPLY</Button>\n                                        </div>\n                                        }\n                                    </div>\n                                </li>\n                            ))}\n\n                    </ul>\n                </div>\n                {this.state.isOpen && (\n                                        <Lightbox\n                                        id={\"light\"+post._id}\n                                        enableZoom={false}\n                                            mainSrc={post.contents[0].content_url}\n                                            onCloseRequest={() => this.setState({ isOpen: false })}\n                                            onAfterOpen={console.log(document.querySelector(\".ril-image-current\"))}\n                                            // onMovePrevRequest={() =>\n                                            // this.setState({\n                                            //     photoIndex: (this.state.photoIndex + this.state.images.length - 1) % this.state.images.length,\n                                            // })\n                                            // }\n                                            // onMoveNextRequest={() =>\n                                            // this.setState({\n                                            //     photoIndex: (this.state.photoIndex + 1) % this.state.images.length,\n                                            // })\n                                            // }\n                                        />\n                                        )}\n            </div>\n        )\n    }\n\n    getSharedContent = (type, post, contents, userinfo) => {\n        return (\n            post == undefined ?\n            <div className=\"deleted\"><i className=\"fa fa-trash\"></i> This content was removed</div>\n            :\n            ((post.removed > 0 ) || (post.hidden > 0 && this.props.filter != 'hidden')) ? null : \n            <SharedPostCard type={type} url={type == 'blog' ? \"/blog/\"+post.slug : \"/post/\"+post._id}  k={post._id} currentUser={this.props.currentUser} post={post} userinfo={userinfo} contents={contents} />\n        )\n    }\n}\n\nexport default Post;\n","import React from 'react';\nimport { getGigs } from '../../http/gig-calls';\nimport Gig from '../Gigs/Gig';\n\nclass GlobalGigs extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            limit: props.limit == undefined ? 20 : props.limit,\n            page: 1,\n            cid: 0,\n            posts: [],\n            query: props.query,\n            data: {\n                category: \"\",\n                subCategory : \"\",\n                priceFrom : \"\",\n                priceTo : \"\",\n                rating : \"\",\n                key: \"\"\n            },\n            gigs: [],\n            currentTab:0\n        }\n    }\n\n    componentDidMount = () => {\n        this.getData();\n        // this.getRequests();\n    }\n\n    componentDidUpdate = (prevProps) => {\n        if(prevProps.query != this.props.query){\n        this.getData();\n        }\n        // this.getRequests();\n    }\n\n    categoryChange = (c) => {\n        this.setState({\n            cid: c,\n            currentTab: 0\n        })\n    }\n    \n    dataChange = (data = {}) => {\n        \n        this.getData(data);\n        this.getRequests(data);\n    }\n\n    getData =(data = {}) => {\n        var d = data;\n        d['page']  = this.state.page;\n        d['limit'] = this.state.limit;\n        d['key'] = this.props.query == undefined ? '' : this.props.query;\n        d['mine'] = this.props.mine == undefined ? 'false' : this.props.mine;\n        d['userid'] = this.props.id == undefined ? this.props.currentUser._id : this.props.id;\n        getGigs(d).then(resp => {\n            this.setState({\n                gigs: resp.post\n            })\n        }, err=>{\n            console.log(err);\n        })\n    }\n\n    // getRequests = (data = {}) => {\n    //     var d = data;\n    //     d['page']  = this.state.page;\n    //     d['limit'] = this.state.limit;\n    //     allGigRequests(data).then(resp => {\n    //       this.setState({\n    //         posts: resp\n    //       })\n    //     }, err => {\n  \n    //     });\n    // }\n    changeTab = (newValue) => {\n        this.setState({currentTab: newValue});\n    };\n\n    render() {\n        return (\n            <div className={\"tab mt-2 \"}>\n                \n                {/* <h2 className=\"subtitle mt-1\">All Gigs</h2> */}\n                \n                    {\n                        this.state.gigs.length == 0 ?\n                        <p className=\"no-found\">No Gigs Found</p>\n                        :\n                        <div className=\"row-1\">\n                        {\n                        this.state.gigs.map((gig, i) => {\n                            // return <TopThumbCard  report={this.reportModal} unReport={()=>this.unReport(gig)} url={\"/passionomy/gig/\"+gig._id} currentUser={this.props.currentUser} post={gig} removePost={this.removePost}  />\n                            return <Gig {...this.props} post={gig} />\n                        })\n                        }\n                        </div>\n                    }\n                </div> \n        );\n    }\n}\n\nexport default GlobalGigs;","import agent from '../agent';\nimport config from \"../config/index\";\nimport {\n    makeAxiosGetRequest, makeAxiosMultiPartRequest, makeAxiosPostRequest\n} from \"./http-service\";\n\nexport const updateProfile = (data) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosMultiPartRequest(config.baseUrl + \"updateProfile\", true, data)\n        .then(res => {\n            console.log(res.data.token);\n            localStorage.setItem('jwt', res.data.token);\n            localStorage.setItem('currentUser', JSON.stringify(res.data.userinfo));\n            agent.setToken(res.data.token);\n            resolve(res.data);\n        })\n        .catch(e => {\n            reject(e.response);\n        });\n    });\n};\n\nexport const updateProfileExtras = (data) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosPostRequest(config.baseUrl + \"update-profile-extras\", true, data)\n        .then(res => {\n            if(data.type == 'general'){\n                localStorage.setItem('jwt', res.data.token);\n                localStorage.setItem('currentUser', JSON.stringify(res.data.userinfo));\n                agent.setToken(res.data.token);\n            }\n            else if(data.type == 'workplaces' || data.types == 'current_cities'){\n                console.log(res.data);\n                var token = localStorage.getItem(\"currentUser\");\n                token = JSON.parse(token);\n                token.city = res.data.city;\n                token.job = res.data.job;\n                console.log(token);\n                localStorage.setItem('currentUser', JSON.stringify(token));\n            }\n            resolve(res.data);\n        })\n        .catch(e => {\n            reject(e.response);\n        });\n    });\n};\n\nexport const getProfileExtras = (data) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosGetRequest(config.baseUrl + \"get-profile-extras\", true, data)\n        .then(res => {\n            resolve(res.data);\n        })\n        .catch(e => {\n            reject(e.response);\n        });\n    });\n};\n\nexport const getGlobalProfileExtras = (data) => {\n    return new Promise((resolve, reject) => {\n        makeAxiosGetRequest(config.baseUrl + \"get-global-profile-extras\", false, data)\n        .then(res => {\n            resolve(res.data);\n        })\n        .catch(e => {\n            reject(e.response);\n        });\n    });\n};\n\n\nexport const getGlobalProfile = (params) => {\n    return new Promise((resolve, reject) => {\n    makeAxiosGetRequest(config.baseUrl + \"get-global-profile\", false, params)\n        .then(res => {\n            resolve(res.data);\n        })\n        .catch(e => {\n            \n            reject(e.response);\n        });\n    });\n};\n\nexport const checkFriendRequest = (params) => {\n    return new Promise((resolve, reject) => {\n\n        makeAxiosGetRequest(`${config.baseUrl}${\"check-friend-request\"}`, true, params)\n            .then(res => {\n                resolve(res.data);\n            })\n            .catch(e => {\n                \n                reject(e.response);\n            });\n    });\n};\n\n"],"sourceRoot":""}