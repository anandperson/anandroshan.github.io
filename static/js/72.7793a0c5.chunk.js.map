{"version":3,"sources":["pages/Wallet/password.js"],"names":["WithdrawalPassword","props","componentDidMount","checkWallet","walletCheck","then","resp","setState","loading","getDetails","err","error","handleChange","e","val","target","value","input","getAttribute","getUserDetails","a","tfa","data","tfa_url","status","tfa_status","alertBox","submit","preventDefault","console","log","state","code","code2","switchLoader","updateWithdrawPassword","message","history","push","undefined","toString","attempt","reset","className","this","action","onSubmit","method","type","required","name","placeholder","onChange","variant","size","React","Component"],"mappings":"+TAWMA,G,yDACF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAcTC,kBAAoB,WAEjB,EAAKC,eAjBU,EAoBnBA,YAAc,WACVC,cAAcC,MAAK,SAAAC,GACf,EAAKC,SAAS,CACVC,SAAQ,IACT,WACC,EAAKC,mBAEV,SAAAC,GACC,EAAKH,SAAS,CACVC,SAAQ,EACRG,MAAO,8BA9BA,EAmCnBC,aAAe,SAACC,GACZ,IAAIC,EAAMD,EAAEE,OAAOC,MACfC,EAAQJ,EAAEE,OAAOG,aAAa,QAE9B,EAAKX,SAAL,eACKU,EAASH,KAxCH,EA6CnBL,WAAa,WACTU,cAAiBd,KAAjB,uCAAsB,WAAMC,GAAN,SAAAc,EAAA,sDAClB,EAAKb,SAAS,CACVC,SAAQ,EACRa,IAAKf,EAAKgB,KAAKC,QACfC,OAAQlB,EAAKgB,KAAKG,aAJJ,2CAAtB,uDAMG,SAAAf,GACC,EAAKH,SAAS,CACVC,SAAQ,IAEZkB,aAAS,EAAM,0CAxDJ,EA4DnBC,OAAS,SAACd,GAGL,GAFDA,EAAEe,iBACFC,QAAQC,IAAI,EAAKC,OACM,MAAnB,EAAKA,MAAMC,MAAmC,IAAnB,EAAKD,MAAMC,KACtCN,aAAS,EAAM,kCAEb,GAAG,EAAKK,MAAMC,MAAQ,EAAKD,MAAME,MACnCP,aAAS,EAAM,uCAEf,CACAQ,YAAa,eACb,IAAIZ,EAAO,CACX,aAAgB,EAAKS,MAAMC,MAG/BG,YAAuBb,GAAMjB,KAA7B,uCAAkC,WAAMC,GAAN,SAAAc,EAAA,sDAC9B,IACIS,QAAQC,IAAIxB,GACM,GAAfA,EAAKkB,QACJE,aAAS,EAAMpB,EAAK8B,QAAS,WAC9B,EAAKnC,MAAMoC,QAAQC,KAAK,qBAEvBZ,aAAS,EAAMpB,EAAK8B,SAE1B,MAAOzB,GACLe,aAAS,OAAgBa,GAAT5B,EAAqB,QAAUA,EAAM6B,YAEzDN,cAZ8B,2CAAlC,uDAaG,SAAAvB,GACKe,aAAS,OAAgBa,GAAT5B,EAAqB,QAAUA,EAAM6B,YACrDN,mBAxFR,EAAKH,MAAQ,CACTU,QAAQ,EACRC,OAAM,EACNrB,IAAI,GACJG,OAAQ,EACRQ,KAAM,GACNC,MAAO,GACPzB,SAAQ,GATG,E,qDAiGf,OACI,yBAAKmC,UAAU,2CACX,yBAAKA,UAAU,YAGX,yBAAKA,UAAU,sDACX,kBAAC,IAAeC,KAAK3C,QAMrB2C,KAAKb,MAAMvB,SAAW,yBAAKmC,UAAU,gEAA+D,kBAAC,IAAD,QAErGC,KAAKb,MAAMvB,SAAW,yBAAKmC,UAAU,gEACxC,kBAAC,IAAqBC,KAAK3C,OAE3B,yBAAK0C,UAAU,YACX,uBAAGA,UAAU,sBAAb,8BACA,0BAAME,OAAO,GAAGC,SAAUF,KAAKjB,OAAQoB,OAAO,QAC1C,yBAAKJ,UAAU,oBACX,6BAAK,2BAAOK,KAAK,WAAWC,UAAQ,EAACC,KAAK,OAAOC,YAAY,WAAWnC,MAAO4B,KAAKb,MAAMC,KAAMoB,SAAUR,KAAKhC,aAAc+B,UAAU,mBAE3I,yBAAKA,UAAU,oBACX,6BAAK,2BAAOK,KAAK,WAAWC,UAAQ,EAACC,KAAK,QAAQC,YAAY,mBAAmBnC,MAAO4B,KAAKb,MAAME,MAAOmB,SAAUR,KAAKhC,aAAc+B,UAAU,mBAErJ,yBAAKA,UAAU,oBACZ,kBAAC,IAAD,CAAQU,QAAQ,UAAUC,KAAK,OAA/B,cAMX,yBAAKX,UAAU,uDACf,kBAAC,IAAD,a,GApIaY,IAAMC,YA4IxBxD","file":"static/js/72.7793a0c5.chunk.js","sourcesContent":["import React from 'react';\nimport { alertBox, switchLoader } from '../../commonRedux/';\nimport Button from '../../components/Button';\nimport WalletMenu from '../../components/Menu/WalletMenu';\nimport WalletMenuMobile from '../../components/Menu/WalletMenuMobile';\nimport Spinner from '../../components/Spinner/index';\nimport WalletAllBalance from '../../components/Wallet/allBalance';\nimport walletCheck from '../../hooks/walletCheck';\nimport { getUserDetails, updateWithdrawPassword } from '../../http/wallet-calls';\nimport './styles.css';\n\nclass WithdrawalPassword extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            attempt:0,\n            reset:false,\n            tfa:'',\n            status: 0,\n            code: '',\n            code2: '',\n            loading:true,\n        };\n    }\n\n\n\n     componentDidMount = () => {\n    \n        this.checkWallet();\n    };\n\n    checkWallet = () => {\n        walletCheck().then(resp=>{\n            this.setState({\n                loading:false\n            }, () => {\n                this.getDetails();   \n            });\n        }, err => {\n            this.setState({\n                loading:false,\n                error: 'Authentication Error!'\n            })\n        })\n    };\n\n    handleChange = (e) => {\n        var val = e.target.value;\n        var input = e.target.getAttribute(\"name\");\n   \n            this.setState({\n                [input] : val\n            });\n        \n    }\n\n    getDetails = () =>{\n        getUserDetails().then(async resp => {\n            this.setState({\n                loading:false,\n                tfa: resp.data.tfa_url,\n                status: resp.data.tfa_status\n            })\n        }, err => {\n            this.setState({\n                loading:false\n            })\n            alertBox(true, \"Error getting your data, try again\")\n        })\n    }\n\n    submit = (e) => {\n        e.preventDefault();\n        console.log(this.state);\n         if(this.state.code == null || this.state.code == ''){\n            alertBox(true, \"Please enter the password\");\n        }\n        else  if(this.state.code != this.state.code2){\n            alertBox(true, \"Confirm Password does not match\");\n        }\n        else{\n            switchLoader(\"Updating...\");\n            var data = {\n            \"withPassword\": this.state.code,\n          };\n\n        updateWithdrawPassword(data).then(async resp => {\n            try {\n                console.log(resp);\n                if(resp.status == true){\n                    alertBox(true, resp.message, \"success\")\n                   this.props.history.push(\"/wallet/withdraw\");\n                }else{\n                    alertBox(true, resp.message)\n                }\n            } catch (error) {\n                alertBox(true, (error == undefined ? 'Error' : error.toString()));\n            }\n            switchLoader();\n        }, error => {\n                alertBox(true, (error == undefined ? 'Error' : error.toString()));\n                switchLoader();\n        });\n    }\n    };\n\n    render() {\n\n        return (\n            <div className=\"container my-wall-container depositPage\">\n                <div className=\"row mt-2\">\n\n                    {/* <!-- left column --> */}\n                    <div className=\"col-sm empty-container-with-out-border left-column\">\n                        <WalletMenu {...this.props} />\n                    </div>\n                    {/* <!-- end left column --> */}\n\n                    {/* <!-- center column --> */}\n                    {\n                        this.state.loading && <div className=\"col-sm empty-container-with-border center-column text-center\"><Spinner /></div>\n                    }\n                    { !this.state.loading && <div className=\"col-sm empty-container-with-border center-column text-center\">\n                    <WalletMenuMobile {...this.props} />\n              \n                    <div className=\"p-2 pt-4\">\n                        <p className=\"subtitle text-left\">Update Withdrawal Password</p>\n                        <form action=\"\" onSubmit={this.submit} method=\"post\">\n                            <div className=\"input-group mb-3\">\n                                <div><input type=\"password\" required name=\"code\" placeholder=\"Password\" value={this.state.code} onChange={this.handleChange} className=\"form-control\" /></div>\n                            </div>\n                            <div className=\"input-group mb-3\">\n                                <div><input type=\"password\" required name=\"code2\" placeholder=\"Confirm Password\" value={this.state.code2} onChange={this.handleChange} className=\"form-control\" /></div>\n                            </div>\n                            <div className=\"input-group mb-3\">\n                               <Button variant=\"primary\" size=\"big\">Update</Button>\n                            </div>\n                        </form>\n                    </div>\n                    </div> }\n                    {/* <!-- end center column --> */}\n                    <div className=\"col-sm empty-container-with-out-border right-column\">\n                    <WalletAllBalance /> \n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default WithdrawalPassword;\n"],"sourceRoot":""}