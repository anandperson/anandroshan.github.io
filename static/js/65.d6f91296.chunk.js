(this["webpackJsonpreact-redux-realworld-example-app"]=this["webpackJsonpreact-redux-realworld-example-app"]||[]).push([[65],{1180:function(e,t,a){},1288:function(e,t,a){"use strict";a.r(t);var n=a(53),o=a(29),r=a(30),s=a(32),c=a(31),i=a(33),l=a(0),m=a.n(l),u=a(11),p=a(859),h=a(933),g=a(832),d=a(8),f=a(7),y=a.n(f),b=a(782),v=a(13),E=a(38),w=a(35),k=a(784),j=a(804),O=a(788),S=a.n(O),x=a(783),N=(a(787),a(73),a(65)),C=a(197),P=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).checkWallet=function(){console.log("okaoay"),Object(C.a)().then((function(e){console.log("okaokay"),r.getCoins()}),(function(e){console.log("notokaokay"),console.log(e)}))},r.getCoins=function(){var e=localStorage.getItem("allPairs");null!=e&&r.setState({coins:JSON.parse(e)},(function(){r.setState({coinsLoaded:!0})})),Object(N.l)().then((function(e){localStorage.setItem("allPairs",JSON.stringify(e.data)),console.log(e.data),r.setState({coins:e.data},(function(){r.setState({coinsLoaded:!0})}))}),(function(e){console.log(e)}))},r.getPaginatePost=function(){var e=r.props.currentUser;Object(k.h)({userid:void 0==e?0:e._id,limit:r.state.limit,page:r.state.page,category:r.state.category},!0).then(function(){var e=Object(v.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({posts:[].concat(Object(b.a)(r.state.posts),Object(b.a)(t.post)),hasMore:!!(t.post&&t.post.length>0),postLoaded:!0,showSkeleton:!1});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){r.setState({postLoaded:!0,showSkeleton:!1})}))},r.loadFunc=function(){r.state.showSkeleton||(r.setState({showSkeleton:!0}),r.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{page:e.page+1,showSkeleton:!0})}),(function(){r.getPaginatePost()})))},r.commentLike=function(e,t){Object(w.v)({postid:e,commentId:t},!0).then(function(){var e=Object(v.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Like"==t.message||t.message;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},r.commentReply=function(e,t,a,n,o){Object(w.E)({postid:e,commentId:t,comment:a},!0).then(function(){var e=Object(v.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(t.comment,n);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},r.likePost=function(e,t){Object(w.w)({postid:e},!0).then(function(){var e=Object(v.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},r.postCmt=function(e){var t={postid:e,comment:r.state.commentText};Object(w.y)(t).then(function(){var e=Object(v.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},r.showComments=function(e){Object(w.f)({postid:e},!0).then(function(){var e=Object(v.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({showComments:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},r.refreshHighlights=function(){},r.handleChange=function(e,t){var a=e.target,o=a.name,s=a.value;"replyCmt"!=e.target.name?r.setState(Object(n.a)({},o,s),(function(){})):r.setState(Object(n.a)({},"".concat(o),Object(d.a)(Object(d.a)({},r.state.replyCmt),{},Object(n.a)({},t,s))),(function(){}))},r.getSkeletonContent=function(e){return m.a.createElement("div",{className:"row empty-inner-container-with-border post",key:e},m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"row"},m.a.createElement("ul",{className:"list-group w-100 m-0"},m.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},m.a.createElement(x.a,{speed:2,width:610,height:350,viewBox:"0 0 610 350",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},m.a.createElement("rect",{x:"48",y:"8",rx:"3",ry:"3",width:"88",height:"6"}),m.a.createElement("rect",{x:"48",y:"26",rx:"3",ry:"3",width:"52",height:"6"}),m.a.createElement("rect",{x:"0",y:"56",rx:"3",ry:"3",width:"410",height:"6"}),m.a.createElement("rect",{x:"0",y:"72",rx:"3",ry:"3",width:"380",height:"6"}),m.a.createElement("rect",{x:"0",y:"88",rx:"3",ry:"3",width:"178",height:"6"}),m.a.createElement("circle",{cx:"20",cy:"20",r:"20"}),m.a.createElement("rect",{x:"0",y:"88",rx:"3",ry:"3",width:"900",height:"1000"})))))))},r.state={query:e.query,posts:[],category:e.category,coins:[],coinsLoaded:!1,page:1,limit:null==e.limit?5:e.limit,hasMore:!0,postLoaded:!1,showSkeleton:!1,showComments:!1,commentText:""},r.commentLike=r.commentLike.bind(Object(E.a)(r)),r.loadFunc=r.loadFunc.bind(Object(E.a)(r)),r.likePost=r.likePost.bind(Object(E.a)(r)),r.getPaginatePost=r.getPaginatePost.bind(Object(E.a)(r)),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.category),this.getPaginatePost()}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.category==e.category&&e.loadMore==this.props.loadMore||(console.log(this.props.category),this.setState({category:this.props.category,posts:[]},(function(){t.getPaginatePost()})))}},{key:"render",value:function(){var e=this,t=this.state;t.post,t.showComments,t.commentText;return m.a.createElement("div",null,void 0==this.props.loadMore||this.props.loadMore?m.a.createElement(S.a,{pageStart:0,initialLoad:!1,loadMore:this.loadFunc,hasMore:this.state.hasMore},this.state.postLoaded&&this.state.posts.map((function(t,a){return m.a.createElement(j.a,{coins:e.state.coins,post:t,filter:"",refreshHighlights:e.refreshHighlights,commentLike:e.commentLike,commentReply:e.commentReply,key:a,currentUser:e.props.currentUser})}))):this.state.postLoaded&&this.state.posts.map((function(t,a){return m.a.createElement(j.a,{coins:e.state.coins,post:t,filter:"",refreshHighlights:e.refreshHighlights,commentLike:e.commentLike,commentReply:e.commentReply,key:a,currentUser:e.props.currentUser})})),this.state.showSkeleton&&m.a.createElement("div",null,Array(5).fill().map((function(t,a){return e.getSkeletonContent(a)}))),0===this.state.posts.length&&this.state.postLoaded&&m.a.createElement("div",{className:"post"},m.a.createElement("p",{className:"post-inner no-found"},"No Blogs Found")))}}]),a}(m.a.Component),L=a(789);a(1180);var M=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).setStateFunc=function(e,t){console.log(e,t),r.setState(Object(n.a)({},e,t))},r.getCat=function(){r.setState({loading:!0}),Object(k.e)().then((function(e){return r.setState({categories:e,loading:!1})}),(function(e){console.log(e)}))},r.refreshHighlights=function(){r.setState({refreshing:!0},(function(){r.setState({refreshing:!1})}))},r.filterPosts=function(e){r.setState({latestpost:{},filter:e})},r.dataChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log(e),Object.keys(e).length<=0||""==e.category&&""==e.priceFrom&&""==e.priceTo&&""==e.key?r.setState({current:"all"}):r.setState({current:""},(function(){r.getData(e)}))},r.getData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e;t.page=1,t.limit=5,t.userid=r.props.currentUser._id,console.log("gettting"),console.log(t),r.setState({formdata:t})},r.state={postst:[],formdata:null,current:"all",refreshing:!1,loading:!0,categories:[],filter:"",latestpost:{}},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.match.params.category),this.setState({current:this.props.match.params.category,loading:!1},(function(){"all"==e.props.match.params.category&&e.getCat()}))}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.match.params.category!=e.match.params.category&&(console.log(this.props.match.params.category),this.setState({current:this.props.match.params.category,loading:!1},(function(){"all"==t.props.match.params.category&&t.getCat()})))}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"myBlogsPage"},m.a.createElement("div",{className:"container my-wall-container "},m.a.createElement("div",{className:"row mt-2"},m.a.createElement("div",{className:"col-sm empty-container-with-out-border left-column"},m.a.createElement(h.a,{dataChange:this.dataChange})),m.a.createElement("div",{className:"col-sm empty-container-with-out-border center-column"},"all"==this.state.current&&m.a.createElement("div",{className:"banner"},m.a.createElement("div",{className:"banner-header banner-header-blog"}),m.a.createElement("div",{className:"banner-body"},m.a.createElement("div",{className:"banner-icon"}),m.a.createElement("div",{className:"banner-desc"},m.a.createElement("h3",null,"Write, read and connect"),m.a.createElement("p",null,"It's easy and free to post your thinking on any topic and connect with millions of readers.")),m.a.createElement("div",{className:"banner-btns"},m.a.createElement(u.a,{href:"/add-blog"},m.a.createElement(i.a,null,"Create Blog")),"  ",m.a.createElement(u.a,{href:"/blogs"},m.a.createElement(i.a,null,"My Blogs"))))),this.state.loading?null:"all"==this.state.current?this.state.categories.map((function(t,a){return m.a.createElement("div",{className:"mb-2"},m.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},m.a.createElement("h2",{className:"subtitle mt-1"},t.category)," ",m.a.createElement(u.a,{href:"/blogs/"+t.category,className:"text-primary d-block mb-2"},m.a.createElement(i.a,{variant:"primary-outline"},"View All"))),m.a.createElement(P,Object.assign({category:t.category,setState:e.setStateFunc,latestpost:e.state.latestpost},e.props,{type:"blogs",limit:3,loadMore:!1})))})):m.a.createElement("div",null,m.a.createElement("h2",{className:"subtitle mt-1"},this.state.current),m.a.createElement(g.a,Object.assign({},this.props,{formdata:this.state.formdata})))),m.a.createElement("div",{className:"col-sm empty-container-with-out-border right-column"},m.a.createElement(L.a,this.props),m.a.createElement(p.a,null)))))}}]),a}(m.a.Component);t.default=M}}]);
//# sourceMappingURL=65.d6f91296.chunk.js.map