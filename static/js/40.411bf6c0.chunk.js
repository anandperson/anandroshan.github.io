(this["webpackJsonpreact-redux-realworld-example-app"]=this["webpackJsonpreact-redux-realworld-example-app"]||[]).push([[40],{1179:function(t,e,n){},1280:function(t,e,n){"use strict";n.r(e);var a=n(53),s=n(29),r=n(30),o=n(32),c=n(31),i=n(0),u=n.n(i),l=n(14),p=n(11);n(487);var m=function(t){var e=Object(i.useState)(t.current),n=Object(l.a)(e,2),a=n[0],s=n[1];return Object(i.useEffect)((function(){s(t.current)}),[t.current]),u.a.createElement(u.a.Fragment,null,u.a.createElement("ul",{className:"searchMenu"},u.a.createElement("li",null,u.a.createElement("div",{className:"pointer "+("all"==a&&" active"),onClick:function(e){return t.onClick("all")}},"All")),u.a.createElement("li",null,u.a.createElement("div",{className:"pointer "+("users"==a&&" active"),onClick:function(e){return t.onClick("users")}},"People")),u.a.createElement("li",null,u.a.createElement("div",{className:"pointer "+("posts"==a&&" active"),onClick:function(e){return t.onClick("posts")}},"Posts")),u.a.createElement("li",null,u.a.createElement("div",{className:"pointer "+("blogs"==a&&" active"),onClick:function(e){return t.onClick("blogs")}},"Blogs")),u.a.createElement("li",null,u.a.createElement("div",{className:"pointer "+("gigs"==a&&" active"),onClick:function(e){return t.onClick("gigs")}},"Gigs"))))},h=n(832),f=n(842),d=n(8),g=n(7),b=n.n(g),v=n(782),y=n(13),j=n(38),O=n(35),w=n(810),E=n(788),k=n.n(E),S=n(783),C=(n(787),n(73),function(t){Object(o.a)(n,t);var e=Object(c.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).refreshHighlights=function(){r.props.refreshHighlights()},r.getPaginatePost=function(){(r.props.search&&""!=r.props.query||!r.props.search||void 0==typeof r.props.search)&&Object(O.g)({limit:r.state.limit,page:r.state.page,query:r.props.query},!0).then(function(){var t=Object(y.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.setState({posts:[].concat(Object(v.a)(r.state.posts),Object(v.a)(e.post)),showSkeleton:!1,hasMore:!!(e.post&&e.post.length>0),postLoaded:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){r.setState({showSkeleton:!1})}))},r.loadFunc=function(){r.state.showSkeleton||(r.setState({showSkeleton:!0}),r.setState((function(t){return Object(d.a)(Object(d.a)({},t),{},{page:t.page+1,showSkeleton:!0})}),(function(){r.getPaginatePost()})))},r.commentLike=function(t){Object(O.v)({commentId:t},!0).then(function(){var t=Object(y.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"Like"==e.message||e.message;case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){}))},r.commentReply=function(t,e,n,a){Object(O.E)({commentId:t,comment:e},!0).then(function(){var t=Object(y.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(e.comment,n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){}))},r.likePost=function(t,e){Object(O.w)({postid:t},!0).then(function(){var t=Object(y.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){}))},r.postCmt=function(t){var e={postid:t,comment:r.state.commentText};Object(O.y)(e).then(function(){var t=Object(y.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){}))},r.showComments=function(t){Object(O.f)({postid:t},!0).then(function(){var t=Object(y.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.setState({showComments:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){}))},r.handleChange=function(t,e){var n=t.target,s=n.name,o=n.value;"replyCmt"!=t.target.name?r.setState(Object(a.a)({},s,o),(function(){})):r.setState(Object(a.a)({},"".concat(s),Object(d.a)(Object(d.a)({},r.state.replyCmt),{},Object(a.a)({},e,o))),(function(){}))},r.getSkeletonContent=function(){return u.a.createElement("div",{className:"row empty-inner-container-with-border post"},u.a.createElement("div",{className:"container"},u.a.createElement("div",{className:"row"},u.a.createElement("ul",{className:"list-group w-100 m-0"},u.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},u.a.createElement(S.a,Object.assign({speed:2,width:610,height:350,viewBox:"0 0 610 350",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},r.props),u.a.createElement("rect",{x:"48",y:"8",rx:"3",ry:"3",width:"88",height:"6"}),u.a.createElement("rect",{x:"48",y:"26",rx:"3",ry:"3",width:"52",height:"6"}),u.a.createElement("rect",{x:"0",y:"56",rx:"3",ry:"3",width:"410",height:"6"}),u.a.createElement("rect",{x:"0",y:"72",rx:"3",ry:"3",width:"380",height:"6"}),u.a.createElement("rect",{x:"0",y:"88",rx:"3",ry:"3",width:"178",height:"6"}),u.a.createElement("circle",{cx:"20",cy:"20",r:"20"}),u.a.createElement("rect",{x:"0",y:"88",rx:"3",ry:"3",width:"900",height:"1000"})))))))},r.state={query:"",posts:[],page:1,limit:5,hasMore:!0,postLoaded:!1,showSkeleton:!1,showComments:!1,commentText:""},r.loadFunc=r.loadFunc.bind(Object(j.a)(r)),r.likePost=r.likePost.bind(Object(j.a)(r)),r.getPaginatePost=r.getPaginatePost.bind(Object(j.a)(r)),r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.getPaginatePost()}},{key:"componentDidUpdate",value:function(t){var e=this;t.query==this.props.query&&t.loadMore==this.props.loadMore||this.setState({page:1,limit:5,posts:[]},(function(){e.getPaginatePost()}))}},{key:"componentWillReceiveProps",value:function(){var t=this;if(this.props.latestPost&&this.props.latestPost.userid){var e=this.props.latestPost,n=this.state.posts,a=n.find((function(t){return t._id==e._id}));a&&a._id||(n.unshift(e),this.setState({posts:[]},(function(){t.setState({posts:n})})))}}},{key:"render",value:function(){var t=this,e=this.state;e.post,e.showComments,e.commentText;return u.a.createElement("div",null,this.props.loadMore?u.a.createElement(k.a,{pageStart:0,initialLoad:!1,loadMore:this.loadFunc,hasMore:this.state.hasMore},!this.postLoaded&&this.state.posts.map((function(e,n){return u.a.createElement(w.a,{refreshHighlights:t.refreshHighlights,post:e,commentLike:t.commentLike,commentReply:t.commentReply,key:n,currentUser:t.props.currentUser})}))):!this.postLoaded&&this.state.posts.map((function(e,n){return u.a.createElement(w.a,{refreshHighlights:t.refreshHighlights,post:e,commentLike:t.commentLike,commentReply:t.commentReply,key:n,currentUser:t.props.currentUser})})),(0===this.state.posts.length||this.state.showSkeleton)&&!this.state.postLoaded&&u.a.createElement("div",null,Array(5).fill().map((function(e,n){return t.getSkeletonContent()}))),0===this.state.posts.length&&this.state.postLoaded&&u.a.createElement("div",{className:"post"},u.a.createElement("p",{className:"post-inner no-found"},"No Posts Found")))}}]),n}(u.a.Component)),x=n(33);var P=n(24),N=function(t){Object(o.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).componentDidMount=function(){console.log("user loaded"),a.setState({page:1,limit:null==a.props.limit?10:a.props.limit,users:[]},(function(){a.getUsers()}))},a.getUsers=function(){(a.props.search&&""!=a.props.query||!a.props.search||void 0==typeof a.props.search)&&Object(O.j)({limit:a.state.limit,page:a.state.page,query:a.props.query}).then(function(){var t=Object(y.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e),a.setState({users:[].concat(Object(v.a)(a.state.users),Object(v.a)(e)),showSkeleton:!1,hasMore:!!(e&&e.length>0),postLoaded:!0});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){}))},a.loadFunc=function(){console.log("reload user"),a.state.showSkeleton||(a.setState({showSkeleton:!0}),a.setState((function(t){return Object(d.a)(Object(d.a)({},t),{},{page:t.page+1,showSkeleton:!0})}),(function(){a.getUsers()})))},a.state={page:1,limit:null==t.limit?10:t.limit,users:[],hasMore:!0,postLoaded:!1,showSkeleton:!1},a}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(t){var e=this;t.query==this.props.query&&t.loadMore==this.props.loadMore||(console.log("user updated"),this.setState({page:1,limit:null==this.props.limit?10:this.props.limit,users:[]},(function(){e.getUsers()})))}},{key:"omponentWillReceiveProps",value:function(){var t=this;if(this.props.latestPost&&this.props.latestPost._id){var e=this.props.latestPost,n=this.state.users,a=n.find((function(t){return t._id==e._id}));a&&a._id||(n.unshift(e),this.setState({users:[]},(function(){t.setState({users:n})})))}}},{key:"render",value:function(){this.state.users;return u.a.createElement("div",null,this.props.loadMore?u.a.createElement(k.a,{pageStart:0,initialLoad:!1,loadMore:this.loadFunc,hasMore:this.state.hasMore},!this.postLoaded&&this.state.users.length>0&&u.a.createElement("div",{className:"container"},u.a.createElement("div",{className:"row"},this.state.users.map((function(t,e){return u.a.createElement("ul",{className:"list-group w-100 remove-border"},u.a.createElement("li",{className:"list-group-item "},u.a.createElement("div",{className:"media w-100 d-flex align-items-center"},u.a.createElement("div",{className:"media-left mr-2"},u.a.createElement(p.a,{href:"/u/"+t._id},u.a.createElement("img",{className:"media-object pic circle",src:Object(P.d)(t.avatar),alt:"..."}))),u.a.createElement("div",{className:"media-body"},u.a.createElement(p.a,{href:"/u/"+t._id},u.a.createElement("p",{className:"media-heading"},t.name))),u.a.createElement("div",{className:"media-right "},u.a.createElement(p.a,{href:"/u/"+t._id},u.a.createElement(x.a,{variant:"primary-outline",size:"compact"},"View"))))))}))))):u.a.createElement("div",{className:"container"},u.a.createElement("div",{className:"row"},this.state.users.map((function(t,e){return u.a.createElement("ul",{className:"list-group w-100 remove-border"},u.a.createElement("li",{className:"list-group-item "},u.a.createElement("div",{className:"media w-100 d-flex align-items-center"},u.a.createElement("div",{className:"media-left mr-2"},u.a.createElement(p.a,{href:"/u/"+t._id},u.a.createElement("img",{className:"media-object pic circle",src:Object(P.d)(t.avatar),alt:"..."}))),u.a.createElement("div",{className:"media-body"},u.a.createElement(p.a,{href:"/u/"+t._id},u.a.createElement("p",{className:"media-heading"},t.name))),u.a.createElement("div",{className:"media-right "},u.a.createElement(p.a,{href:"/u/"+t._id},u.a.createElement(x.a,{variant:"primary-outline",size:"compact"},"View"))))))})))),(0===this.state.users.length||this.state.showSkeleton)&&!this.state.postLoaded&&u.a.createElement("div",null,Array(5).fill().map((function(t,e){return u.a.createElement("div",{className:"row empty-inner-container-with-border post"},u.a.createElement("div",{className:"container"},u.a.createElement("div",{className:"row"},u.a.createElement("ul",{className:"list-group w-100 m-0"},u.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},u.a.createElement(S.a,Object.assign({speed:2,width:610,height:350,viewBox:"0 0 610 350",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},n),u.a.createElement("rect",{x:"48",y:"8",rx:"3",ry:"3",width:"88",height:"6"}),u.a.createElement("rect",{x:"48",y:"26",rx:"3",ry:"3",width:"52",height:"6"}),u.a.createElement("rect",{x:"0",y:"56",rx:"3",ry:"3",width:"410",height:"6"}),u.a.createElement("rect",{x:"0",y:"72",rx:"3",ry:"3",width:"380",height:"6"}),u.a.createElement("rect",{x:"0",y:"88",rx:"3",ry:"3",width:"178",height:"6"}),u.a.createElement("circle",{cx:"20",cy:"20",r:"20"}),u.a.createElement("rect",{x:"0",y:"88",rx:"3",ry:"3",width:"900",height:"1000"})))))));var n}))),0===this.state.users.length&&this.state.postLoaded&&u.a.createElement("div",null," No User Found"))}}]),n}(u.a.Component),M=n(210),U=n(21);n(1179);var L=function(t){Object(o.a)(i,t);var e=Object(c.a)(i);function i(t){var n;return Object(s.a)(this,i),(n=e.call(this,t)).setStateFunc=function(t,e){n.setState(Object(a.a)({},t,e))},n.handleInput=function(t){n.setState({searchQuery:t.target.value})},n.setStateFunc=function(t,e){n.setState(Object(a.a)({},t,e))},n.setFilter=function(t){localStorage.setItem("filter",t),n.props.history.push("/search?q="+n.state.searchQuery+"&filter="+t)},n.handleSearch=function(t){t.preventDefault();var e=Object(M.a)(n.props.location.search);U.a.push("/search?q="+encodeURIComponent(n.state.searchQuery)+(null!=e.filter&&void 0!=typeof e.filter&&""!=e.filter?"&filter="+e.filter:""))},n.state={latestpost:{},latestpost2:{},isLoading:!1,page:1,count:20,filter:"all",result:[],searchQuery:""},n}return Object(r.a)(i,[{key:"componentDidMount",value:function(){var t=Object(M.a)(this.props.location.search);this.setState({searchQuery:encodeURIComponent(t.q),filter:t.filter?t.filter:"all"})}},{key:"componentDidUpdate",value:function(t){if(this.props.location.search!=t.location.search){var e=Object(M.a)(this.props.location.search);this.setState({searchQuery:encodeURIComponent(e.q),filter:e.filter?e.filter:"all"})}}},{key:"render",value:function(){this.state.result;return u.a.createElement("div",{className:"container my-wall-container search-page"},u.a.createElement("div",{className:"row mt-2"},u.a.createElement("div",{className:"col-sm col-md-4 empty-container-with-out-border left-column"},u.a.createElement("div",{className:"col-sm empty-container-with-out-border left-column"})),u.a.createElement("div",{className:"col-sm col-md-8 empty-container-with-out-border center-column big-center"},u.a.createElement("form",{className:"form-inline my-2 my-lg-0 searchBox sm-show mb-4",onSubmit:this.handleSearch},u.a.createElement("div",{className:"input-group"},u.a.createElement("div",{className:"input-group-append"},u.a.createElement("button",{className:"btn btn-secondary search-btn",type:"button",onClick:this.handleSearch},u.a.createElement("img",{src:n(247)}))),u.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search",onChange:this.handleInput}))),""==this.state.searchQuery?u.a.createElement("p",null,"Type something to search"):u.a.createElement("div",null,"all"==this.state.filter||"users"==this.state.filter?u.a.createElement("div",{className:"col empty-container-with-border center-column-full m-0 "},u.a.createElement("h3",{className:"subtitle"},"Users"),u.a.createElement(N,Object.assign({setState:this.setStateFunc,latestpost:this.state.latestpost2},this.props,{query:this.state.searchQuery,search:!0,limit:5,loadMore:"users"==this.state.filter}))):null,"all"==this.state.filter||"gigs"==this.state.filter?u.a.createElement("div",{className:"col empty-container-with-out-border p-0 center-column-full m-0 mt-4"},u.a.createElement("h3",{className:"subtitle"},"Gigs"),u.a.createElement(f.a,Object.assign({},this.props,{query:this.state.searchQuery,search:!0,limit:3,loadMore:"posts"==this.state.filter}))):null,"all"==this.state.filter||"blogs"==this.state.filter?u.a.createElement("div",{className:"col empty-container-with-out-border p-0 center-column-full m-0 mt-4"},u.a.createElement("h3",{className:"subtitle"},"Blogs"),u.a.createElement(h.a,Object.assign({setState:this.setStateFunc,latestpost:this.state.latestpost},this.props,{query:this.state.searchQuery,search:!0,limit:3,loadMore:"blogs"==this.state.filter}))):null,"all"==this.state.filter||"posts"==this.state.filter?u.a.createElement("div",{className:"col empty-container-with-out-border p-0 center-column-full m-0 mt-4"},u.a.createElement("h3",{className:"subtitle"},"Posts"),u.a.createElement(C,Object.assign({setState:this.setStateFunc,latestpost:this.state.latestpost},this.props,{query:this.state.searchQuery,search:!0,limit:3,loadMore:"posts"==this.state.filter}))):null)),u.a.createElement("div",{className:"col-sm empty-container-with-out-border right-column"},u.a.createElement(m,{onClick:this.setFilter,current:this.state.filter}))))}}]),i}(u.a.Component);e.default=L},782:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(200);var s=n(229);function r(t){return function(t){if(Array.isArray(t))return Object(a.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(s.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},784:function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"t",(function(){return c})),n.d(e,"k",(function(){return i})),n.d(e,"i",(function(){return u})),n.d(e,"p",(function(){return l})),n.d(e,"l",(function(){return p})),n.d(e,"j",(function(){return m})),n.d(e,"h",(function(){return h})),n.d(e,"d",(function(){return f})),n.d(e,"b",(function(){return d})),n.d(e,"s",(function(){return g})),n.d(e,"q",(function(){return b})),n.d(e,"a",(function(){return v})),n.d(e,"n",(function(){return y})),n.d(e,"o",(function(){return j})),n.d(e,"m",(function(){return O})),n.d(e,"r",(function(){return w})),n.d(e,"f",(function(){return E})),n.d(e,"g",(function(){return k}));var a=n(2),s=n(4),r=function(t){return new Promise((function(e,n){Object(s.a)("".concat(a.a.baseUrl,"get-blog-categories"),!0,t).then((function(t){e(t.data)})).catch((function(t){n(t.response)}))}))},o=function(t){return new Promise((function(e,n){Object(s.c)(a.a.baseUrl+"create-blog-post",!0,t).then((function(t){e(t.data)})).catch((function(t){n(t.response)}))}))},c=function(t){return new Promise((function(e,n){Object(s.c)(a.a.baseUrl+"update-blog-post",!0,t).then((function(t){e(t.data)})).catch((function(t){n(t.response)}))}))},i=function(t,e){return new Promise((function(n,r){Object(s.a)(a.a.baseUrl+"get-blog-posts",e,t).then((function(t){n(t.data)})).catch((function(t){r(t.response)}))}))},u=function(t){return new Promise((function(e,n){Object(s.a)(a.a.baseUrl+"get-filtered-blog-posts",!0,t).then((function(t){e(t.data)})).catch((function(t){n(t.response)}))}))},l=function(t){return new Promise((function(e,n){Object(s.c)(a.a.baseUrl+"remove-blog-post",!0,t).then((function(t){e(t.data)})).catch((function(t){n(t.response)}))}))},p=function(t){return new Promise((function(e,n){Object(s.a)(a.a.baseUrl+"get-blog",!1,t).then((function(t){e(t.data)})).catch((function(t){n(t.response)}))}))},m=function(t){return new Promise((function(e,n){Object(s.a)(a.a.baseUrl+"get-popular-blogs",!0,t).then((function(t){e(t.data)})).catch((function(t){n(t.response)}))}))},h=function(t){return new Promise((function(e,n){Object(s.a)(a.a.baseUrl+"get-category-blogs",!0,t).then((function(t){e(t.data)})).catch((function(t){n(t.response)}))}))},f=function(t){return new Promise((function(e,n){Object(s.a)(a.a.baseUrl+"get-author-blogs",!0,t).then((function(t){e(t.data)})).catch((function(t){n(t.response)}))}))},d=function(t){return new Promise((function(e,n){Object(s.c)(a.a.baseUrl+"blog-clap",!0,t).then((function(t){e(t.data)})).catch((function(t){n(t.response)}))}))},g=function(t){return new Promise((function(e,n){Object(s.c)(a.a.baseUrl+"send-tips",!0,t).then((function(t){e(t.data)})).catch((function(t){n(t.response)}))}))},b=function(t){return new Promise((function(e,n){Object(s.c)(a.a.baseUrl+"purchase-blog",!0,t).then((function(t){e(t.data)})).catch((function(t){n(t.response)}))}))},v=function(t){return new Promise((function(e,n){Object(s.a)(a.a.baseUrl+"check-purchased-blog",!0,t).then((function(t){e(t.data)})).catch((function(t){n(t.response)}))}))},y=function(t,e){return new Promise((function(n,r){Object(s.c)(a.a.baseUrl+"like-blog",e,t).then((function(t){n(t.data)})).catch((function(t){r(t.response)}))}))},j=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(n,r){Object(s.c)(a.a.baseUrl+"comment-blog",e,t).then((function(t){n(t.data)})).catch((function(t){r(t.response)}))}))},O=function(t,e){return new Promise((function(n,r){Object(s.c)(a.a.baseUrl+"like-comment-blog",e,t).then((function(t){n(t.data)})).catch((function(t){r(t.response)}))}))},w=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(n,r){Object(s.c)(a.a.baseUrl+"reply-comment-blog",e,t).then((function(t){n(t.data)})).catch((function(t){r(t.response)}))}))},E=function(t){return new Promise((function(e,n){Object(s.a)(a.a.baseUrl+"get-blog-draft",!0,t).then((function(t){e(t.data)})).catch((function(t){n(t.response)}))}))},k=function(t){return new Promise((function(e,n){Object(s.a)(a.a.baseUrl+"blog-stats",!0,t).then((function(t){e(t.data)})).catch((function(t){n(t.response)}))}))}},804:function(t,e,n){"use strict";var a=n(53),s=n(8),r=n(7),o=n.n(r),c=n(13),i=n(29),u=n(30),l=n(38),p=n(32),m=n(31),h=n(0),f=n.n(h),d=(n(73),n(66)),g=(n(812),n(35)),b=n(74),v=n(784),y=(n(813),n(787)),j=n(15),O=(n(11),n(24)),w=(n(228),n(2),n(1227)),E=n(803),k=n(33);n(794);n(814);var S=function(t){Object(p.a)(n,t);var e=Object(m.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=e.call(this,t)).extractUrl=function(t){var e=new RegExp(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/gi);return t.match(e)},r.reportModal=function(){r.setState({reportModal:!r.state.reportModal})},r.componentDidMount=function(){r.props.single&&r.showComments(r.state.post._id);try{var t=JSON.parse(r.props.post.editorContent);r.setState({postText:t.blocks[0].data.text})}catch(e){r.setState({postText:r.props.post.text})}r.getCoins()},r.getCoins=function(){r.setState({coins:r.props.coins},(function(){if(console.log(r.state.post.tips,r.state.coins),void 0!=r.state.post&&void 0!=r.state.post.tips&&void 0!=r.state.coins){var t=r.state.post.tips.length;if(t>0){var e=0;r.state.post.tips.map((function(n,a){var s=r.state.coins.findIndex((function(t,e){return t.currencySymbol===n.currency}));try{e+=n.amount/r.state.coins[s].EstimatedUSD}catch(o){}a==t-1&&r.setState({tips:e})}))}}}))},r.postActivityCount=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",n=r.state.post;n[t]||(n[t]=0),n[t]="sub"==e?n[t]-1:n[t]+1,r.setState({post:n})},r.editPost=function(t){},r.save=function(t){Object(b.i)({postid:t}).then(function(){var t=Object(c.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(j.a)(!0,e.message,"success"),r.setState({saved:!0});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){Object(j.a)(!0,t.data.message)}))},r.unSave=function(t){Object(b.l)({postid:t}).then(function(){var t=Object(c.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(j.a)(!0,e.message,"success"),r.setState({saved:!1});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){Object(j.a)(!0,t.data.message)}))},r.report=function(t){if(""==r.state.category)Object(j.a)(!0,"You need to select a category");else{var e="blog/"+t.slug;Object(g.z)({id:t._id,type:"blog",link:e,category:r.state.category,reason:r.state.reason}).then(function(){var t=Object(c.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(j.a)(!0,e.message,"success"),r.setState({reportModal:!1,reported:!0});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){Object(j.a)(!0,t.data.message),r.setState({reportModal:!1})}))}},r.unReport=function(t){Object(g.A)({id:t._id}).then(function(){var t=Object(c.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(j.a)(!0,e.message,"success"),r.setState({reported:!1});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){Object(j.a)(!0,t.data.message)}))},r.hidePost=function(t){Object(b.f)({postid:t}).then(function(){var t=Object(c.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(j.a)(!0,e.message,"success"),r.setState({post:Object(s.a)(Object(s.a)({},r.state.post),{},{hidden:1})});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){Object(j.a)(!0,t.data.message)}))},r.unhidePost=function(t){Object(b.j)({postid:t}).then(function(){var t=Object(c.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(j.a)(!0,e.message,"success"),r.setState({post:Object(s.a)(Object(s.a)({},r.state.post),{},{hidden:0})});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){Object(j.a)(!0,t.data.message)}))},r.removePost=function(t){r.setState({last:t,open:!0})},r.removePostConfirm=function(){var t=r.state.last;r.setState({open:!1,last:null}),Object(v.p)({postid:t}).then(function(){var t=Object(c.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(j.a)(!0,e.message,"success"),r.setState({post:Object(s.a)(Object(s.a)({},r.state.post),{},{removed:1})});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){Object(j.a)(!0,t.data.message)}))},r.highlightPost=function(t){Object(b.g)({postid:t}).then(function(){var t=Object(c.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(j.a)(!0,e.message,"success"),r.setState({post:Object(s.a)(Object(s.a)({},r.state.post),{},{highlighted:1})},(function(){}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){Object(j.a)(!0,t.data.message)}))},r.unHighlight=function(t){Object(b.k)({postid:t}).then(function(){var t=Object(c.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(j.a)(!0,e.message,"success"),r.setState({post:Object(s.a)(Object(s.a)({},r.state.post),{},{highlighted:0})},(function(){}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){Object(j.a)(!0,t.data.message)}))},r.likePostFn=function(t,e){r.setState({post:Object(s.a)(Object(s.a)({},r.state.post),{},{likeActive:1-e})}),Object(v.n)({postid:t},!0).then(function(){var t=Object(c.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"Like"==e.message?r.postActivityCount("likesCount"):"Dislike"==e.message&&r.postActivityCount("likesCount","sub");case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){Object(j.a)(!0,t.data.message)}))},r.sharePost=function(t){r.setState({shareModel:!0,currPost:t})},r.closeShareModal=function(){r.setState({shareModel:!1})},r.handleOnReady=function(){return setTimeout((function(){return r.setState({playing:!0})}),100)},r.handleClose=function(){return r.setState({open:!r.state.open})},r.postCmt=function(t){if(""!=r.state.commentText&&null!=r.state.commentText){Object(j.b)(!0,"Please wait. Commenting...");var e={postid:t,comment:r.state.commentText};Object(v.o)(e).then(function(){var t=Object(c.a)(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.postActivityCount("cmtsCount"),(n=r.state.post).comment||(n.comment=[]),n.comment.unshift(e.comment),r.setState({post:n,showComments:!0,commentText:""}),Object(j.b)();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){Object(j.a)(!0,t.data.message),Object(j.b)()}))}},r.showComments=function(t){Object(j.b)(!0,"Please wait. Getting Comments..."),Object(g.f)({postid:t},!0).then(function(){var t=Object(c.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(j.b)(),r.setState({post:Object(s.a)(Object(s.a)({},r.state.post),{},{comment:e})}),r.setState({showComments:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){Object(j.a)(!0,t.data.message),Object(j.b)()}))},r.handleChange=function(t,e){var n=t.target,o=n.name,c=n.value;"replyCmt"!=t.target.name?r.setState(Object(a.a)({},o,c),(function(){})):r.setState(Object(a.a)({},"".concat(o),Object(s.a)(Object(s.a)({},r.state.replyCmt),{},Object(a.a)({},e,c))),(function(){}))},r.shareSuccess=function(){r.postActivityCount("shareCount")},r.showCommentReply=function(t){var e=r.state.post.comment.findIndex((function(e){return e._id===t})),n=r.state.post;n.comment[e].showReply=!0,r.setState({post:n})},r.showCommentReplies=function(t){Object(j.b)(!0,"Please wait. Getting Comments..."),Object(g.p)({commentId:t},!0).then(function(){var e=Object(c.a)(o.a.mark((function e(n){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(j.b)(),a=r.state.post.comment.findIndex((function(e){return e._id===t})),(s=r.state.post).comment[a].replies=n,r.setState({post:s});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(t){Object(j.a)(!0,t.data.message),Object(j.b)()}))},r.callBackCommentReply=function(t,e){var n=r.state.post;if(n.comment&&n.comment[e]){n.comment[e].replies?n.comment[e].replies.push(t):n.comment[e].replies=[t];var a=r.state.replyCmt;a[e]="",r.setState({post:n,replyCmt:a})}},r.getPostContent=function(t,e,n,a){return t.removed>0||t.hidden>0&&"hidden"!=r.props.filter?null:f.a.createElement(E.a,{reported:r.state.reported,saved:r.state.saved,report:r.reportModal,unReport:function(){return r.unReport(t)},save:function(){return r.save(t._id)},unSave:function(){return r.unSave(t._id)},url:"/blog/"+t.slug,thumb:Object(O.c)(void 0!=t.contents&&void 0!=t.contents[0]?t.contents[0].content_url:""),k:t._id,currentUser:r.props.currentUser,post:t,title:t.subject,likes:t.clapsCount,shares:t.shareCount,tips:r.state.tips,comments:t.cmtsCount,category:t.category,description:r.state.postText,removePost:r.removePost,authorid:t.userid})},r.state={open:!1,url:t.post.url,post:t.post,last:null,key:t.post._id,shareModel:!1,reported:1==t.post.reported,saved:1==t.post.saved,category:"",reason:"",reportModal:!1,currPost:{},coins:[],playing:!1,tips:0,showComments:!1,commentText:"",postText:"",replyCmt:[]},r.sharePost=r.sharePost.bind(Object(l.a)(r)),r.closeShareModal=r.closeShareModal.bind(Object(l.a)(r)),r}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(t){t.coins!=this.props.coins&&this.getCoins()}},{key:"render",value:function(){var t=this,e=this.state,n=e.post,a=e.showComments,s=e.commentText,r=e.replyCmt,o=e.key;return f.a.createElement("div",{className:"post ",key:o},f.a.createElement(d.a,{displayModal:this.state.reportModal,closeModal:this.reportModal},f.a.createElement("div",null,f.a.createElement("div",{className:"form-group"},f.a.createElement("select",{className:"form-control",value:this.state.category,onChange:function(e){return t.setState({category:e.target.value})}},f.a.createElement("option",{value:""},"Select Category"),f.a.createElement("option",null,"Violence"),f.a.createElement("option",null,"Racism / Hatespeech"),f.a.createElement("option",null,"Pornographic"),f.a.createElement("option",null,"Spam"),f.a.createElement("option",null,"Other"))),f.a.createElement("div",{className:"form-group"},f.a.createElement("textarea",{type:"text",placeholder:"Reason",className:"form-control",onChange:function(e){return t.setState({reason:e.target.value})},value:this.state.reason}))),f.a.createElement("div",{className:""},f.a.createElement(k.a,{variant:"primary",size:"compact m-2",onClick:function(){return t.report(n)}},"Report"),f.a.createElement(k.a,{variant:"secondary",size:"compact m-2",onClick:this.reportModal},"Cancel"))),f.a.createElement(w.a,{onClose:this.handleClose,className:"confirm-modal",open:this.state.open},f.a.createElement("strong",{className:"text-center p-2"},f.a.createElement("big",null,"Confirmation")),f.a.createElement("p",{className:"p-2"},"Are you sure about deleting this?"),f.a.createElement("div",{className:"p-2 d-flex align-items-center justify-content-around"},f.a.createElement(k.a,{onClick:this.handleClose,variant:"secondary"},"Cancel"),f.a.createElement(k.a,{onClick:this.removePostConfirm,variant:"primary"},"Yes"))),n.sharedBy?null:this.getPostContent(n,a,s,r),this.state.shareModel&&f.a.createElement(y.a,{post:this.state.currPost,shareSuccess:this.shareSuccess,closeShareModal:this.closeShareModal}))}}]),n}(f.a.Component);e.a=S},832:function(t,e,n){"use strict";var a=n(53),s=n(8),r=n(7),o=n.n(r),c=n(782),i=n(13),u=n(29),l=n(30),p=n(38),m=n(32),h=n(31),f=n(0),d=n.n(f),g=n(35),b=n(784),v=n(804),y=n(788),j=n.n(y),O=n(783),w=(n(787),n(73),n(65)),E=n(197),k=function(t){Object(m.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this,t)).checkWallet=function(){console.log("okaoay"),Object(E.a)().then((function(t){console.log("okaokay"),r.getCoins()}),(function(t){console.log("notokaokay"),console.log(t)}))},r.getCoins=function(){Object(w.l)().then((function(t){localStorage.setItem("allPairs",JSON.stringify(t.data)),r.setState({coins:t.data},(function(){r.setState({coinsLoaded:!0})}))}),(function(t){console.log(t)}))},r.getPaginatePost=function(){if(void 0!=r.state.formdata&&null!=r.state.formdata&&""!=r.state.formdata)var t=r.state.formdata;else t={userid:r.props.currentUser._id,limit:r.state.limit,page:r.state.page,query:r.props.query,mine:r.props.mine};if(null!=r.state.filters){var e=r.state.filters;t.query=e.key,t.priceFrom=e.priceFrom,t.priceTo=e.priceTo,t.category=e.category}console.log(r.state.filters,t),Object(b.k)(t,!0).then(function(){var e=Object(i.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({posts:1==t.page?n.post:[].concat(Object(c.a)(r.state.posts),Object(c.a)(n.post)),hasMore:!!(n.post&&n.post.length>0),postLoaded:!0,showSkeleton:!1});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(t){r.setState({postLoaded:!0,showSkeleton:!1})}))},r.loadFunc=function(){r.state.showSkeleton||(r.setState({showSkeleton:!0}),r.setState((function(t){return Object(s.a)(Object(s.a)({},t),{},{page:t.page+1,showSkeleton:!0})}),(function(){r.getPaginatePost()})))},r.commentLike=function(t,e){Object(g.v)({postid:t,commentId:e},!0).then(function(){var t=Object(i.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"Like"==e.message||e.message;case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){}))},r.commentReply=function(t,e,n,a,s){Object(g.E)({postid:t,commentId:e,comment:n},!0).then(function(){var t=Object(i.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s(e.comment,a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){}))},r.likePost=function(t,e){Object(g.w)({postid:t},!0).then(function(){var t=Object(i.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){}))},r.postCmt=function(t){var e={postid:t,comment:r.state.commentText};Object(g.y)(e).then(function(){var t=Object(i.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){}))},r.showComments=function(t){Object(g.f)({postid:t},!0).then(function(){var t=Object(i.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.setState({showComments:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){}))},r.refreshHighlights=function(){},r.handleChange=function(t,e){var n=t.target,o=n.name,c=n.value;"replyCmt"!=t.target.name?r.setState(Object(a.a)({},o,c),(function(){})):r.setState(Object(a.a)({},"".concat(o),Object(s.a)(Object(s.a)({},r.state.replyCmt),{},Object(a.a)({},e,c))),(function(){}))},r.getSkeletonContent=function(t){return d.a.createElement("div",{className:"row empty-inner-container-with-border post",key:t},d.a.createElement("div",{className:"container"},d.a.createElement("div",{className:"row"},d.a.createElement("ul",{className:"list-group w-100 m-0"},d.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},d.a.createElement(O.a,{speed:2,width:610,height:350,viewBox:"0 0 610 350",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},d.a.createElement("rect",{x:"48",y:"8",rx:"3",ry:"3",width:"88",height:"6"}),d.a.createElement("rect",{x:"48",y:"26",rx:"3",ry:"3",width:"52",height:"6"}),d.a.createElement("rect",{x:"0",y:"56",rx:"3",ry:"3",width:"410",height:"6"}),d.a.createElement("rect",{x:"0",y:"72",rx:"3",ry:"3",width:"380",height:"6"}),d.a.createElement("rect",{x:"0",y:"88",rx:"3",ry:"3",width:"178",height:"6"}),d.a.createElement("circle",{cx:"20",cy:"20",r:"20"}),d.a.createElement("rect",{x:"0",y:"88",rx:"3",ry:"3",width:"900",height:"1000"})))))))},r.state={query:t.query,filters:t.filters,formdata:t.formdata,posts:[],page:1,coins:[],coinsLoaded:!1,limit:null==t.limit?5:t.limit,hasMore:!0,postLoaded:!1,showSkeleton:!1,showComments:!1,commentText:""},r.commentLike=r.commentLike.bind(Object(p.a)(r)),r.loadFunc=r.loadFunc.bind(Object(p.a)(r)),r.likePost=r.likePost.bind(Object(p.a)(r)),r.getPaginatePost=r.getPaginatePost.bind(Object(p.a)(r)),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.setState({page:1,limit:null==this.props.limit?5:this.props.limit,posts:[]},this.getPaginatePost())}},{key:"componentDidUpdate",value:function(t){var e=this;t.filters==this.props.filters&&t.query==this.props.query&&t.loadMore==this.props.loadMore&&t.formdata==this.props.formdata||this.setState({formdata:this.props.formdata,filters:this.props.filters,page:1,limit:null==this.props.limit?5:this.props.limit,posts:[]},(function(){e.getPaginatePost()}))}},{key:"render",value:function(){var t=this,e=this.state;e.post,e.showComments,e.commentText;return d.a.createElement("div",null,this.props.loadMore?d.a.createElement(j.a,{pageStart:0,initialLoad:!1,loadMore:this.loadFunc,hasMore:this.state.hasMore},this.state.postLoaded&&this.state.posts.map((function(e,n){return d.a.createElement(v.a,{coins:t.state.coins,post:e,filter:"",refreshHighlights:t.refreshHighlights,commentLike:t.commentLike,commentReply:t.commentReply,key:n,currentUser:t.props.currentUser})}))):this.state.postLoaded&&this.state.posts.map((function(e,n){return d.a.createElement(v.a,{coins:t.state.coins,post:e,filter:"",refreshHighlights:t.refreshHighlights,commentLike:t.commentLike,commentReply:t.commentReply,key:n,currentUser:t.props.currentUser})})),this.state.showSkeleton&&d.a.createElement("div",null,Array(5).fill().map((function(e,n){return t.getSkeletonContent(n)}))),0===this.state.posts.length&&this.state.postLoaded&&d.a.createElement("div",{className:"post"},d.a.createElement("p",{className:"post-inner no-found"},"No Blogs Found")))}}]),n}(d.a.Component);e.a=k},842:function(t,e,n){"use strict";var a=n(29),s=n(30),r=n(32),o=n(31),c=n(0),i=n.n(c),u=n(45),l=n(480),p=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(t){var s;return Object(a.a)(this,n),(s=e.call(this,t)).componentDidMount=function(){s.getData()},s.componentDidUpdate=function(t){t.query!=s.props.query&&s.getData()},s.categoryChange=function(t){s.setState({cid:t,currentTab:0})},s.dataChange=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.getData(t),s.getRequests(t)},s.getData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t;e.page=s.state.page,e.limit=s.state.limit,e.key=void 0==s.props.query?"":s.props.query,e.mine=void 0==s.props.mine?"false":s.props.mine,e.userid=void 0==s.props.id?s.props.currentUser._id:s.props.id,Object(u.q)(e).then((function(t){s.setState({gigs:t.post})}),(function(t){console.log(t)}))},s.changeTab=function(t){s.setState({currentTab:t})},s.state={limit:void 0==t.limit?20:t.limit,page:1,cid:0,posts:[],query:t.query,data:{category:"",subCategory:"",priceFrom:"",priceTo:"",rating:"",key:""},gigs:[],currentTab:0},s}return Object(s.a)(n,[{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"tab mt-2 "},0==this.state.gigs.length?i.a.createElement("p",{className:"no-found"},"No Gigs Found"):i.a.createElement("div",{className:"row-1"},this.state.gigs.map((function(e,n){return i.a.createElement(l.a,Object.assign({},t.props,{post:e}))}))))}}]),n}(i.a.Component);e.a=p}}]);
//# sourceMappingURL=40.411bf6c0.chunk.js.map