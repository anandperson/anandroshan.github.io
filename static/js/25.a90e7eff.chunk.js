(this["webpackJsonpreact-redux-realworld-example-app"]=this["webpackJsonpreact-redux-realworld-example-app"]||[]).push([[25,6],{1060:function(e,t,a){},1282:function(e,t,a){"use strict";a.r(t);var n=a(8),s=a(7),r=a.n(s),c=a(13),o=a(53),i=a(29),l=a(30),u=a(38),m=a(32),p=a(31),d=a(0),f=a.n(d),h=a(934),g=a.n(h),b=(a(935),a(15)),v=a(33),E=a(35),w=a(24),j=a(11),y=(a(820),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).fetchData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(E.i)({key:e,id:n.props.match.params.id,lid:n.props.currentUser._id},!1).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({users:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},n.cancelRequest=function(e,t){Object(b.b)(!0,"Cancelling...! "),Object(E.b)({id:e},!0).then(function(){var e=Object(c.a)(r.a.mark((function e(a){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(b.b)(),delete(s=n.state.users)[t].request,n.props.refresh(),n.setState({users:s});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(b.b)()}))},n.addFriend=function(e,t){Object(b.b)(!0,"Following...! "),Object(E.e)({followerid:e},!0).then(function(){var e=Object(c.a)(r.a.mark((function e(a){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(b.b)(),(s=n.state.users)[t].following=a,n.setState({users:s});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(b.b)()}))},n.accept=function(e,t,a){Object(b.b)(!0,"Following...! "),0==a?Object(E.a)({id:e._id},!0).then(function(){var e=Object(c.a)(r.a.mark((function e(a){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(b.b)(),(s=n.state.users)[t].following=a,n.setState({users:s});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(b.b)()})):Object(E.b)({id:e.userid},!0).then(function(){var e=Object(c.a)(r.a.mark((function e(a){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(b.b)(),delete(s=n.state.users)[t].following,n.setState({users:s});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(b.b)()}))},n.cancelRequest=function(e,t,a){Object(b.b)(!0,"Cancelling...! "),Object(E.b)({id:e},!0).then(function(){var e=Object(c.a)(r.a.mark((function e(a){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(b.b)(),delete(s=n.state.users)[t].following,n.setState({users:s});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(b.b)()}))},n.search=function(e){var t=e.target.value;t.length>1?n.fetchData(t):""==t&&n.fetchData()},n.state={users:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){void 0!=typeof this.props.match&&void 0!=typeof e.match&&e.match.params.id!==this.props.match.params.id&&this.fetchData()}},{key:"render",value:function(){var e=this;return f.a.createElement("div",{className:"empty-inner-container-with-border myfriends friendsWidget widget"},f.a.createElement("div",{className:"container"},f.a.createElement("div",{className:"row"},f.a.createElement("ul",{className:"list-group w-100"},f.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center  widgetTitle"},"Friends",f.a.createElement("span",{className:"text-secondary pl-2"},f.a.createElement("form",{className:"form-inline my-2 my-lg-0"},f.a.createElement("div",{className:"input-group navbar--search friend-search"},f.a.createElement("div",{className:"input-group-append"},f.a.createElement("button",{className:"btn btn-secondary search-btn",type:"button"},f.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAABHNCSVQICAgIfAhkiAAAAUJJREFUKFOVkk1Ow0AMhZ+DumJBb0C5QVmiRIIjlCVK1CQnKNyA3qCcYDqogWV7hCA1sGx7AnIENl0h5SGHjpT+SBRvRuPxZ8+zLdjYc1YkFTAQoKsuAjMCwzT0ly6meYpe7GQ+hkgMcgWRHGSbIj0BzgRI+6E/3oVFKxEwAIZx6D+6AGMWba+1zgmc8/v0Ik0vv7Yq2sm8/kocBfUXm2ZePzpeVX0K+dCPgtE2mBUE8BSH/v0hLTYrSpB5HAXJPkja3QcXZH8Tb8nQN7FZMSN5fUiHeXnveeT0UIPEZEXXAxYElvS82/TuqtSMCklVGRFZxaF/s9dVdWxmONL2EygF6GwC3wB0SE6TKHjYm2NdwSzaJ621jqYLEYVLnZ/NCu3mgMA4Cf3UwfUC/GVuQZrwUWBzuxx8NOhgEclVwr/ApqQfxlSUD3f1kOUAAAAASUVORK5CYII="}))),f.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search",onChange:this.search})))))),this.state.users.map((function(t,a){return f.a.createElement("ul",{className:"list-group w-100",key:a},f.a.createElement("li",{className:"list-group-item"},f.a.createElement("div",{className:"media"},f.a.createElement("div",{className:"media-left"},f.a.createElement(j.a,{href:"/u/"+t._id},f.a.createElement("img",{className:"media-object circle widgetAvatar",src:Object(w.d)(t.avatar),alt:"..."}))),f.a.createElement("div",{className:"media-body"},f.a.createElement(j.a,{href:"/u/"+t._id},f.a.createElement("p",{className:"media-heading"},t.name))),t._id!=e.props.currentUser._id&&f.a.createElement("div",{className:"media-right"},void 0==t.following&&f.a.createElement(v.a,{variant:"primary-outline",size:"compact",onClick:function(){return e.addFriend(t._id,a)}},"Add"),void 0!=t.following&&"pending"==t.following.request&&t.following.userid==e.props.currentUser._id&&f.a.createElement(v.a,{variant:"dark",size:"compact",layout:"dropdown",dropdownOptions:["Cancel"],onClick:function(n){console.log(t),e.cancelRequest(t.following.followerid,a,n)}},"Pending"),void 0!=t.following&&"pending"==t.following.request&&t.following.followerid==e.props.currentUser._id&&f.a.createElement(v.a,{variant:"dark",layout:"dropdown",dropdownOptions:["Accept","Reject"],size:"compact",onClick:function(n){return e.accept(t.following,a,n)}},"Respond")))))})),0===this.state.users.length?f.a.createElement("ul",{className:"list-group w-100"},f.a.createElement("li",{className:"list-group-item d-flex justify-content-center align-items-center"},f.a.createElement("p",null,"No Friends"))):null)))}}]),a}(f.a.Component)),O=a(66),N=a(842),k=a(782),C=(a(784),a(804)),S=a(788),x=a.n(S),P=a(783),_=(a(787),a(73),a(65)),U=a(197),R=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).checkWallet=function(){console.log("okaoay"),Object(U.a)().then((function(e){console.log("okaokay"),s.getCoins()}),(function(e){console.log("notokaokay"),console.log(e)}))},s.getCoins=function(){var e=localStorage.getItem("allPairs");null!=e&&s.setState({coins:JSON.parse(e)},(function(){s.setState({coinsLoaded:!0})})),Object(_.l)().then((function(e){localStorage.setItem("allPairs",JSON.stringify(e.data)),console.log(e.data),s.setState({coins:e.data},(function(){s.setState({coinsLoaded:!0})}))}),(function(e){console.log(e)}))},s.getPaginatePost=function(){Object(E.n)({userid:s.props.id,limit:s.state.limit,page:s.state.page,mine:s.props.mine},!0).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({posts:[].concat(Object(k.a)(s.state.posts),Object(k.a)(t.post)),hasMore:!!(t.post&&t.post.length>0),postLoaded:!0,showSkeleton:!1});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){s.setState({postLoaded:!0,showSkeleton:!1})}))},s.loadFunc=function(){s.state.showSkeleton||(s.setState({showSkeleton:!0}),s.setState((function(e){return Object(n.a)(Object(n.a)({},e),{},{page:e.page+1,showSkeleton:!0})}),(function(){s.getPaginatePost()})))},s.commentLike=function(e,t){Object(E.v)({postid:e,commentId:t},!0).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Like"==t.message||t.message;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},s.commentReply=function(e,t,a,n,s){Object(E.E)({postid:e,commentId:t,comment:a},!0).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t.comment,n);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},s.likePost=function(e,t){Object(E.w)({postid:e},!0).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},s.postCmt=function(e){var t={postid:e,comment:s.state.commentText};Object(E.y)(t).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},s.showComments=function(e){Object(E.f)({postid:e},!0).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({showComments:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},s.refreshHighlights=function(){},s.handleChange=function(e,t){var a=e.target,r=a.name,c=a.value;"replyCmt"!=e.target.name?s.setState(Object(o.a)({},r,c),(function(){})):s.setState(Object(o.a)({},"".concat(r),Object(n.a)(Object(n.a)({},s.state.replyCmt),{},Object(o.a)({},t,c))),(function(){}))},s.getSkeletonContent=function(e){return f.a.createElement("div",{className:"row empty-inner-container-with-border post",key:e},f.a.createElement("div",{className:"container"},f.a.createElement("div",{className:"row"},f.a.createElement("ul",{className:"list-group w-100 m-0"},f.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},f.a.createElement(P.a,{speed:2,width:610,height:350,viewBox:"0 0 610 350",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},f.a.createElement("rect",{x:"48",y:"8",rx:"3",ry:"3",width:"88",height:"6"}),f.a.createElement("rect",{x:"48",y:"26",rx:"3",ry:"3",width:"52",height:"6"}),f.a.createElement("rect",{x:"0",y:"56",rx:"3",ry:"3",width:"410",height:"6"}),f.a.createElement("rect",{x:"0",y:"72",rx:"3",ry:"3",width:"380",height:"6"}),f.a.createElement("rect",{x:"0",y:"88",rx:"3",ry:"3",width:"178",height:"6"}),f.a.createElement("circle",{cx:"20",cy:"20",r:"20"}),f.a.createElement("rect",{x:"0",y:"88",rx:"3",ry:"3",width:"900",height:"1000"})))))))},s.state={query:e.query,posts:[],page:1,coins:[],coinsLoaded:!1,limit:null==e.limit?5:e.limit,hasMore:!0,postLoaded:!1,showSkeleton:!1,showComments:!1,commentText:""},s.commentLike=s.commentLike.bind(Object(u.a)(s)),s.loadFunc=s.loadFunc.bind(Object(u.a)(s)),s.likePost=s.likePost.bind(Object(u.a)(s)),s.getPaginatePost=s.getPaginatePost.bind(Object(u.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getPaginatePost(),this.checkWallet()}},{key:"componentDidUpdate",value:function(e){void 0!=typeof this.props.match&&void 0!=typeof e.match&&e.match.params.id!==this.props.match.params.id&&this.getPaginatePost()}},{key:"componentWillReceiveProps",value:function(){var e=this;if(this.props.latestpost&&this.props.latestpost.userid){var t=this.props.latestpost,a=this.state.posts,n=a.find((function(e){return e._id==t._id}));n&&n._id||(a.unshift(t),this.setState({posts:[]},(function(){e.setState({posts:a})})))}}},{key:"render",value:function(){var e=this,t=this.state;t.post,t.showComments,t.commentText;return f.a.createElement("div",null,f.a.createElement(x.a,{pageStart:0,initialLoad:!1,loadMore:this.loadFunc,hasMore:this.state.hasMore},this.state.postLoaded&&this.state.posts.map((function(t,a){return f.a.createElement(C.a,{coins:e.state.coins,post:t,filter:"",refreshHighlights:e.refreshHighlights,commentLike:e.commentLike,commentReply:e.commentReply,key:a,currentUser:e.props.currentUser})}))),(this.state.showSkeleton||!this.state.coinsLoaded)&&f.a.createElement("div",null,Array(5).fill().map((function(t,a){return e.getSkeletonContent(a)}))),0===this.state.posts.length&&this.state.postLoaded&&f.a.createElement("div",{className:"post"},f.a.createElement("p",{className:"post-inner no-found"},"No Blogs Found")))}}]),a}(f.a.Component),T=a(810),A=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getPaginatePost=function(){Object(E.o)({userid:s.props.id,limit:s.state.limit,page:s.state.page},!0).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({posts:[].concat(Object(k.a)(s.state.posts),Object(k.a)(t.post)),hasMore:!!(t.post&&t.post.length>0),postLoaded:!0,showSkeleton:!1});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){s.setState({postLoaded:!0,showSkeleton:!1})}))},s.loadFunc=function(){s.state.showSkeleton||(s.setState({showSkeleton:!0}),s.setState((function(e){return Object(n.a)(Object(n.a)({},e),{},{page:e.page+1,showSkeleton:!0})}),(function(){s.getPaginatePost()})))},s.commentLike=function(e,t){Object(E.v)({postid:e,commentId:t},!0).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Like"==t.message||t.message;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},s.commentReply=function(e,t,a,n,s){Object(E.E)({postid:e,commentId:t,comment:a},!0).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t.comment,n);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},s.likePost=function(e,t){Object(E.w)({postid:e},!0).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},s.postCmt=function(e){var t={postid:e,comment:s.state.commentText};Object(E.y)(t).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},s.showComments=function(e){Object(E.f)({postid:e},!0).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({showComments:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},s.refreshHighlights=function(){s.props.refreshHighlights()},s.handleChange=function(e,t){var a=e.target,r=a.name,c=a.value;"replyCmt"!=e.target.name?s.setState(Object(o.a)({},r,c),(function(){})):s.setState(Object(o.a)({},"".concat(r),Object(n.a)(Object(n.a)({},s.state.replyCmt),{},Object(o.a)({},t,c))),(function(){}))},s.getSkeletonContent=function(e){return f.a.createElement("div",{className:"row empty-inner-container-with-border post",key:e},f.a.createElement("div",{className:"container"},f.a.createElement("div",{className:"row"},f.a.createElement("ul",{className:"list-group w-100 m-0"},f.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},f.a.createElement(P.a,{speed:2,width:610,height:350,viewBox:"0 0 610 350",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},f.a.createElement("rect",{x:"48",y:"8",rx:"3",ry:"3",width:"88",height:"6"}),f.a.createElement("rect",{x:"48",y:"26",rx:"3",ry:"3",width:"52",height:"6"}),f.a.createElement("rect",{x:"0",y:"56",rx:"3",ry:"3",width:"410",height:"6"}),f.a.createElement("rect",{x:"0",y:"72",rx:"3",ry:"3",width:"380",height:"6"}),f.a.createElement("rect",{x:"0",y:"88",rx:"3",ry:"3",width:"178",height:"6"}),f.a.createElement("circle",{cx:"20",cy:"20",r:"20"}),f.a.createElement("rect",{x:"0",y:"88",rx:"3",ry:"3",width:"900",height:"1000"})))))))},s.state={query:e.query,posts:[],page:1,limit:5,hasMore:!0,postLoaded:!1,showSkeleton:!1,showComments:!1,commentText:""},s.commentLike=s.commentLike.bind(Object(u.a)(s)),s.loadFunc=s.loadFunc.bind(Object(u.a)(s)),s.likePost=s.likePost.bind(Object(u.a)(s)),s.getPaginatePost=s.getPaginatePost.bind(Object(u.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getPaginatePost()}},{key:"componentDidUpdate",value:function(e){var t=this;if(console.log("updated"),e.match.params.id!=this.props.match.params.id){var a=this.props.latestpost,n=this.state.posts,s=n.find((function(e){return e._id==a._id}));s&&s._id||(n.unshift(a),this.setState({posts:[]},(function(){t.setState({posts:n})})))}}},{key:"componentWillReceiveProps",value:function(){var e=this;if(this.props.latestpost&&this.props.latestpost.userid){var t=this.props.latestpost,a=this.state.posts,n=a.find((function(e){return e._id==t._id}));n&&n._id||(a.unshift(t),this.setState({posts:[]},(function(){e.setState({posts:a})})))}}},{key:"render",value:function(){var e=this,t=this.state;t.post,t.showComments,t.commentText;return f.a.createElement("div",null,f.a.createElement(x.a,{pageStart:0,initialLoad:!1,loadMore:this.loadFunc,hasMore:this.state.hasMore},this.state.postLoaded&&this.state.posts.map((function(t,a){return f.a.createElement(T.a,{post:t,filter:"",refreshHighlights:e.refreshHighlights,commentLike:e.commentLike,commentReply:e.commentReply,key:a,currentUser:e.props.currentUser})}))),this.state.showSkeleton&&f.a.createElement("div",null,Array(5).fill().map((function(t,a){return e.getSkeletonContent(a)}))),0===this.state.posts.length&&this.state.postLoaded&&f.a.createElement("div",{className:"post"},f.a.createElement("p",{className:"post-inner no-found"},"No Posts Found")))}}]),a}(f.a.Component),I=a(479),M=a(67),L=a(70),F=a(885),D=(a(1060),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).selectModal=function(e){s.setState({modal:!s.state.modal})},s.setStateFunc=function(e,t){s.setState(Object(o.a)({},e,t))},s.refreshHighlights=function(){s.setState({refreshing:!0},(function(){s.setState({refreshing:!1})}))},s.goToMessage=function(e){Object(L.e)(),s.props.openChat(e)},s.getChat=function(){Object(L.a)({id:s.state.id}).then((function(e){s.goToMessage(e)}),(function(e){console.log(e)}))},s.refresh=function(){var e=Object(u.a)(s);s.setState({refreshing:!0}),setTimeout((function(){e.setState({refreshing:!1})}),500)},s.filterPosts=function(e){s.setState({latestpost:{},filter:e})},s.checkRequest=function(){Object(F.a)({id:s.state.id},!0).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({request:t.request,cid:t._id,followerid:t.followerid});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){s.setState({request:"",cid:0,followerid:0})}))},s.addFriend=function(e,t){Object(b.b)(!0,"Following...! "),Object(E.e)({followerid:e},!0).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(b.b)(),s.checkRequest();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(b.b)(),s.checkRequest()}))},s.accept=function(e,t){Object(b.b)(!0,"Following...! "),0==t?Object(E.a)({id:s.state.cid},!0).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){Object(b.b)(),s.checkRequest(),s.getProfile(),s.getExtras()}),1e3);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(b.b)(),s.checkRequest()})):Object(E.b)({id:e},!0).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(b.b)(),s.checkRequest();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(b.b)(),s.checkRequest()}))},s.cancelRequest=function(e,t){Object(b.b)(!0,"Cancelling...! "),Object(E.b)({id:e},!0).then(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(b.b)(),s.checkRequest();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(b.b)(),s.checkRequest()}))},s.getProfile=function(){Object(F.b)({id:s.state.id}).then((function(e){console.log(e),s.setState({user:e})}))},s.getExtras=function(){Object(F.c)({id:s.state.id}).then((function(e){s.setState({workplaces:e.workplaces,emails:e.emails,mobiles:e.mobiles,educations:e.educations,homes:e.homes,currents:e.currents,friends:e.friends,posts:e.posts})}))},s.changeTab=function(e){s.setState({loading:!0});var t=0==e?s.state.sent:s.state.received;s.setState({currentTab:e,loading:!1,content:t})},s.switch=function(e){s.setState({about:e})},s.choosePic=function(){document.getElementById("profilePic").click()},s.updateProfilePic=function(e){var t=e.target.files[0];console.log(t),s.setState({profilePic:URL.createObjectURL(t),modal:!0})},s.goToEdit=function(){s.setState({currentTab:0,generalEdit:!0}),setTimeout((function(){s.myRef.scrollIntoView()}),300)},s.goToFeed=function(){s.setState({currentTab:1}),setTimeout((function(){s.myRef2.scrollIntoView()}),300)},s.addNew=function(e){s.setState(Object(o.a)({},e,!0))},s.closeNew=function(e){s.setState(Object(o.a)({},e,!1))},s.handleChange=function(e){var t=e.target.value,a=e.target.name,r=e.target.getAttribute("data-type"),c=Object(n.a)({},s.state[r]);c[a]=t,s.setState(Object(o.a)({},r,c))},s.crop=function(e){s.setState({crop:e})},s.submit=function(e,t){e.preventDefault(),Object(F.f)(s.state[t]).then((function(e){console.log(e),"general"==t?window.location.reload():(s.setState(Object(o.a)({},t+"_edit",!1)),s.getExtras())}),(function(e){}))},s.onImageLoaded=function(e){s.imageRef=e},s.onCropComplete=function(e){},s.getCroppedImg=function(e,t,a){var n=document.createElement("canvas"),s=e.naturalWidth/e.width,r=e.naturalHeight/e.height;return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,t.x*s,t.y*r,t.width*s,t.height*r,0,0,t.width,t.height),new Promise((function(e,t){n.toBlob((function(t){t.name=a,e(t)}),"image/jpeg",1)}))},s.savePic=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.imageRef&&s.state.crop.width&&s.state.crop.height)){e.next=5;break}return e.next=3,s.getCroppedImg(s.imageRef,s.state.crop,Date.now()+".jpeg");case 3:t=e.sent,Object(F.e)({avatar:t}).then((function(e){window.location.reload()}),(function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)}))),s.state={id:s.props.match.params.id,friends:0,posts:0,currentTab:0,latestpost:{},request:"",cid:0,followerid:0,filter:"",about:0,generalEdit:!1,profilePic:"",refreshing:!1,modal:!1,messages:[],user:{},general:{type:"general",name:"",username:"",bio:"",password:""},work_edit:!1,workplaces:[],work:{type:"workplaces",designation:"",company:"",city:"",country:""},education_edit:!1,educations:[],education:{type:"educations",course:"",institution:"",city:"",country:""},current_edit:!1,currents:[],current:{type:"current_cities",city:"",country:""},home_edit:!1,homes:[],home:{type:"hometown",city:"",country:""},email_edit:!1,emails:[],email:{type:"emails",email:""},mobile_edit:!1,mobiles:[],mobile:{type:"mobiles",mobile:""},crop:{aspect:1,width:230}},s.myRef=f.a.createRef(),s.myRef2=f.a.createRef(),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.match.params.id==this.props.currentUser._id?window.location.href="/profile":(console.log(this.props),this.checkRequest(),this.getProfile(),this.getExtras()),void 0!=this.props.currentUser&&Object(M.a)(this.props.currentUser._id),Object(M.b)((function(e){-1!=window.location.href.indexOf("/u")&&window.location.reload()}))}},{key:"componentDidUpdate",value:function(e){console.log(e),void 0!=e&&void 0!=this.props.match.params.id&&e.match.params.id!=this.props.match.params.id&&(console.log("hii"),this.props.match.params.id==this.props.currentUser._id?window.location.href="/profile":(window.location.href="/u/"+this.props.match.params.id,console.log(e.match.params.id,this.props.match.params.id)))}},{key:"render",value:function(){var e=this,t=this.state.user,a=(this.state.cid,this.state.request),n=this.state.followerid,s=this.state.id;return f.a.createElement("div",{className:"profilePage"},f.a.createElement(O.a,{displayModal:this.state.modal,closeModal:this.selectModal},f.a.createElement(g.a,{src:this.state.profilePic,crop:this.state.crop,onChange:this.crop,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete}),f.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},f.a.createElement(v.a,{variant:"primary",size:"compact m-2",onClick:this.savePic},"Save"),f.a.createElement(v.a,{variant:"secondary",size:"compact m-2",onClick:this.selectModal},"Cancel"))),f.a.createElement("div",{className:"container my-wall-container "},f.a.createElement("div",{className:"row mt-2"},f.a.createElement("div",{className:"col-sm empty-container-with-out-border center-column"},f.a.createElement("div",{className:"container"},f.a.createElement("div",{className:"row smFlex"},f.a.createElement("div",{className:"col-md-12 p-0"},f.a.createElement("div",{className:"d-flex align-items-start justify-content-between bg-primary rounded mr-0 xsFlex"},f.a.createElement("div",{className:"profile-pic",style:{backgroundImage:"url("+Object(w.d)(t.avatar)+")"}}),f.a.createElement("div",{className:"user-meta"},""==a&&f.a.createElement(v.a,{variant:"white",onClick:function(){return e.addFriend(s)}},"Add"),"accepted"==a&&f.a.createElement(v.a,{variant:"white",onClick:this.getChat},"Chat"),"pending"==a&&n==s&&f.a.createElement(v.a,{variant:"white",layout:"dropdown",dropdownOptions:["Cancel"],onClick:function(t){return e.cancelRequest(s,t)}},"Pending"),"pending"==a&&n!=s&&f.a.createElement(v.a,{variant:"white",layout:"dropdown",dropdownOptions:["Accept","Reject"],onClick:function(t){return e.accept(s,t)}},"Respond"),f.a.createElement("div",{className:"name"},t.name),f.a.createElement("div",{className:"job"},t.job),f.a.createElement("div",{className:"location"},t.location),f.a.createElement("div",{className:"hr-div d-flex align-items-center justify-content-start"},f.a.createElement("div",{className:"mr-4"},this.state.posts," Posts"),f.a.createElement("div",null,this.state.friends," Friends")),f.a.createElement("div",{className:"bio"},t.about))))),f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-md-12 mt-3 mb-3 bg-main rounded"},f.a.createElement("div",{className:"p-2"},f.a.createElement("h3",{className:"overview"},"Overview"),f.a.createElement("ul",{className:"about"},f.a.createElement("li",null,f.a.createElement("i",{className:"fa fa-suitcase"}),f.a.createElement("span",null,void 0!=this.state.workplaces[0]?this.state.workplaces[0].designation+" at ":""),f.a.createElement("strong",null,void 0!=this.state.workplaces[0]?this.state.workplaces[0].company:"")),f.a.createElement("li",null,f.a.createElement("i",{className:"fa fa-graduation-cap"}),f.a.createElement("span",null,void 0!=this.state.educations[0]?this.state.educations[0].course+" at ":""),f.a.createElement("strong",null,void 0!=this.state.educations[0]?this.state.educations[0].institution:"")),f.a.createElement("li",null,f.a.createElement("i",{className:"fa fa-home"}),f.a.createElement("span",null,void 0!=this.state.currents[0]?this.state.currents[0].city+", ":""),f.a.createElement("strong",null,void 0!=this.state.currents[0]?this.state.currents[0].country:"")),f.a.createElement("li",null,f.a.createElement("i",{className:"fa fa-map-marker"}),f.a.createElement("span",null,void 0!=this.state.homes[0]?this.state.homes[0].city+", ":""),f.a.createElement("strong",null,void 0!=this.state.homes[0]?this.state.homes[0].country:"")))))),f.a.createElement("div",{className:"row sm-m-0 "},f.a.createElement(I.a,{tabs:["Feed","Friends","Blogs","Gigs"],className:"noBorder",currentTab:this.state.currentTab,changeTab:this.changeTab,width:"auto"}),0==this.state.currentTab&&f.a.createElement("div",{className:"tabPanelItem",ref:function(t){return e.myRef2=t}},f.a.createElement(A,Object.assign({query:"",id:s,setState:this.setStateFunc,latestpost:this.state.latestpost},this.props,{refreshHighlights:this.refreshHighlights,mine:!0}))),1==this.state.currentTab&&f.a.createElement("div",{className:"tabPanelItem"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-md-12"},f.a.createElement("div",{className:""},!this.state.refreshing&&f.a.createElement(y,Object.assign({},this.props,{refresh:this.refresh})))))),2==this.state.currentTab&&f.a.createElement("div",{className:"tabPanelItem"},f.a.createElement(R,Object.assign({query:"",id:s,setState:this.setStateFunc,latestpost:this.state.latestpost},this.props,{refreshHighlights:this.refreshHighlights,type:"blogs",mine:!0}))),3==this.state.currentTab&&f.a.createElement("div",{className:"tabPanelItem"},f.a.createElement(N.a,Object.assign({query:"",id:s,setState:this.setStateFunc,latestpost:this.state.latestpost},this.props,{refreshHighlights:this.refreshHighlights,mine:!0})))))))))}}]),a}(f.a.Component));t.default=D},784:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"t",(function(){return o})),a.d(t,"k",(function(){return i})),a.d(t,"i",(function(){return l})),a.d(t,"p",(function(){return u})),a.d(t,"l",(function(){return m})),a.d(t,"j",(function(){return p})),a.d(t,"h",(function(){return d})),a.d(t,"d",(function(){return f})),a.d(t,"b",(function(){return h})),a.d(t,"s",(function(){return g})),a.d(t,"q",(function(){return b})),a.d(t,"a",(function(){return v})),a.d(t,"n",(function(){return E})),a.d(t,"o",(function(){return w})),a.d(t,"m",(function(){return j})),a.d(t,"r",(function(){return y})),a.d(t,"f",(function(){return O})),a.d(t,"g",(function(){return N}));var n=a(2),s=a(4),r=function(e){return new Promise((function(t,a){Object(s.a)("".concat(n.a.baseUrl,"get-blog-categories"),!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},c=function(e){return new Promise((function(t,a){Object(s.c)(n.a.baseUrl+"create-blog-post",!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},o=function(e){return new Promise((function(t,a){Object(s.c)(n.a.baseUrl+"update-blog-post",!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},i=function(e,t){return new Promise((function(a,r){Object(s.a)(n.a.baseUrl+"get-blog-posts",t,e).then((function(e){a(e.data)})).catch((function(e){r(e.response)}))}))},l=function(e){return new Promise((function(t,a){Object(s.a)(n.a.baseUrl+"get-filtered-blog-posts",!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},u=function(e){return new Promise((function(t,a){Object(s.c)(n.a.baseUrl+"remove-blog-post",!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},m=function(e){return new Promise((function(t,a){Object(s.a)(n.a.baseUrl+"get-blog",!1,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},p=function(e){return new Promise((function(t,a){Object(s.a)(n.a.baseUrl+"get-popular-blogs",!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},d=function(e){return new Promise((function(t,a){Object(s.a)(n.a.baseUrl+"get-category-blogs",!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},f=function(e){return new Promise((function(t,a){Object(s.a)(n.a.baseUrl+"get-author-blogs",!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},h=function(e){return new Promise((function(t,a){Object(s.c)(n.a.baseUrl+"blog-clap",!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},g=function(e){return new Promise((function(t,a){Object(s.c)(n.a.baseUrl+"send-tips",!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},b=function(e){return new Promise((function(t,a){Object(s.c)(n.a.baseUrl+"purchase-blog",!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},v=function(e){return new Promise((function(t,a){Object(s.a)(n.a.baseUrl+"check-purchased-blog",!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},E=function(e,t){return new Promise((function(a,r){Object(s.c)(n.a.baseUrl+"like-blog",t,e).then((function(e){a(e.data)})).catch((function(e){r(e.response)}))}))},w=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(a,r){Object(s.c)(n.a.baseUrl+"comment-blog",t,e).then((function(e){a(e.data)})).catch((function(e){r(e.response)}))}))},j=function(e,t){return new Promise((function(a,r){Object(s.c)(n.a.baseUrl+"like-comment-blog",t,e).then((function(e){a(e.data)})).catch((function(e){r(e.response)}))}))},y=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(a,r){Object(s.c)(n.a.baseUrl+"reply-comment-blog",t,e).then((function(e){a(e.data)})).catch((function(e){r(e.response)}))}))},O=function(e){return new Promise((function(t,a){Object(s.a)(n.a.baseUrl+"get-blog-draft",!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},N=function(e){return new Promise((function(t,a){Object(s.a)(n.a.baseUrl+"blog-stats",!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))}},787:function(e,t,a){"use strict";var n=a(7),s=a.n(n),r=a(13),c=a(14),o=a(0),i=a.n(o),l=a(35),u=a(15),m=a(24),p=a(2);t.a=function(e){var t=i.a.useState(e.post),a=Object(c.a)(t,2),n=a[0],o=(a[1],i.a.useState("post")),d=Object(c.a)(o,2),f=(d[0],d[1],i.a.useState("")),h=Object(c.a)(f,2),g=h[0],b=h[1];return i.a.createElement("div",{className:"social-wall-share-popup "},i.a.createElement("div",{className:"modal-content share-popup--content"},i.a.createElement("div",{className:"modal-header d-flex align-items-center"},i.a.createElement("h5",{className:"modal-title"},"Share"),i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:e.closeShareModal},i.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),i.a.createElement("div",{className:"modal-body"},i.a.createElement("div",{className:"shareIcons text-center mb-2"},"blog"==e.type?i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u="+encodeURI(p.a.frontEnd+"blog/"+n._id)},i.a.createElement("img",{src:Object(m.a)("facebook.png")})),i.a.createElement("a",{target:"_blank",href:"http://twitter.com/share?url="+encodeURI(p.a.frontEnd+"blog/"+n._id)},i.a.createElement("img",{src:Object(m.a)("twitter.png")}))):i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u="+encodeURI(p.a.frontEnd+"post/"+n._id)},i.a.createElement("img",{src:Object(m.a)("facebook.png")})),i.a.createElement("a",{target:"_blank",href:"http://twitter.com/share?url="+encodeURI(p.a.frontEnd+"post/"+n._id)},i.a.createElement("img",{src:Object(m.a)("twitter.png")})))),i.a.createElement("div",{className:"mb-2 text-center"},"-OR-"),i.a.createElement("ul",{className:"p-0 m-0 w-100"},i.a.createElement("li",{className:"list-group-item p-0 pt-1"},i.a.createElement("select",{className:"form-control custom-select",id:"",defaultValue:"DEFAULT"},i.a.createElement("option",{disabled:!0,value:"DEFAULT"}," Share on my wall"))),i.a.createElement("li",{className:"list-group-item p-0 pt-2"},i.a.createElement("textarea",{name:"inputText",id:"",cols:"30",rows:"4",placeholder:"Message",value:g,onChange:function(e){b(e.target.value)}})))),i.a.createElement("div",{className:"modal-footer d-flex align-items-center pt-1"},i.a.createElement("button",{type:"button",className:"btn btn-secondary cancel-btn","data-dismiss":"modal",onClick:e.closeShareModal},"Cancel"),i.a.createElement("button",{type:"button",className:"btn btn-primary yes-btn",onClick:function(){Object(u.b)(!0,"Please wait. Your post sharing...!"),Object(l.H)({postid:n._id,text:g,type:e.type},!0).then(function(){var t=Object(r.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.shareSuccess(),e.closeShareModal(),Object(u.b)();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.closeShareModal(),Object(u.b)()}))}},"Send"))))}},792:function(e,t,a){},794:function(e,t,a){},803:function(e,t,a){"use strict";var n=a(14),s=a(0),r=a.n(s),c=(a(64),a(11)),o=(a(228),a(21)),i=(a(792),a(25));t.a=function(e){var t=Object(s.useState)(e.post),l=Object(n.a)(t,2),u=l[0],m=l[1];return Object(s.useEffect)((function(){m(e.post)}),[e.post]),r.a.createElement("div",{className:"card leftThumbCard",key:e.k},r.a.createElement("div",{className:"card-thumb pointer",style:{backgroundImage:"url("+e.thumb+")"},onClick:function(){return t=e.url,void o.a.push(t);var t}},"draft"==u.status&&r.a.createElement("small",{className:"badge badge-secondary draft-label ml-2 mt-1"},"Draft")),r.a.createElement("div",{className:"card-body"},void 0!=e.currentUser&&void 0==e.shared&&e.authorid==e.currentUser._id?r.a.createElement("span",{className:"list-group-item  p-1 pr-2 pointer  dropdown pull-right"},r.a.createElement("i",{className:"fa fa-ellipsis-h"}),r.a.createElement("div",{className:"dropdown-menu hasUpArrow dropdown-menu-right"},r.a.createElement(i.a,{to:"/edit-blog/"+u.slug,className:"dropdown-item"},r.a.createElement("img",{className:"mr-1",src:a(199)}),r.a.createElement("span",{className:"m-1"},"Edit")),void 0!=e.currentUser&&u.sharedBy==e.currentUser._id||u.userid==e.currentUser._id&&r.a.createElement("a",{className:"dropdown-item",onClick:function(t){return e.removePost(u._id)}},r.a.createElement("img",{className:"mr-1",src:a(198)}),r.a.createElement("span",{className:"m-1"},"Remove")))):r.a.createElement("span",{className:"list-group-item  p-1 pr-2 pointer  dropdown pull-right"},r.a.createElement("i",{className:"fa fa-ellipsis-h"}),r.a.createElement("div",{className:"dropdown-menu hasUpArrow dropdown-menu-right"},e.reported?r.a.createElement("a",{onClick:function(){return e.unReport()},className:"dropdown-item"},r.a.createElement("i",{className:"fa fa-undo"}),r.a.createElement("span",{className:"m-1"},"Undo Report")):r.a.createElement("a",{onClick:function(){return e.report()},className:"dropdown-item"},r.a.createElement("i",{className:"fa fa-exclamation-circle"}),r.a.createElement("span",{className:"m-1"},"Report")),e.saved?r.a.createElement("a",{onClick:function(){return e.unSave()},className:"dropdown-item"},r.a.createElement("i",{className:"fa fa-undo"}),r.a.createElement("span",{className:"m-1"},"Remove from Wishlist")):r.a.createElement("a",{onClick:function(){return e.save()},className:"dropdown-item"},r.a.createElement("i",{className:"fa fa-plus"}),r.a.createElement("span",{className:"m-1"},"Add to Wishlist")))),r.a.createElement(c.a,{href:e.url},r.a.createElement("h3",{className:"card-title"},e.title," ")," "),r.a.createElement("div",null,r.a.createElement("div",{className:"card-description"},void 0!=e.description&&e.description.replace(/<\/?[^>]+(>|$)/g,"").toString()),r.a.createElement("div",null,r.a.createElement("a",{href:e.url,className:"readmore"},"Read more"))),void 0==e.shared&&r.a.createElement("div",{className:"card-stats"},r.a.createElement("div",null,r.a.createElement("strong",null,e.likes)," ",r.a.createElement("i",{className:"fa fa-hand-paper-o"})),r.a.createElement("div",null,r.a.createElement("strong",null,e.shares)," ",r.a.createElement("i",{className:"fa fa-share-alt"})),r.a.createElement("div",null,r.a.createElement("strong",null,e.comments)," ",r.a.createElement("i",{className:"fa fa-comment-o"})),r.a.createElement("div",null,r.a.createElement("strong",null,"$",e.tips.toFixed(2))," ",r.a.createElement("i",null,"Tips")),r.a.createElement("div",{className:"card-sub-title"},e.category))))}},804:function(e,t,a){"use strict";var n=a(53),s=a(8),r=a(7),c=a.n(r),o=a(13),i=a(29),l=a(30),u=a(38),m=a(32),p=a(31),d=a(0),f=a.n(d),h=(a(73),a(66)),g=(a(812),a(35)),b=a(74),v=a(784),E=(a(813),a(787)),w=a(15),j=(a(11),a(24)),y=(a(228),a(2),a(1227)),O=a(803),N=a(33);a(794);a(814);var k=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).extractUrl=function(e){var t=new RegExp(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/gi);return e.match(t)},r.reportModal=function(){r.setState({reportModal:!r.state.reportModal})},r.componentDidMount=function(){r.props.single&&r.showComments(r.state.post._id);try{var e=JSON.parse(r.props.post.editorContent);r.setState({postText:e.blocks[0].data.text})}catch(t){r.setState({postText:r.props.post.text})}r.getCoins()},r.getCoins=function(){r.setState({coins:r.props.coins},(function(){if(console.log(r.state.post.tips,r.state.coins),void 0!=r.state.post&&void 0!=r.state.post.tips&&void 0!=r.state.coins){var e=r.state.post.tips.length;if(e>0){var t=0;r.state.post.tips.map((function(a,n){var s=r.state.coins.findIndex((function(e,t){return e.currencySymbol===a.currency}));try{t+=a.amount/r.state.coins[s].EstimatedUSD}catch(c){}n==e-1&&r.setState({tips:t})}))}}}))},r.postActivityCount=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",a=r.state.post;a[e]||(a[e]=0),a[e]="sub"==t?a[e]-1:a[e]+1,r.setState({post:a})},r.editPost=function(e){},r.save=function(e){Object(b.i)({postid:e}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(w.a)(!0,t.message,"success"),r.setState({saved:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(w.a)(!0,e.data.message)}))},r.unSave=function(e){Object(b.l)({postid:e}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(w.a)(!0,t.message,"success"),r.setState({saved:!1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(w.a)(!0,e.data.message)}))},r.report=function(e){if(""==r.state.category)Object(w.a)(!0,"You need to select a category");else{var t="blog/"+e.slug;Object(g.z)({id:e._id,type:"blog",link:t,category:r.state.category,reason:r.state.reason}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(w.a)(!0,t.message,"success"),r.setState({reportModal:!1,reported:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(w.a)(!0,e.data.message),r.setState({reportModal:!1})}))}},r.unReport=function(e){Object(g.A)({id:e._id}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(w.a)(!0,t.message,"success"),r.setState({reported:!1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(w.a)(!0,e.data.message)}))},r.hidePost=function(e){Object(b.f)({postid:e}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(w.a)(!0,t.message,"success"),r.setState({post:Object(s.a)(Object(s.a)({},r.state.post),{},{hidden:1})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(w.a)(!0,e.data.message)}))},r.unhidePost=function(e){Object(b.j)({postid:e}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(w.a)(!0,t.message,"success"),r.setState({post:Object(s.a)(Object(s.a)({},r.state.post),{},{hidden:0})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(w.a)(!0,e.data.message)}))},r.removePost=function(e){r.setState({last:e,open:!0})},r.removePostConfirm=function(){var e=r.state.last;r.setState({open:!1,last:null}),Object(v.p)({postid:e}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(w.a)(!0,t.message,"success"),r.setState({post:Object(s.a)(Object(s.a)({},r.state.post),{},{removed:1})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(w.a)(!0,e.data.message)}))},r.highlightPost=function(e){Object(b.g)({postid:e}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(w.a)(!0,t.message,"success"),r.setState({post:Object(s.a)(Object(s.a)({},r.state.post),{},{highlighted:1})},(function(){}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(w.a)(!0,e.data.message)}))},r.unHighlight=function(e){Object(b.k)({postid:e}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(w.a)(!0,t.message,"success"),r.setState({post:Object(s.a)(Object(s.a)({},r.state.post),{},{highlighted:0})},(function(){}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(w.a)(!0,e.data.message)}))},r.likePostFn=function(e,t){r.setState({post:Object(s.a)(Object(s.a)({},r.state.post),{},{likeActive:1-t})}),Object(v.n)({postid:e},!0).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Like"==t.message?r.postActivityCount("likesCount"):"Dislike"==t.message&&r.postActivityCount("likesCount","sub");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(w.a)(!0,e.data.message)}))},r.sharePost=function(e){r.setState({shareModel:!0,currPost:e})},r.closeShareModal=function(){r.setState({shareModel:!1})},r.handleOnReady=function(){return setTimeout((function(){return r.setState({playing:!0})}),100)},r.handleClose=function(){return r.setState({open:!r.state.open})},r.postCmt=function(e){if(""!=r.state.commentText&&null!=r.state.commentText){Object(w.b)(!0,"Please wait. Commenting...");var t={postid:e,comment:r.state.commentText};Object(v.o)(t).then(function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.postActivityCount("cmtsCount"),(a=r.state.post).comment||(a.comment=[]),a.comment.unshift(t.comment),r.setState({post:a,showComments:!0,commentText:""}),Object(w.b)();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(w.a)(!0,e.data.message),Object(w.b)()}))}},r.showComments=function(e){Object(w.b)(!0,"Please wait. Getting Comments..."),Object(g.f)({postid:e},!0).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(w.b)(),r.setState({post:Object(s.a)(Object(s.a)({},r.state.post),{},{comment:t})}),r.setState({showComments:!0});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(w.a)(!0,e.data.message),Object(w.b)()}))},r.handleChange=function(e,t){var a=e.target,c=a.name,o=a.value;"replyCmt"!=e.target.name?r.setState(Object(n.a)({},c,o),(function(){})):r.setState(Object(n.a)({},"".concat(c),Object(s.a)(Object(s.a)({},r.state.replyCmt),{},Object(n.a)({},t,o))),(function(){}))},r.shareSuccess=function(){r.postActivityCount("shareCount")},r.showCommentReply=function(e){var t=r.state.post.comment.findIndex((function(t){return t._id===e})),a=r.state.post;a.comment[t].showReply=!0,r.setState({post:a})},r.showCommentReplies=function(e){Object(w.b)(!0,"Please wait. Getting Comments..."),Object(g.p)({commentId:e},!0).then(function(){var t=Object(o.a)(c.a.mark((function t(a){var n,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(w.b)(),n=r.state.post.comment.findIndex((function(t){return t._id===e})),(s=r.state.post).comment[n].replies=a,r.setState({post:s});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(e){Object(w.a)(!0,e.data.message),Object(w.b)()}))},r.callBackCommentReply=function(e,t){var a=r.state.post;if(a.comment&&a.comment[t]){a.comment[t].replies?a.comment[t].replies.push(e):a.comment[t].replies=[e];var n=r.state.replyCmt;n[t]="",r.setState({post:a,replyCmt:n})}},r.getPostContent=function(e,t,a,n){return e.removed>0||e.hidden>0&&"hidden"!=r.props.filter?null:f.a.createElement(O.a,{reported:r.state.reported,saved:r.state.saved,report:r.reportModal,unReport:function(){return r.unReport(e)},save:function(){return r.save(e._id)},unSave:function(){return r.unSave(e._id)},url:"/blog/"+e.slug,thumb:Object(j.c)(void 0!=e.contents&&void 0!=e.contents[0]?e.contents[0].content_url:""),k:e._id,currentUser:r.props.currentUser,post:e,title:e.subject,likes:e.clapsCount,shares:e.shareCount,tips:r.state.tips,comments:e.cmtsCount,category:e.category,description:r.state.postText,removePost:r.removePost,authorid:e.userid})},r.state={open:!1,url:e.post.url,post:e.post,last:null,key:e.post._id,shareModel:!1,reported:1==e.post.reported,saved:1==e.post.saved,category:"",reason:"",reportModal:!1,currPost:{},coins:[],playing:!1,tips:0,showComments:!1,commentText:"",postText:"",replyCmt:[]},r.sharePost=r.sharePost.bind(Object(u.a)(r)),r.closeShareModal=r.closeShareModal.bind(Object(u.a)(r)),r}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){e.coins!=this.props.coins&&this.getCoins()}},{key:"render",value:function(){var e=this,t=this.state,a=t.post,n=t.showComments,s=t.commentText,r=t.replyCmt,c=t.key;return f.a.createElement("div",{className:"post ",key:c},f.a.createElement(h.a,{displayModal:this.state.reportModal,closeModal:this.reportModal},f.a.createElement("div",null,f.a.createElement("div",{className:"form-group"},f.a.createElement("select",{className:"form-control",value:this.state.category,onChange:function(t){return e.setState({category:t.target.value})}},f.a.createElement("option",{value:""},"Select Category"),f.a.createElement("option",null,"Violence"),f.a.createElement("option",null,"Racism / Hatespeech"),f.a.createElement("option",null,"Pornographic"),f.a.createElement("option",null,"Spam"),f.a.createElement("option",null,"Other"))),f.a.createElement("div",{className:"form-group"},f.a.createElement("textarea",{type:"text",placeholder:"Reason",className:"form-control",onChange:function(t){return e.setState({reason:t.target.value})},value:this.state.reason}))),f.a.createElement("div",{className:""},f.a.createElement(N.a,{variant:"primary",size:"compact m-2",onClick:function(){return e.report(a)}},"Report"),f.a.createElement(N.a,{variant:"secondary",size:"compact m-2",onClick:this.reportModal},"Cancel"))),f.a.createElement(y.a,{onClose:this.handleClose,className:"confirm-modal",open:this.state.open},f.a.createElement("strong",{className:"text-center p-2"},f.a.createElement("big",null,"Confirmation")),f.a.createElement("p",{className:"p-2"},"Are you sure about deleting this?"),f.a.createElement("div",{className:"p-2 d-flex align-items-center justify-content-around"},f.a.createElement(N.a,{onClick:this.handleClose,variant:"secondary"},"Cancel"),f.a.createElement(N.a,{onClick:this.removePostConfirm,variant:"primary"},"Yes"))),a.sharedBy?null:this.getPostContent(a,n,s,r),this.state.shareModel&&f.a.createElement(E.a,{post:this.state.currPost,shareSuccess:this.shareSuccess,closeShareModal:this.closeShareModal}))}}]),a}(f.a.Component);t.a=k},810:function(e,t,a){"use strict";var n=a(53),s=a(8),r=a(7),c=a.n(r),o=a(13),i=a(29),l=a(30),u=a(38),m=a(32),p=a(31),d=a(0),f=a.n(d),h=a(25),g=a(33),b=a(66),v=a(73),E=a.n(v),w=a(812),j=a.n(w),y=a(35),O=a(74),N=(a(813),a(787)),k=(a(803),a(15)),C=a(11),S=a(24),x=a(1227),P=(a(2),a(86),a(89)),_=a(242),U=a.n(_),R=(a(492),a(243)),T=a.n(R),A=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).enableUpload=function(e){var t=e.join(",");a.setState({postAccept:t},(function(){a.postFileInput.current.click()}))},a.changeTwitter=function(){a.setState({twitter:!a.state.twitter})},a.changeVisibility=function(){a.setState({visibility:"public"===a.state.visibility?"onlyme":"public"})},a.removeURL=function(){a.setState({url:""})},a.clearCreatPostInputs=function(){a.setState({text:"",url:"",profileImg:"",postImgs:[],postAccept:"",displaySelectedItem:[],visibility:"public"})},a.switchLoader2=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";a.setState({loadTxt:e})},a.post=function(){var e=new FormData,t=a.state.text;t=t.replace("&nbsp;",""),e.append("id",a.props.post._id),e.append("postImgs",a.state.postImgs),e.append("postImgs2",a.state.contents),a.props.post.sharedBy?(e.append("sharedText",t),e.append("text",a.state.text2)):e.append("text",t),e.append("subject","Eclipton"),e.append("taggPeople",JSON.stringify(a.state.tags)),e.append("privacy",a.state.visibility),e.append("twitterPost",a.state.twitter),e.append("url",a.state.url),a.switchLoader2("Your post is being updated..."),Object(O.n)(e).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.success&&a.props.updatePost(t.post),a.switchLoader2();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){a.switchLoader2()}))},a.extractUrl=function(e){var t=new RegExp(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/gi);return e.match(t)},a.htmlToText=function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent},a.handleChange=function(e){var t=a.htmlToText(e.target.value);a.setState({text:t},(function(){var e=a.extractUrl(a.state.text);null!=e&&e.length>0&&a.url!=e[0]&&a.setState({url:e[0]})}))},a.toggleTag=function(){a.state.toggleTagInput||Object(y.r)({key:""},!0).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({suggestions:t},(function(){}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){})),a.setState({toggleTagInput:!a.state.toggleTagInput})},a.postFileInput=f.a.createRef(),a.reactTags=f.a.createRef(),a.contentEditable=f.a.createRef(),a.state={html:"<b>Hello <i>World</i></b>"},a.state={twitterID:0,twitter:!1,text:"",text2:"",loadTxt:"",url:"",profileImg:"",postImgs:[],postAccept:"",visibility:"public",tags:[],toggleTagInput:!1,suggestions:[],contents:[],displaySelectedItem:[]},a.handleChangeImage=a.handleChangeImage.bind(Object(u.a)(a)),a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.extractUrl=a.extractUrl.bind(Object(u.a)(a)),a.onDelete=a.onDelete.bind(Object(u.a)(a)),a.removeURL=a.removeURL.bind(Object(u.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.post;if(e.sharedBy)this.setState({text:e.sharedText,text2:e.text});else{this.setState({text:e.text,tags:e.taggedPeople,visibility:e.privacy,twitterPost:e.twitterPost,url:e.url,contents:e.contents});var t=[];if(e.contents.length>0){var a=e.contents[0].content_url.split(".").pop();if(-1!==P.b.indexOf("."+a)){t.push(f.a.createElement("img",{className:"displayPostImg",src:e.contents[0].content_url}))}else-1!==P.c.indexOf("."+a)?t.push("1 Video Selected"):-1!==P.a.indexOf("."+a)&&t.push("1 File Selected");this.setState({displaySelectedItem:t})}this.setState({twitterID:this.props.currentUser.twitterID})}}},{key:"handleChangeImage",value:function(e){var t=this;this.setState({postImgs:e.target.files[0]},(function(){var e=t.state.postImgs.name.split(".").pop(),a=[];if(-1!==P.b.indexOf("."+e)){a.push(f.a.createElement("img",{className:"displayPostImg",src:URL.createObjectURL(t.state.postImgs)}))}else-1!==P.c.indexOf("."+e)?a.push("1 Video Selected"):-1!==P.a.indexOf("."+e)&&a.push("1 File Selected");t.setState({displaySelectedItem:a})}))}},{key:"onDelete",value:function(e){var t=this.state.tags.slice(0);t.splice(e,1),this.setState({tags:t})}},{key:"onAddition",value:function(e){var t=[].concat(this.state.tags,e);this.setState({tags:t})}},{key:"render",value:function(){var e=this,t=this.state,n=t.postAccept,s=t.visibility,r=t.tags,c=t.toggleTagInput,o=t.displaySelectedItem,i=t.twitter;return f.a.createElement("div",{className:"empty-inner-container-with-border create-post"},f.a.createElement("div",{className:"container"},f.a.createElement("div",{className:"row"},f.a.createElement("ul",{className:"list-group w-100 m-0"},f.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},f.a.createElement("div",{className:"clearfix content-heading w-100"},f.a.createElement("p",{className:"mb-0"},"Edit post"),f.a.createElement("textarea",{className:"form-control pull-left border-0 p-1",placeholder:"Create",rows:"3",name:"text",value:this.state.text,onChange:this.handleChange}))),""!=this.state.url&&f.a.createElement("li",{className:"mt-2  d-flex align-items-start justify-content-center"},"  ",f.a.createElement("i",{onClick:this.removeURL,className:"fa fa-times removeIcon"})),o&&o.length>0&&f.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},f.a.createElement("div",{className:"clearfix content-heading w-100 pl-2 position-relative"},f.a.createElement("i",{className:"fa fa-times pointer removeImage",onClick:function(){return e.setState({displaySelectedItem:[],contents:[]})}}),o[0])),r.length>0&&f.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},f.a.createElement("div",{className:"clearfix content-heading w-100 tagedPeople"},f.a.createElement("ul",null,r.map((function(t,a){return f.a.createElement("li",{onClick:function(){return e.onDelete(a)},className:"btn-light",key:a},t.name," ",f.a.createElement("span",null,"X")," ")}))))),f.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center create-post-attachments p-1"},f.a.createElement("div",{className:"create-post-customize"},f.a.createElement("div",{className:"hide"},f.a.createElement("input",{type:"file",name:"file",accept:n,onChange:this.handleChangeImage,ref:this.postFileInput})),f.a.createElement("ul",{className:"list-group list-group-horizontal remove-border m-0"},f.a.createElement("li",{className:"list-group-item p-2"},f.a.createElement("button",{type:"button",className:"btn btn-light btn-sm tag",onClick:function(t){return e.enableUpload(P.b)}},f.a.createElement("img",{className:"m-0",src:a(236)}))),f.a.createElement("li",{className:"list-group-item p-2"+(!c&&" mr-auto")},f.a.createElement("button",{type:"button",className:"btn btn-light btn-sm tag",onClick:function(){return e.toggleTag()}},"Tag Connection")),c&&f.a.createElement("li",{className:"mr-auto list-group-item p-2"},f.a.createElement(U.a,{ref:this.reactTags,placeholderText:"Add Tags",suggestions:this.state.suggestions,autoresize:!1,onAddition:this.onAddition.bind(this)})),null!=this.state.twitterID&&this.state.twitterID>0&&f.a.createElement("li",{className:"list-group-item p-2"},f.a.createElement("img",{className:"pointer smallIcon",onClick:this.changeTwitter,src:a(204)("./"+(i?"twitter-filled.svg":"twitter-outline.svg"))}),f.a.createElement("span",{className:"m-1"})),f.a.createElement("li",{className:"list-group-item p-2"},f.a.createElement("img",{className:"pointer smallIcon",onClick:this.changeVisibility,src:a(493)("./"+("public"==s?"create-visibility-icon":"hide-visibility-icon@2x")+".png")}),f.a.createElement("span",{className:"m-1"},"Visibility")),f.a.createElement("li",{className:"list-group-item p-2 "},f.a.createElement("button",{type:"button",className:"btn btn-light btn-sm theme-btn",onClick:this.post},"Update")))))),""!=this.state.loadTxt&&f.a.createElement("div",{className:"d-block w-100"},f.a.createElement("small",{className:"text-center d-block text-danger"},this.state.loadTxt),f.a.createElement(T.a,{width:"100%",color:"#5931ea"})))))}}]),n}(f.a.Component),I=a(64),M=a(14),L=a(228),F=a(21),D=(a(792),function(e){var t=Object(d.useState)(e.post),a=Object(M.a)(t,2),n=a[0],s=(a[1],Object(d.useState)(e.contents)),r=Object(M.a)(s,2),c=r[0],o=(r[1],Object(d.useState)(e.userinfo)),i=Object(M.a)(o,2),l=i[0],u=(i[1],Object(d.useState)(e.type)),m=Object(M.a)(u,2),p=m[0];m[1];return f.a.createElement("div",{className:"card leftThumbCard",key:e.k},void 0==c[0]?null:f.a.createElement("div",{className:"card-thumb pointer",style:{backgroundImage:"url("+Object(S.c)(c[0].content_url)+")"},onClick:function(){return t=e.url,void F.a.push(t);var t}}),f.a.createElement("div",{className:"card-body"},f.a.createElement("div",{className:"d-flex align-items-center justify-content-between mb-2"},f.a.createElement(C.a,{href:"/u/"+n.userid,className:"highlight-userinfo"},f.a.createElement("div",{className:"highlight-profile-pic",style:{backgroundImage:"url(".concat(Object(S.d)(void 0==l?"":l.avatar),")")}}),f.a.createElement("div",null,void 0==l?"Unkown":l.name)),f.a.createElement("p",{className:"media-subheading"},f.a.createElement(E.a,{date:n.createdAt}))),"blog"==p&&f.a.createElement(C.a,{href:e.url},f.a.createElement("h3",{className:"card-title mb-1"},n.subject)),f.a.createElement("div",{className:"card-sub-title mb-1"},n.category),f.a.createElement(L.a,{lines:2,className:"card-description",ellipsis:f.a.createElement("span",null,"... ",f.a.createElement("a",{href:e.url},"Read more"))},void 0!=n.text&&n.text.replace(/<\/?[^>]+(>|$)/g,"")),f.a.createElement("div",null,f.a.createElement("strong",null,n.tags))))}),q=a(875);a(877);a(794);a(814);var z=function(e){Object(m.a)(r,e);var t=Object(p.a)(r);function r(e){var l;return Object(i.a)(this,r),(l=t.call(this,e)).extractUrl=function(e){var t=new RegExp(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/gi);return e.match(t)},l.componentDidMount=function(){console.log("mounted"),l.setState({post:l.props.post},(function(){var e=l.state.post;l.props.single&&(e.userid==l.props.currentUser._id||void 0!=e.settings[0]&&("Everyone"==e.settings[0].comments||"Friends"==e.settings[0].comments&&e.followings.length>0))&&l.showComments(l.state.post._id),l.processText()}));try{var e=l.props.post.contents[0].content_url;l.setState({images:[e]})}catch(t){}},l.processText=function(){var e;void 0!=l.state.post.text&&null!=l.state.post.text&&""!=l.state.post.text&&(e=(e=(e=l.state.post.text).replace(/(?:\r\n|\r|\n)/g,"<br>")).replace(/#[a-z]+/g,'<a target="_blank" href="/search?filter=posts&q=$&">$&</a>'),l.setState({content:e}));void 0!=l.state.post.sharedText&&null!=l.state.post.sharedText&&""!=l.state.post.sharedText&&(e=(e=(e=l.state.post.sharedText).replace(/(?:\r\n|\r|\n)/g,"<br>")).replace(/#[a-z]+/g,'<a target="_blank" href="/search?filter=posts&q=$&">$&</a>'),l.setState({sharedContent:e}))},l.postActivityCount=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",a=l.state.post;a[e]||(a[e]=0),a[e]="sub"==t?a[e]-1:a[e]+1,l.setState({post:a})},l.commentActivityCount=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"add",n=l.state.post,s=n.comment[e];s[t]||(s[t]=0),s[t]="sub"==a?s[t]-1:s[t]+1,n.comment[e]=s,l.setState({post:n})},l.editPost=function(e){l.setState({modal:!l.state.modal})},l.reportModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;console.log(e,t,a,n,s),null!=e&&l.setState({lastType:e,lastData:t,lastKey:a,lastComment:n,lastKey2:s}),l.setState({reportModal:!l.state.reportModal})},l.commentLike=function(e,t,a){Object(y.v)({postid:t,commentId:a},!0).then(function(){var t=Object(o.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"Like"==a.message?l.commentActivityCount(e,"likesCount"):"Dislike"==a.message&&l.commentActivityCount(e,"likesCount","sub");case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(e){}))},l.deleteComment=function(e,t,a){console.log(e,t,a),Object(y.C)({id:a},!0).then(function(){var a=Object(o.a)(c.a.mark((function a(n){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:"comment"==e?(l.showComments(t),l.postActivityCount("cmtsCount","sub")):(console.log("done"),l.showCommentReplies(t));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),(function(e){Object(k.a)(!0,e.data.message)}))},l.commentReply=function(e,t,a,n,s){""!=a&&null!=a&&Object(y.E)({postid:e,commentId:t,comment:a},!0).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t.comment,n);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){}))},l.savePost=function(e){Object(O.i)({postid:e}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(k.a)(!0,t.message,"success"),l.setState({post:Object(s.a)(Object(s.a)({},l.state.post),{},{saved:1})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(k.a)(!0,e.data.message)}))},l.unsavePost=function(e){Object(O.l)({postid:e}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(k.a)(!0,t.message,"success"),l.setState({post:Object(s.a)(Object(s.a)({},l.state.post),{},{saved:0})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(k.a)(!0,e.data.message)}))},l.report=function(){if(""==l.state.category)Object(k.a)(!0,"You need to select a category");else{var e=l.state.lastData,t=l.state.lastType,a=l.state.lastKey,n=l.state.lastComment,r=l.state.lastKey2;console.log(e,t,a,n,r);var i="";i="comment"==t||"reply"==t?e.text:"post/"+e._id,Object(y.z)({id:e._id,type:t,link:i,category:l.state.category,reason:l.state.reason}).then(function(){var e=Object(o.a)(c.a.mark((function e(n){var o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(k.a)(!0,n.message,"success"),"comment"==t?((o=l.state.post).comment[a].reported=1,l.setState({post:o,reportModal:!1})):"reply"==t?((o=l.state.post).comment[r].replies[a].reported=1,l.setState({post:o,reportModal:!1})):l.setState({reportModal:!1,post:Object(s.a)(Object(s.a)({},l.state.post),{},{reported:1})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(k.a)(!0,e.data.message),l.setState({reportModal:!1})}))}},l.unReport=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(y.A)({id:t}).then(function(){var t=Object(o.a)(c.a.mark((function t(r){var o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(k.a)(!0,r.message,"success"),"comment"==e?((o=l.state.post).comment[a].reported=0,l.setState({post:o})):"reply"==e?((o=l.state.post).comment[n].replies[a].reported=0,l.setState({post:o})):l.setState({post:Object(s.a)(Object(s.a)({},l.state.post),{},{reported:0})});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(e){Object(k.a)(!0,e.data.message)}))},l.hidePost=function(e){Object(O.f)({postid:e}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(k.a)(!0,t.message,"success"),l.setState({post:Object(s.a)(Object(s.a)({},l.state.post),{},{hidden:1})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(k.a)(!0,e.data.message)}))},l.unhidePost=function(e){Object(O.j)({postid:e}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(k.a)(!0,t.message,"success"),l.setState({post:Object(s.a)(Object(s.a)({},l.state.post),{},{hidden:0})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(k.a)(!0,e.data.message)}))},l.removePost=function(e){l.setState({last:e,open:!0})},l.removePostConfirm=function(){var e=l.state.last;l.setState({open:!1,last:null}),Object(O.h)({postid:e}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(k.a)(!0,t.message,"success"),l.setState({post:Object(s.a)(Object(s.a)({},l.state.post),{},{removed:1})}),Object(k.b)();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(k.a)(!0,e.data.message),Object(k.b)()}))},l.highlightPost=function(e){Object(O.g)({postid:e}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(k.a)(!0,t.message,"success"),l.setState({post:Object(s.a)(Object(s.a)({},l.state.post),{},{highlighted:1})},(function(){}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(k.a)(!0,e.data.message)}))},l.unHighlight=function(e){Object(O.k)({postid:e}).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(k.a)(!0,t.message,"success"),l.setState({post:Object(s.a)(Object(s.a)({},l.state.post),{},{highlighted:0})},(function(){}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(k.a)(!0,e.data.message)}))},l.likePostFn=function(e,t){l.setState({post:Object(s.a)(Object(s.a)({},l.state.post),{},{likeActive:1-t})}),Object(y.w)({postid:e},!0).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Like"==t.message?l.postActivityCount("likesCount"):"Dislike"==t.message&&l.postActivityCount("likesCount","sub");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(k.a)(!0,e.data.message)}))},l.sharePost=function(e){l.setState({shareModel:!0,currPost:e})},l.closeShareModal=function(){l.setState({shareModel:!1})},l.handleOnReady=function(){return setTimeout((function(){return l.setState({playing:!0})}),100)},l.handleClose=function(){return l.setState({open:!l.state.open})},l.postCmt=function(e){if(""!=l.state.commentText&&null!=l.state.commentText){Object(k.b)(!0,"Please wait. Commenting...");var t={postid:e,comment:l.state.commentText};Object(y.y)(t).then(function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.postActivityCount("cmtsCount"),(a=l.state.post).comment||(a.comment=[]),a.comment.unshift(t.comment),l.setState({post:a,showComments:!0,commentText:""}),Object(k.b)();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(k.a)(!0,e.data.message),Object(k.b)()}))}},l.showComments=function(e){Object(k.b)(!0,"Please wait. Getting Comments..."),Object(y.f)({postid:e},!0).then(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(k.b)(),l.setState({post:Object(s.a)(Object(s.a)({},l.state.post),{},{comment:t})}),l.setState({showComments:!0});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(k.a)(!0,e.data.message),Object(k.b)()}))},l.handleChange=function(e,t){var a=e.target,r=a.name,c=a.value;"replyCmt"!=e.target.name?l.setState(Object(n.a)({},r,c),(function(){})):l.setState(Object(n.a)({},"".concat(r),Object(s.a)(Object(s.a)({},l.state.replyCmt),{},Object(n.a)({},t,c))),(function(){}))},l.shareSuccess=function(){l.postActivityCount("shareCount")},l.showCommentReply=function(e){var t=l.state.post.comment.findIndex((function(t){return t._id===e})),a=l.state.post;a.comment[t].showReply=!0,l.setState({post:a})},l.updatePost=function(e,t){var a=Object(s.a)({},l.state.post);console.log(l.state.post),a.text=t.text,a.sharedText=t.sharedText,a.taggedPeople=t.taggedPeople,a.twitterPost=t.twitterPost,a.contents=t.contents,console.log(a),l.setState({modal:!1,post:a},(function(){l.processText()}))},l.showCommentReplies=function(e){Object(k.b)(!0,"Please wait. Getting Comments..."),Object(y.p)({commentId:e},!0).then(function(){var t=Object(o.a)(c.a.mark((function t(a){var n,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(a),Object(k.b)(),n=l.state.post.comment.findIndex((function(t){return t._id===e})),(s=l.state.post).comment[n].replies=a,l.setState({post:s}),l.showCommentReply(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(e){Object(k.a)(!0,e.data.message),Object(k.b)()}))},l.callBackCommentReply=function(e,t){var a=l.state.post;if(a.comment&&a.comment[t]){a.comment[t].replies?a.comment[t].replies.push(e):a.comment[t].replies=[e];var n=l.state.replyCmt;n[t]="",l.setState({post:a,replyCmt:n})}},l.getPostContent=function(e,t,n,s){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return e.removed>0||"onlyme"==e.privacy&&"hidden"!=l.props.filter&&e.userid!=l.props.currentUser._id?null:f.a.createElement("div",{className:"container post-inner",key:"".concat(e._id,"1")},f.a.createElement(x.a,{onClose:l.handleClose,className:"confirm-modal",open:l.state.open},f.a.createElement("strong",{className:"text-center p-2"},f.a.createElement("big",null,"Confirmation")),f.a.createElement("p",{className:"p-2"},"Are you sure about deleting this?"),f.a.createElement("div",{className:"p-2 d-flex align-items-center justify-content-around"},f.a.createElement(g.a,{onClick:l.handleClose,variant:"secondary"},"Cancel"),f.a.createElement(g.a,{onClick:l.removePostConfirm,variant:"primary"},"Yes"))),f.a.createElement("div",{className:"row"},f.a.createElement("ul",{className:"list-group w-100 m-0"},f.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},f.a.createElement("div",{className:"media w-100"},f.a.createElement("div",{className:"media-left"},f.a.createElement(C.a,{href:"/u/"+e.userinfo._id},f.a.createElement("img",{className:"media-object pic",src:Object(S.d)(e.userinfo.avatar),alt:"..."}))),f.a.createElement("div",{className:"media-body pagination-centered "},f.a.createElement(C.a,{href:"/u/"+e.userinfo._id},f.a.createElement("p",{className:"media-heading"},e.userinfo&&e.userinfo.name?e.userinfo.name:"")),f.a.createElement("p",{className:"media-subheading d-flex align-items-center justify-content-start"}," ",f.a.createElement(C.a,{href:"/post/"+(r?e.sharedPost:e._id)},f.a.createElement(E.a,{date:e.createdAt}))," ","onlyme"==e.privacy&&f.a.createElement("i",{className:"fa fa-lock ml-2"}))),!e.sharedBy&&f.a.createElement("div",{className:"media-right"},f.a.createElement("ul",{className:"d-flex align-items-center"},e.twitterPost&&f.a.createElement("li",{className:"list-group-item splLi"},f.a.createElement("img",{className:" extraSmallIcon",src:Object(S.a)("icons/twitter.svg")})),f.a.createElement("li",{className:"list-group-item  p-1 pr-2 pointer  dropdown"},f.a.createElement("i",{className:"fa fa-ellipsis-h"}),f.a.createElement("div",{className:"dropdown-menu hasUpArrow dropdown-menu-right"},e.userid==l.props.currentUser._id&&f.a.createElement("a",{className:"dropdown-item",onClick:function(t){return l.editPost(e._id)}},f.a.createElement("img",{className:"mr-1",src:a(199)}),f.a.createElement("span",{className:"m-1"},"Edit")),e.saved>0?f.a.createElement("a",{className:"dropdown-item",onClick:function(t){return l.unsavePost(e._id)}},f.a.createElement("img",{className:"mr-1",src:a(230)}),f.a.createElement("span",{className:"m-1"},"Un-Save")):f.a.createElement("a",{className:"dropdown-item",onClick:function(t){return l.savePost(e._id)}},f.a.createElement("img",{className:"mr-1",src:a(230)}),f.a.createElement("span",{className:"m-1"},"Save")),e.reported>0?f.a.createElement("a",{className:"dropdown-item",onClick:function(t){return l.unReport("post",e._id)}},f.a.createElement("i",{className:"mr-1 fa fa-undo"}),f.a.createElement("span",{className:"m-1"},"Undo-Report")):f.a.createElement("a",{className:"dropdown-item",onClick:function(){return l.reportModal("post",e)}},f.a.createElement("i",{className:"mr-1 fa fa-exclamation-circle"}),f.a.createElement("span",{className:"m-1"},"Report")),e.userid==l.props.currentUser._id&&f.a.createElement("a",{className:"dropdown-item",onClick:function(t){return l.removePost(e._id)}},f.a.createElement("img",{className:"mr-1",src:a(198)}),f.a.createElement("span",{className:"m-1"},"Remove")))))))),f.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center post-content-area"},f.a.createElement("div",{className:"container p-0"},f.a.createElement("div",{className:"post-content",dangerouslySetInnerHTML:{__html:l.state.content}}),void 0!=e.contents&&void 0!=e.contents[0]&&"Image"==e.contents[0].contenttype&&f.a.createElement("div",{className:"w-100 pointer post-thumb",onClick:function(){l.setState({isOpen:!0}),console.log(l.state.images)},style:{backgroundImage:"url(".concat(e.contents[0].content_url,")")}}),f.a.createElement("div",{className:"row"},f.a.createElement("span",{className:"set-overlay"},void 0!=e.contents&&void 0!=e.contents[0]&&"Video"==e.contents[0].contenttype&&f.a.createElement(j.a,{controls:!0,url:e.contents[0].content_url||"https://www.youtube.com/watch?v=ysz5S6PUM-U"}))),f.a.createElement("div",{className:"post-tags"},e.taggedPeople&&0!==e.taggedPeople.length&&f.a.createElement("div",{className:""},f.a.createElement("span",null," With ",e.taggedPeople.map((function(e,t){return f.a.createElement(h.a,{className:"taggedName",to:"/u/"+e._id,key:t},e.name)}))))),void 0!=e.sharedBy&&null!=e.sharedBy&&""!=e.sharedBy?l.getSharedContent(e.sharedType,"blog"==e.sharedType?e.sharedDataBlog:e.sharedDataPost,e.sharedContents,e.sharedUserInfo):null)),!e.sharedBy&&f.a.createElement("div",null,f.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center post-meta p-1 horizontal-line-fit-top mt-4"},f.a.createElement("div",{className:"col pl-1"},f.a.createElement("ul",{className:"list-group list-group-horizontal remove-border m-0 mt-1 mb-1"},f.a.createElement("li",{className:"list-group-item pointer",onClick:function(t){return l.likePostFn(e._id,e.likeActive)}},f.a.createElement("img",{src:1===e.likeActive?a(491):a(490)}),f.a.createElement("span",{className:"m-1"},e.likesCount>0&&f.a.createElement("span",{className:"m-1 font-weight-bold"}," ",e.likesCount," "))))),f.a.createElement("div",{className:"pr-1"},f.a.createElement("ul",{className:"list-group list-group-horizontal remove-border m-0 mt-1 mb-1"},(e.userid==l.props.currentUser._id||void 0!=e.settings[0]&&("Everyone"==e.settings[0].comments||"Friends"==e.settings[0].comments&&e.followings.length>0))&&f.a.createElement("li",{className:"list-group-item pl-0 pointer"},f.a.createElement("span",{className:"m-1",onClick:function(){return l.showComments(e._id)}},e.cmtsCount>0&&f.a.createElement("span",{className:"m-1 font-weight-bold"}," ",e.cmtsCount," ")," ",e.cmtsCount>1?"Comments":"Comment"," ")),(e.userid==l.props.currentUser._id||void 0!=e.settings[0]&&e.settings[0].allowSharing)&&f.a.createElement("li",{className:"list-group-item pl-0 pointer",onClick:function(t){return l.sharePost(e)}},f.a.createElement("span",{className:"m-1"},e.shareCount>0&&f.a.createElement("span",{className:"m-1 font-weight-bold"}," ",e.shareCount," ")," ",e.shareCount>1?"Shares":"Share"," "))))),!e.sharedBy&&t&&f.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center create-post-attachments p-1 horizontal-line-fit-top"},f.a.createElement("div",{className:"col pl-1"},f.a.createElement(g.a,{className:"commentBtn",onClick:function(){return l.postCmt(e._id)}},"COMMENT"),f.a.createElement("input",{className:"form-control tempcommentInput",type:"text",placeholder:"Add your comment",name:"commentText",value:n,onChange:function(e){return l.handleChange(e)}})))),!e.sharedBy&&t&&e.comment.map((function(t,n){return f.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center create-post-attachments p-1 horizontal-line-fit-top",key:n},f.a.createElement("div",{className:"col pl-1"},f.a.createElement("div",{className:"media w-100 align-items-center p-1 comment-row"},f.a.createElement("div",{className:"media-left mr-2"},f.a.createElement(C.a,{href:"/u/"+t.userinfo._id},f.a.createElement("img",{className:"media-object pic commentPic",src:Object(S.d)(t.userinfo.avatar),alt:"..."}))),f.a.createElement("div",{className:"media-body"},f.a.createElement(C.a,{href:"/u/"+t.userinfo._id},f.a.createElement("p",{className:"media-heading"},t.userinfo.name)),f.a.createElement("p",{className:"media-subheading"},t.text),f.a.createElement("div",{className:"d-flex"},f.a.createElement("span",{className:"mr-2 pointer",onClick:function(a){return l.commentLike(n,e._id,t._id)}},t.likeActive?"Liked":"Like","  ",t.likesCount&&t.likesCount>0?t.likesCount:""),f.a.createElement("span",{className:"mr-2 pointer",onClick:function(e){return l.showCommentReplies(t._id)}},t.repliesCount&&t.repliesCount>1?"Replies":"Reply"," ",t.repliesCount&&t.repliesCount>0?t.repliesCount:""))),f.a.createElement("div",{className:"media-right"},f.a.createElement("div",{className:"list-group-item  p-1 pr-2 pointer  dropdown"},f.a.createElement("i",{className:"fa fa-ellipsis-h"}),f.a.createElement("div",{className:"dropdown-menu hasUpArrow dropdown-menu-right"},(t.userinfo._id==l.props.currentUser._id||e.userid==l.props.currentUser._id)&&f.a.createElement("a",{className:"dropdown-item",onClick:function(a){return l.deleteComment("comment",e._id,t._id)}},f.a.createElement("img",{className:"mr-1",src:a(198)}),f.a.createElement("span",{className:"m-1"},"Delete")),t.userinfo._id!=l.props.currentUser._id?t.reported>0?f.a.createElement("a",{className:"dropdown-item",onClick:function(e){return l.unReport("comment",t._id,n)}},f.a.createElement("i",{className:"mr-1 fa fa-undo"}),f.a.createElement("span",{className:"m-1"},"Undo-Report")):f.a.createElement("a",{className:"dropdown-item",onClick:function(){return l.reportModal("comment",t,n)}},f.a.createElement("i",{className:"mr-1 fa fa-exclamation-circle"}),f.a.createElement("span",{className:"m-1"},"Report")):null)))),t.replies&&t.replies.map((function(s,r){return f.a.createElement("ul",{className:"media w-100 align-items-center p-2",key:r},f.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center w-100"},f.a.createElement("div",{className:"media align-items-center comment-row w-100"},f.a.createElement("div",{className:"media-left mr-2"},f.a.createElement(C.a,{href:"/u/"+s.userinfo._id},f.a.createElement("img",{className:"media-object pic replyPic",src:Object(S.d)(s.userinfo.avatar),alt:"..."}))),f.a.createElement("div",{className:"media-body"},f.a.createElement(C.a,{href:"/u/"+s.userinfo._id},f.a.createElement("p",{className:"media-heading"},(s.userinfo,s.userinfo.name))),f.a.createElement("p",{className:"media-subheading"},s.text)),f.a.createElement("div",{className:"media-right h-auto"},f.a.createElement("div",{className:"list-group-item  p-0 pl-2 pointer  dropdown"},f.a.createElement("i",{className:"vertical-dot fa fa-ellipsis-h"}),f.a.createElement("div",{className:"dropdown-menu hasUpArrow dropdown-menu-right"},(s.userinfo._id==l.props.currentUser._id||e.userid==l.props.currentUser._id)&&f.a.createElement("a",{className:"dropdown-item",onClick:function(e){return l.deleteComment("reply",t._id,s._id)}},f.a.createElement("img",{className:"mr-1",src:a(198)}),f.a.createElement("span",{className:"m-1"},"Delete")),s.userinfo._id!=l.props.currentUser._id?s.reported>0?f.a.createElement("a",{className:"dropdown-item",onClick:function(e){return l.unReport("reply",s._id,r,n)}},f.a.createElement("i",{className:"mr-1 fa fa-undo"}),f.a.createElement("span",{className:"m-1"},"Undo-Report")):f.a.createElement("a",{className:"dropdown-item",onClick:function(){return l.reportModal("reply",s,r,t,n)}},f.a.createElement("i",{className:"mr-1 fa fa-exclamation-circle"}),f.a.createElement("span",{className:"m-1"},"Report")):null))))))})),t.showReply&&f.a.createElement("div",{className:"col pl-4 mb-2"},f.a.createElement("input",{className:"form-control tempcommentInput",type:"text",placeholder:"Add your comment",name:"replyCmt",value:s[n],onChange:function(e){return l.handleChange(e,n)}}),f.a.createElement(g.a,{className:"commentBtn",onClick:function(){return l.commentReply(e._id,t._id,s[n],n,l.callBackCommentReply)}},"REPLY"))))})))),l.state.isOpen&&f.a.createElement(q.a,{id:"light"+e._id,enableZoom:!1,mainSrc:e.contents[0].content_url,onCloseRequest:function(){return l.setState({isOpen:!1})},onAfterOpen:console.log(document.querySelector(".ril-image-current"))}))},l.getSharedContent=function(e,t,a,n){return void 0==t?f.a.createElement("div",{className:"deleted"},f.a.createElement("i",{className:"fa fa-trash"})," This content was removed"):t.removed>0||t.hidden>0&&"hidden"!=l.props.filter?null:f.a.createElement(D,{type:e,url:"blog"==e?"/blog/"+t.slug:"/post/"+t._id,k:t._id,currentUser:l.props.currentUser,post:t,userinfo:n,contents:a})},l.state={images:[],photoIndex:0,isOpen:!1,open:!1,last:null,content:"",reason:"",category:"",sharedContent:"",url:e.post.url,post:null,key:e.post._id,shareModel:!1,currPost:{},playing:!1,reportModal:!1,modal:!1,showComments:!1,commentText:"",replyCmt:[]},l.sharePost=l.sharePost.bind(Object(u.a)(l)),l.closeShareModal=l.closeShareModal.bind(Object(u.a)(l)),l.postActivityCount=l.postActivityCount.bind(Object(u.a)(l)),l}return Object(l.a)(r,[{key:"render",value:function(){var e=this,t=this.state,a=t.post,n=t.showComments,s=t.commentText,r=t.replyCmt,c=t.key;return null==a?f.a.createElement("div",{className:"text-center"},f.a.createElement(I.a,null)):a.userid==this.props.currentUser._id||void 0!=a.settings[0]&&("Everyone"==a.settings[0].follow||"Friends"==a.settings[0].comments&&a.followings.length>0)?f.a.createElement(f.a.Fragment,null,f.a.createElement(b.a,{displayModal:this.state.reportModal,closeModal:this.reportModal},f.a.createElement("div",null,f.a.createElement("div",{className:"form-group"},f.a.createElement("select",{className:"form-control",value:this.state.category,onChange:function(t){return e.setState({category:t.target.value})}},f.a.createElement("option",{value:""},"Select Category"),f.a.createElement("option",null,"Violence"),f.a.createElement("option",null,"Racism / Hatespeech"),f.a.createElement("option",null,"Pornographic"),f.a.createElement("option",null,"Spam"),f.a.createElement("option",null,"Other"))),f.a.createElement("div",{className:"form-group"},f.a.createElement("textarea",{type:"text",placeholder:"Reason",className:"form-control",onChange:function(t){return e.setState({reason:t.target.value})},value:this.state.reason}))),f.a.createElement("div",{className:""},f.a.createElement(g.a,{variant:"primary",size:"compact m-2",onClick:function(){return e.report()}},"Report"),f.a.createElement(g.a,{variant:"secondary",size:"compact m-2",onClick:this.reportModal},"Cancel"))),f.a.createElement(b.a,{displayModal:this.state.modal,closeModal:this.editPost},f.a.createElement(A,Object.assign({},this.props,{post:a,updatePost:function(t){return e.updatePost(c,t)}}))),f.a.createElement("div",{className:"post ",key:c},this.getPostContent(a,n,s,r),this.state.shareModel&&f.a.createElement(N.a,{post:this.state.currPost,shareSuccess:this.shareSuccess,closeShareModal:this.closeShareModal}))):null}}]),r}(f.a.Component);t.a=z},820:function(e,t,a){},842:function(e,t,a){"use strict";var n=a(29),s=a(30),r=a(32),c=a(31),o=a(0),i=a.n(o),l=a(45),u=a(480),m=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).componentDidMount=function(){s.getData()},s.componentDidUpdate=function(e){e.query!=s.props.query&&s.getData()},s.categoryChange=function(e){s.setState({cid:e,currentTab:0})},s.dataChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.getData(e),s.getRequests(e)},s.getData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e;t.page=s.state.page,t.limit=s.state.limit,t.key=void 0==s.props.query?"":s.props.query,t.mine=void 0==s.props.mine?"false":s.props.mine,t.userid=void 0==s.props.id?s.props.currentUser._id:s.props.id,Object(l.q)(t).then((function(e){s.setState({gigs:e.post})}),(function(e){console.log(e)}))},s.changeTab=function(e){s.setState({currentTab:e})},s.state={limit:void 0==e.limit?20:e.limit,page:1,cid:0,posts:[],query:e.query,data:{category:"",subCategory:"",priceFrom:"",priceTo:"",rating:"",key:""},gigs:[],currentTab:0},s}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"tab mt-2 "},0==this.state.gigs.length?i.a.createElement("p",{className:"no-found"},"No Gigs Found"):i.a.createElement("div",{className:"row-1"},this.state.gigs.map((function(t,a){return i.a.createElement(u.a,Object.assign({},e.props,{post:t}))}))))}}]),a}(i.a.Component);t.a=m},885:function(e,t,a){"use strict";a.d(t,"e",(function(){return c})),a.d(t,"f",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return m}));var n=a(51),s=a(2),r=a(4),c=function(e){return new Promise((function(t,a){Object(r.b)(s.a.baseUrl+"updateProfile",!0,e).then((function(e){console.log(e.data.token),localStorage.setItem("jwt",e.data.token),localStorage.setItem("currentUser",JSON.stringify(e.data.userinfo)),n.a.setToken(e.data.token),t(e.data)})).catch((function(e){a(e.response)}))}))},o=function(e){return new Promise((function(t,a){Object(r.c)(s.a.baseUrl+"update-profile-extras",!0,e).then((function(a){if("general"==e.type)localStorage.setItem("jwt",a.data.token),localStorage.setItem("currentUser",JSON.stringify(a.data.userinfo)),n.a.setToken(a.data.token);else if("workplaces"==e.type||"current_cities"==e.types){console.log(a.data);var s=localStorage.getItem("currentUser");(s=JSON.parse(s)).city=a.data.city,s.job=a.data.job,console.log(s),localStorage.setItem("currentUser",JSON.stringify(s))}t(a.data)})).catch((function(e){a(e.response)}))}))},i=function(e){return new Promise((function(t,a){Object(r.a)(s.a.baseUrl+"get-profile-extras",!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},l=function(e){return new Promise((function(t,a){Object(r.a)(s.a.baseUrl+"get-global-profile-extras",!1,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},u=function(e){return new Promise((function(t,a){Object(r.a)(s.a.baseUrl+"get-global-profile",!1,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))},m=function(e){return new Promise((function(t,a){Object(r.a)("".concat(s.a.baseUrl,"check-friend-request"),!0,e).then((function(e){t(e.data)})).catch((function(e){a(e.response)}))}))}}}]);
//# sourceMappingURL=25.a90e7eff.chunk.js.map