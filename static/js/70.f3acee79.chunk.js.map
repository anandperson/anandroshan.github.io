{"version":3,"sources":["components/Post/Single.js","pages/SinglePost/index.js"],"names":["Single","props","getPost","getSinglePost","postid","match","params","userid","currentUser","_id","then","resp","a","setState","posts","post","showSkeleton","postLoaded","error","loadFunc","state","prevState","page","getPaginatePost","commentLike","commentId","likeComment","message","commentReply","comment","commentIndex","callBack","replyComment","likePost","postId","liked","postCmt","obj","commentText","postComment","showComments","getComments","handleChange","evt","index","target","name","value","replyCmt","getSkeletonContent","className","speed","width","height","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","cx","cy","r","limit","hasMore","bind","this","prevProps","undefined","length","Post","key","single","Array","fill","map","item","React","Component","SinglePost","setStateFunc","latestpost","Header","appName","id","tabIndex","role","aria-labelledby","aria-hidden","src","GetAssetImage","alt","type","data-dismiss","aria-label"],"mappings":"6TA2LeA,G,+DA/KX,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IA4BVC,QAAU,WACFC,YAAc,CAAEC,OAAQ,EAAKH,MAAMI,MAAMC,OAAOF,OAAQG,OAAS,EAAKN,MAAMO,aAAe,EAAKP,MAAMO,YAAYC,IAAM,EAAKR,MAAMO,YAAYC,IAAM,IACpJC,KADD,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACF,EAAKC,SAAS,CACVC,MAAOH,EAAKI,KACZC,cAAc,EACdC,YAAY,IAJd,2CADN,uDAOG,SAAAC,GAEC,EAAKL,SAAS,CAAEG,cAAc,QAvCvB,EA2CnBG,SAAW,WAEF,EAAKC,MAAMJ,eACZ,EAAKH,SAAS,CAAEG,cAAc,IAC9B,EAAKH,UAAS,SAAAQ,GACV,OAAO,2BACAA,GADP,IAEIC,KAAMD,EAAUC,KAAO,EACvBN,cAAc,OAEnB,WACC,EAAKO,uBAtDE,EA4DnBC,YAAc,SAACC,GAGXC,YAAY,CAAED,cAAa,GACtBf,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,sDACkB,QAAhBD,EAAKgB,SAEEhB,EAAKgB,QAHd,2CADV,uDAOO,SAAAT,QAtEQ,EA2EnBU,aAAe,SAACH,EAAWI,EAASC,EAAcC,GAC9CC,YAAa,CAAEP,YAAWI,YAAW,GAChCnB,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,sDACFmB,EAASpB,EAAKkB,QAASC,GADrB,2CADV,uDAGO,SAAAZ,QA/EQ,EAoFnBe,SAAW,SAACC,EAAQC,GAChBF,YAAS,CAAE7B,OAAQ8B,IAAU,GACxBxB,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,0FADV,uDAGO,SAAAM,QAxFQ,EA6FnBkB,QAAU,SAAChC,GAEP,IAAIiC,EAAM,CAAEjC,SAAQyB,QAAS,EAAKT,MAAMkB,aACxCC,YAAYF,GACP3B,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,0FADV,uDAGO,SAAAM,QAnGQ,EAwGnBsB,aAAe,SAACpC,GAEZqC,YAAY,CAAErC,WAAU,GACnBM,KADL,uCACU,WAAMC,GAAN,SAAAC,EAAA,sDACF,EAAKC,SAAS,CAAE2B,cAAc,IAD5B,2CADV,uDAGO,SAAAtB,QA7GQ,EAmHnBwB,aAAe,SAACC,EAAKC,GAAW,IAAD,EACHD,EAAIE,OAApBC,EADmB,EACnBA,KAAMC,EADa,EACbA,MACS,YAAnBJ,EAAIE,OAAOC,KACX,EAAKjC,SAAL,eAAiBiC,EAAOC,IAAS,eAEjC,EAAKlC,SAAL,yBAAoBiC,GAApB,2BAAkC,EAAK1B,MAAM4B,UAA7C,kBAAwDJ,EAAQG,MAAW,gBAxHhE,EA6HnBE,mBAAqB,WACjB,OACI,yBAAKC,UAAU,8CACX,yBAAKA,UAAU,aACX,yBAAKA,UAAU,OACX,wBAAIA,UAAU,wBACV,wBAAIA,UAAU,qEACV,kBAAC,IAAD,eACIC,MAAO,EACPC,MAAO,IACPC,OAAQ,IACRC,QAAQ,cACRC,gBAAgB,UAChBC,gBAAgB,WACZ,EAAKvD,OAET,0BAAMwD,EAAE,KAAKC,EAAE,IAAIC,GAAG,IAAIC,GAAG,IAAIR,MAAM,KAAKC,OAAO,MACnD,0BAAMI,EAAE,KAAKC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIR,MAAM,KAAKC,OAAO,MACpD,0BAAMI,EAAE,IAAIC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIR,MAAM,MAAMC,OAAO,MACpD,0BAAMI,EAAE,IAAIC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIR,MAAM,MAAMC,OAAO,MACpD,0BAAMI,EAAE,IAAIC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIR,MAAM,MAAMC,OAAO,MACpD,4BAAQQ,GAAG,KAAKC,GAAG,KAAKC,EAAE,OAC1B,0BAAMN,EAAE,IAAIC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIR,MAAM,MAAMC,OAAO,gBAjJhF,EAAKjC,MAAQ,CAETN,MAAO,GACPQ,KAAM,EACN0C,MAAO,EACPC,SAAS,EACThD,YAAY,EACZD,cAAc,EACdwB,cAAc,EACdF,YAAa,IAEjB,EAAKnB,SAAW,EAAKA,SAAS+C,KAAd,gBAChB,EAAKjC,SAAW,EAAKA,SAASiC,KAAd,gBAChB,EAAKhE,QAAU,EAAKA,QAAQgE,KAAb,gBAfA,E,gEAmBfC,KAAKjE,Y,yCAGUkE,QACgBC,UAApBF,KAAKlE,MAAMI,YAAgDgE,UAAnBD,EAAU/D,OAAsB+D,EAAU/D,MAAMC,OAAOF,SAAW+D,KAAKlE,MAAMI,MAAMC,OAAOF,QAC3I+D,KAAKjE,Y,+BAoID,IAAD,SACwCiE,KAAK/C,MAA1CN,EADH,EACGA,MADH,EACU0B,aADV,EACwBF,YAE7B,OACI,8BACM6B,KAAKlD,YAAcH,EAAMwD,OAAS,EAChC,kBAACC,EAAA,EAAD,CAAMxD,KAAMD,EAAM,GAAIU,YAAa2C,KAAK3C,YAAaI,aAAcuC,KAAKvC,aAAc4C,IAAK,EAAGhE,YAAa2D,KAAKlE,MAAMO,YAAaiE,QAAQ,IACzI,KAEJN,KAAK/C,MAAMJ,eAAiBmD,KAAK/C,MAAMH,YACrC,6BACKyD,MAAM,GAAGC,OAAOC,KAAI,SAACC,EAAMjC,GAAP,OAAiB,EAAKK,8B,GAxK9C6B,IAAMC,Y,QCLrBC,E,kDACJ,WAAY/E,GAAQ,IAAD,8BACjB,cAAMA,IAKRgF,aAAe,SAACT,EAAIzB,GAClB,EAAKlC,SAAL,eAAgB2D,EAAKzB,KALrB,EAAK3B,MAAQ,CACX8D,WAAY,IAHG,E,kGAcb,OAEI,6BACE,kBAACC,EAAA,EAAD,CAAQC,QAASjB,KAAKlE,MAAMmF,QAAW5E,YAAa2D,KAAKlE,MAAMO,cACjE,yBAAK0C,UAAU,+BACb,yBAAKA,UAAU,YAGb,yBAAKA,UAAU,uDAGf,yBAAKA,UAAU,wDACb,kBAAC,EAAD,eAAQrC,SAAUsD,KAAKc,aAAcC,WAAYf,KAAK/C,MAAM8D,YAAiBf,KAAKlE,SAIpF,yBAAKiD,UAAU,0DAQnB,yBAAKmC,GAAG,UAAUnC,UAAU,8BAA8BoC,SAAS,KAAKC,KAAK,SAASC,kBAAgB,eACpGC,cAAY,QACZ,yBAAKvC,UAAU,gBACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,cACb,yBAAKwC,IAAKC,YAAc,qBAAsBzC,UAAU,uBAUhE,yBAAKA,UAAU,2BAA2BmC,GAAG,oBAAoBC,SAAS,KAAKC,KAAK,SAClFC,kBAAgB,+BAA+BC,cAAY,QAC3D,yBAAKvC,UAAU,qCAAqCqC,KAAK,YACvD,yBAAKrC,UAAU,iBACb,yBAAKA,UAAU,0CACb,yBAAKwC,IAAKC,YAAc,iBAAkBC,IAAI,KAC9C,wBAAI1C,UAAU,cAAcmC,GAAG,8BAA/B,gBACA,4BAAQQ,KAAK,SAAS3C,UAAU,QAAQ4C,eAAa,QAAQC,aAAW,SACtE,0BAAMN,cAAY,QAAlB,UAGJ,yBAAKvC,UAAU,cACb,+EAEF,yBAAKA,UAAU,gBACb,4BAAQ2C,KAAK,SAAS3C,UAAU,+BAA+B4C,eAAa,SAA5E,UACA,4BAAQD,KAAK,SAAS3C,UAAU,2BAAhC,WAQR,yBAAKA,UAAU,2BAA2BmC,GAAG,sBAAsBC,SAAS,KAAKC,KAAK,SACpFC,kBAAgB,iCAAiCC,cAAY,QAC7D,yBAAKvC,UAAU,qCAAqCqC,KAAK,YACvD,yBAAKrC,UAAU,iBACb,yBAAKA,UAAU,0CACb,yBAAKwC,IAAKC,YAAc,iBAAkBC,IAAI,KAC9C,wBAAI1C,UAAU,cAAcmC,GAAG,gCAA/B,gBACA,4BAAQQ,KAAK,SAAS3C,UAAU,QAAQ4C,eAAa,QAAQC,aAAW,SACtE,0BAAMN,cAAY,QAAlB,UAGJ,yBAAKvC,UAAU,cACb,uEAEF,yBAAKA,UAAU,gBACb,4BAAQ2C,KAAK,SAAS3C,UAAU,+BAA+B4C,eAAa,SAA5E,UACA,4BAAQD,KAAK,SAAS3C,UAAU,2BAAhC,gB,GA9FK4B,IAAMC,WAyGhBC","file":"static/js/70.f3acee79.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { getProfilePosts, getPosts, likeComment, replyComment, likePost, postComment, getComments } from '../../http/http-calls';\nimport {getSinglePost } from '../../http/post-calls';\nimport Post from './Post';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport ContentLoader from \"react-content-loader\";\nimport Share from './Share';\nimport TimeAgo from 'react-timeago';\n\n\nclass Single extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            \n            posts: [],\n            page: 1,\n            limit: 5,\n            hasMore: true,\n            postLoaded: false,\n            showSkeleton: false,\n            showComments: false,\n            commentText: ''\n        }\n        this.loadFunc = this.loadFunc.bind(this);\n        this.likePost = this.likePost.bind(this);\n        this.getPost = this.getPost.bind(this);\n    }\n\n    componentDidMount() {\n        this.getPost();\n    }\n\n    componentDidUpdate(prevProps) {\n        if (typeof this.props.match != undefined && typeof prevProps.match != undefined && prevProps.match.params.postid !== this.props.match.params.postid) {\n          this.getPost();\n        }\n    }\n \n\n    getPost = () => {\n            getSinglePost({ postid: this.props.match.params.postid, userid: (this.props.currentUser && this.props.currentUser._id ? this.props.currentUser._id : 0)})\n            .then(async resp => {\n                this.setState({\n                    posts: resp.post,\n                    showSkeleton: false,\n                    postLoaded: true\n                });\n            }, error => {\n                \n                this.setState({ showSkeleton: false });\n            });\n    }\n\n    loadFunc = () => {\n\n        if (!this.state.showSkeleton) {\n            this.setState({ showSkeleton: true })\n            this.setState(prevState => {\n                return {\n                    ...prevState,\n                    page: prevState.page + 1,\n                    showSkeleton: true\n                }\n            }, () => {\n                this.getPaginatePost();\n            })\n        }\n\n    }\n\n    commentLike = (commentId) => {\n\n        // this.setState({ post: { ...this.state.post, likeActive: 1 - liked } });\n        likeComment({ commentId }, true)\n            .then(async resp => {\n                if (resp.message == 'Like') {\n                    //this.postActivityCount('likesCount');\n                } else if (resp.message == 'Dislike') {\n                   // this.postActivityCount('likesCount', 'sub');\n                }\n            }, error => {\n                \n            });\n    }\n\n    commentReply = (commentId, comment, commentIndex, callBack) => {\n        replyComment({ commentId, comment }, true)\n            .then(async resp => {\n                callBack(resp.comment, commentIndex)\n            }, error => {\n                \n            });\n    }\n\n    likePost = (postId, liked) => {\n        likePost({ postid: postId }, true)\n            .then(async resp => {\n\n            }, error => {\n                \n            });\n    }\n\n    postCmt = (postid) => {\n\n        let obj = { postid, comment: this.state.commentText };\n        postComment(obj)\n            .then(async resp => {\n\n            }, error => {\n                \n            });\n    }\n\n    showComments = (postid) => {\n\n        getComments({ postid }, true)\n            .then(async resp => {\n                this.setState({ showComments: true });\n            }, error => {\n                \n\n            });\n    }\n\n    handleChange = (evt, index) => {\n        const { name, value } = evt.target;\n        if (evt.target.name != 'replyCmt') {\n            this.setState({ [name]: value }, () => { });\n        } else {\n            this.setState({ [`${name}`]: { ...this.state.replyCmt, [index]: value } }, () => {\n            });\n        }\n    }\n\n    getSkeletonContent = () => {\n        return (\n            <div className=\"row empty-inner-container-with-border post\">\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <ul className=\"list-group w-100 m-0\">\n                            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n                                <ContentLoader\n                                    speed={2}\n                                    width={610}\n                                    height={350}\n                                    viewBox=\"0 0 610 350\"\n                                    backgroundColor=\"#f3f3f3\"\n                                    foregroundColor=\"#ecebeb\"\n                                    {...this.props}\n                                >\n                                    <rect x=\"48\" y=\"8\" rx=\"3\" ry=\"3\" width=\"88\" height=\"6\" />\n                                    <rect x=\"48\" y=\"26\" rx=\"3\" ry=\"3\" width=\"52\" height=\"6\" />\n                                    <rect x=\"0\" y=\"56\" rx=\"3\" ry=\"3\" width=\"410\" height=\"6\" />\n                                    <rect x=\"0\" y=\"72\" rx=\"3\" ry=\"3\" width=\"380\" height=\"6\" />\n                                    <rect x=\"0\" y=\"88\" rx=\"3\" ry=\"3\" width=\"178\" height=\"6\" />\n                                    <circle cx=\"20\" cy=\"20\" r=\"20\" />\n                                    <rect x=\"0\" y=\"88\" rx=\"3\" ry=\"3\" width=\"900\" height=\"1000\" />\n                                </ContentLoader>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n    render() {\n        const { posts, showComments, commentText } = this.state;\n\n        return (\n            <div>\n                {!this.postLoaded && posts.length > 0 ?\n                    <Post post={posts[0]} commentLike={this.commentLike} commentReply={this.commentReply} key={0} currentUser={this.props.currentUser} single={true} />\n                    : null\n                }\n                {(this.state.showSkeleton && !this.state.postLoaded) &&\n                    <div>\n                        {Array(5).fill().map((item, index) => this.getSkeletonContent())}\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nexport default Single;\n","import React from 'react';\nimport Header from '../../components/Header/index';\nimport Single from '../../components/Post/Single';\nimport { GetAssetImage } from '../../globalFunctions';\n\n\nclass SinglePost extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      latestpost: {}\n    };\n  }\n  setStateFunc = (key,value) => {\n    this.setState({[key]:value});\n  }\n  componentDidMount() {\n    \n  }\n\n    render() {\n        return (\n            // <!-- Wall container -->\n            <div>\n              <Header appName={this.props.appName}   currentUser={this.props.currentUser}   />\n            <div className=\"container my-wall-container\">\n              <div className=\"row mt-2\">\n\n                {/* <!-- left column --> */}\n                <div className=\"col-sm empty-container-with-out-border left-column\">\n                </div>\n\n                <div className=\"col-sm empty-container-with-out-border center-column\">\n                  <Single setState={this.setStateFunc} latestpost={this.state.latestpost}  {...this.props}  />\n                </div>\n             \n                {/* <!--  right column --> */}\n                <div className=\"col-sm empty-container-with-out-border right-column\">\n               \n                </div>\n                {/* <!-- end right column --> */}\n              </div>\n            </div>\n\n            {/* <!-- image Modal --> */}\n            <div id=\"myModal\" className=\"modal fade post-image-modal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\"\n              aria-hidden=\"true\">\n              <div className=\"modal-dialog\">\n                <div className=\"modal-content\">\n                  <div className=\"modal-body\">\n                    <img src={GetAssetImage(\"post-image@2x.png\")} className=\"img-responsive\" />\n                  </div>\n                </div>\n              </div>\n            </div>\n            {/* <!-- end image Modal --> */}\n\n\n\n            {/* <!-- Hide Modal --> */}\n            <div className=\"modal fade dropdownModal\" id=\"dropdownHideModal\" tabIndex=\"-1\" role=\"dialog\"\n              aria-labelledby=\"dropdownHideModalCenterTitle\" aria-hidden=\"true\">\n              <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div className=\"modal-content\">\n                  <div className=\"modal-header d-flex align-items-center\">\n                    <img src={GetAssetImage(\"plus-icon.png\")} alt=\"\" />\n                    <h5 className=\"modal-title\" id=\"dropdownHideModalLongTitle\">Confirmation</h5>\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                      <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                  </div>\n                  <div className=\"modal-body\">\n                    <p>Do you really want to see this post ever again?</p>\n                  </div>\n                  <div className=\"modal-footer\">\n                    <button type=\"button\" className=\"btn btn-secondary cancel-btn\" data-dismiss=\"modal\">Cancel</button>\n                    <button type=\"button\" className=\"btn btn-primary yes-btn\">Yes</button>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n\n            {/* <!-- Remove Modal --> */}\n            <div className=\"modal fade dropdownModal\" id=\"dropdownRemoveModal\" tabIndex=\"-1\" role=\"dialog\"\n              aria-labelledby=\"dropdownRemoveModalCenterTitle\" aria-hidden=\"true\">\n              <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div className=\"modal-content\">\n                  <div className=\"modal-header d-flex align-items-center\">\n                    <img src={GetAssetImage(\"plus-icon.png\")} alt=\"\" />\n                    <h5 className=\"modal-title\" id=\"dropdownRemoveModalLongTitle\">Confirmation</h5>\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                      <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                  </div>\n                  <div className=\"modal-body\">\n                    <p>Do you really want to remove this post?</p>\n                  </div>\n                  <div className=\"modal-footer\">\n                    <button type=\"button\" className=\"btn btn-secondary cancel-btn\" data-dismiss=\"modal\">Cancel</button>\n                    <button type=\"button\" className=\"btn btn-primary yes-btn\">Yes</button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            </div>\n\n      )\n    }\n}\n\nexport default SinglePost;\n"],"sourceRoot":""}