{"version":3,"sources":["pages/Wallet/index.js"],"names":["WalletDashboard","props","componentDidMount","checkWallet","kycStatus","window","localStorage","getItem","setState","loading","status","allPairs","walletCheck","then","resp","setItem","data","undefined","err","error","JSON","parse","coins","getAllPairs","a","stringify","toString","state","attempt","tabContent","currentTab","className","this","map","e","i","key","currencySymbol","src","config","walletImgUrl","image","currencyName","krakenBalance","href","kyc","React","Component"],"mappings":"sTAWMA,G,yDACF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAYVC,kBAAoB,WAChB,EAAKC,eAdU,EAiBnBA,YAAc,WACV,IAAIC,EAAYC,OAAOC,aAAaC,QAAQ,aAC5B,MAAbH,IACCA,EAAYA,EACZ,EAAKI,SAAS,CACVC,SAAQ,EACRC,OAASN,IACV,WACC,EAAKO,eAGbC,cAAcC,MAAK,SAAAC,GACfT,OAAOC,aAAaS,QAAQ,YAAaD,EAAKE,KAAKN,QACnD,EAAKF,SAAS,CACVC,SAAQ,EACRC,YAA8BO,GAApBH,EAAKE,KAAKN,OAAuB,GAAKI,EAAKE,KAAKN,SAC3D,WACC,EAAKC,iBAEV,SAAAO,GACC,EAAKV,SAAS,CACVC,SAAQ,EACRU,MAAO,8BAvCA,EA4CnBR,SAAW,WACP,IAAIA,EAAWN,OAAOC,aAAaC,QAAQ,YAC5B,MAAZI,IACCA,EAAWS,KAAKC,MAAMV,GACtB,EAAKH,SAAS,CACVC,SAAQ,EACRa,MAAOX,EACPQ,MAAO,MAGfI,cAAcV,KAAd,uCAAmB,WAAMC,GAAN,SAAAU,EAAA,sDACf,EAAKhB,SAAS,CACVC,SAAQ,EACRa,MAAOR,EAAKE,KACZG,MAAO,KAEXd,OAAOC,aAAaS,QAAQ,WAAYK,KAAKK,UAAUX,EAAKE,OAN7C,2CAAnB,uDAOG,SAAAG,GACC,IACI,EAAKX,SAAS,CACVC,SAAS,EACTU,MAAOA,EAAMH,KAAKU,aAExB,MAAOP,GACL,EAAKX,SAAS,CACVC,SAAS,EACTU,MAAO,eApEnB,EAAKQ,MAAQ,CACTC,QAAS,EACTN,MAAO,GACPZ,OAAQ,GACRS,MAAM,GACNV,SAAS,EACToB,WAAa,UACbC,WAAY,GATD,E,qDA+Ef,OACI,yBAAKC,UAAU,0CACX,yBAAKA,UAAU,YAGX,yBAAKA,UAAU,sDACX,kBAAC,IAAeC,KAAK/B,QAKzB,yBAAK8B,UAAU,oDACf,kBAAC,IAAqBC,KAAK/B,OACvB,wBAAI8B,UAAU,SAAd,aACCC,KAAKL,MAAMlB,QAAU,kBAAC,IAAD,MAAc,yBAAKsB,UAAU,iCAEvB,IAApBC,KAAKL,MAAMR,MACX,uBAAGY,UAAU,eAAeC,KAAKL,MAAMR,OAEvCa,KAAKL,MAAML,OAASU,KAAKL,MAAML,MAAMW,KAAI,SAACC,EAAGC,GACzC,OAAO,yBAAKJ,UAAU,iBAAiBK,IAAKD,GAAG,yBAAKJ,UAAU,cACnE,yBAAKA,UAAU,oBACX,yBAAKA,UAAU,UAAUG,EAAEG,gBAC3B,yBAAKC,IAAKC,IAAOC,aAAaN,EAAEO,SAEpC,yBAAKV,UAAU,4BACX,wBAAIA,UAAU,YAAYG,EAAEQ,cAC5B,yBAAKX,UAAU,WAAWG,EAAES,gBAEhC,yBAAKZ,UAAU,aACX,kBAAC,IAAD,CAAGa,KAAM,mBAAmBV,EAAEG,gBAA9B,WAGA,kBAAC,IAAD,CAAGO,KAAM,oBAAoBV,EAAEG,gBAA/B,YAGA,kBAAC,IAAD,CAAGO,KAAM,oBAAoBV,EAAEG,gBAA/B,qBAkBbL,KAAKL,MAAMlB,SAAW,yBAAKsB,UAAU,uDACvC,kBAAC,IAAD,MACsB,IAAlBC,KAAKL,MAAMkB,KAAa,yBAAKd,UAAU,iBACpC,mDACA,yBAAKA,UAAU,qDACX,8EACA,kBAAC,IAAD,CAAGa,KAAK,wBAAuB,4BAAQb,UAAU,OAAlB,iBAGhB,WAArBC,KAAKL,MAAMjB,QAAuB,yBAAKqB,UAAU,4BAC/C,mDACA,yBAAKA,UAAU,qDACX,uBAAGA,UAAU,aAAb,6DAIR,yBAAKA,UAAU,oB,GAtJRe,IAAMC,YAgKrB/C","file":"static/js/71.4032fdd3.chunk.js","sourcesContent":["import React from 'react';\nimport A from '../../components/A';\nimport WalletMenu from '../../components/Menu/WalletMenu';\nimport WalletMenuMobile from '../../components/Menu/WalletMenuMobile';\nimport Spinner from '../../components/Spinner';\nimport WalletAllBalance from '../../components/Wallet/allBalance';\nimport config from '../../config/index';\nimport walletCheck from '../../hooks/walletCheck';\nimport { getAllPairs } from '../../http/wallet-calls';\nimport './styles.css';\n\nclass WalletDashboard extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            attempt: 0,\n            coins: [],\n            status: '',\n            error:'',\n            loading: true,\n            tabContent : 'loading',\n            currentTab: 0\n        };\n    }\n\n    componentDidMount = () => {\n        this.checkWallet();\n    };\n\n    checkWallet = () => {\n        var kycStatus = window.localStorage.getItem(\"kycStatus\");\n        if(kycStatus != null){\n            kycStatus = kycStatus;\n            this.setState({\n                loading:false,\n                status : kycStatus\n            }, () => {\n                this.allPairs();\n            }); \n        }\n        walletCheck().then(resp=>{\n            window.localStorage.setItem(\"kycStatus\", resp.data.status);\n            this.setState({\n                loading:false,\n                status : (resp.data.status == undefined) ? '' : resp.data.status\n            }, () => {\n                this.allPairs();\n            });\n        }, err => {\n            this.setState({\n                loading:false,\n                error: 'Authentication Error!'\n            })\n        })\n    };\n\n    allPairs = () =>{\n        var allPairs = window.localStorage.getItem(\"allPairs\");\n        if(allPairs != null){\n            allPairs = JSON.parse(allPairs);\n            this.setState({\n                loading:false,\n                coins: allPairs,\n                error: ''\n            });\n        }\n        getAllPairs().then(async resp => {\n            this.setState({\n                loading:false,\n                coins: resp.data,\n                error: ''\n            });\n            window.localStorage.setItem(\"allPairs\", JSON.stringify(resp.data));\n        }, error => {\n            try {\n                this.setState({\n                    loading: false,\n                    error: error.data.toString()\n                });\n            } catch (error) {\n                this.setState({\n                    loading: false,\n                    error: \"Error\"\n                });\n            }\n            \n        });\n    }\n\n    render() {\n\n        return (\n            <div className=\"container my-wall-container walletPage\">\n                <div className=\"row mt-2\">\n\n                    {/* <!-- left column --> */}\n                    <div className=\"col-sm empty-container-with-out-border left-column\">\n                        <WalletMenu {...this.props} />\n                    </div>\n                    {/* <!-- end left column --> */}\n\n                    {/* <!-- center column --> */}\n                    <div className=\"col-sm empty-container-with-border center-column\">\n                    <WalletMenuMobile {...this.props} />\n                        <h1 className=\"title\">My Wallet</h1>\n                        {this.state.loading ? <Spinner /> : <div className=\"center-inner wallet-dashboard\">\n                            {\n                                this.state.error != '' ? \n                                <p className=\"text-danger\">{this.state.error}</p>\n                                :\n                                this.state.coins && this.state.coins.map((e, i) => {\n                                    return <div className=\"walletItemHold\" key={i}><div className=\"walletItem\">\n                               <div className=\"flex-row-between\">\n                                   <div className=\"symbol\">{e.currencySymbol}</div>\n                                   <img src={config.walletImgUrl+e.image} />\n                               </div>\n                               <div className=\"flex-row-between mt-auto\">\n                                   <h4 className=\"currency\">{e.currencyName}</h4>\n                                   <div className=\"balance\">{e.krakenBalance}</div>\n                               </div>\n                               <div className=\"actionBar\">\n                                   <A href={\"/wallet/deposit/\"+e.currencySymbol}>\n                                       Deposit\n                                   </A>\n                                   <A href={\"/wallet/withdraw/\"+e.currencySymbol}>\n                                       Withdraw\n                                   </A>\n                                   <A href={\"/wallet/transfer/\"+e.currencySymbol}>\n                                       Transfer\n                                   </A>\n\n                               </div>\n                           </div></div>\n\n                                })\n                            }\n                           \n                           \n                        </div> }\n\n                        \n                    </div>\n                    {/* <!-- end center column --> */}\n\n                    {/* <!--  right column --> */}\n                    {!this.state.loading && <div className=\"col-sm empty-container-with-out-border right-column\">\n                    <WalletAllBalance />\n                       {this.state.kyc == '' && <div className=\"row secureDiv\">\n                           <h3>Secure Your Account</h3>\n                           <div className=\"d-flex align-items-center justify-content-between\">\n                               <p>Itendity Proof and Bank Verification is PENDING</p>\n                               <A href=\"/wallet/verification\"><button className=\"btn\">Verify Now</button></A>\n                           </div>\n                        </div> }\n                        {this.state.status == 'Pending' && <div className=\"row secureDiv bg-warning\">\n                           <h3>Secure Your Account</h3>\n                           <div className=\"d-flex align-items-center justify-content-between\">\n                               <p className=\"text-dark\">Itendity Proof and Bank Verification is Being Processed</p>\n                               {/* <A href=\"/wallet/verification\"><button className=\"btn\">Verify Now</button></A> */}\n                           </div>\n                        </div> }\n                       <div className=\"row mt-4\">\n                       </div>\n                       \n                   </div>}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default WalletDashboard;\n"],"sourceRoot":""}